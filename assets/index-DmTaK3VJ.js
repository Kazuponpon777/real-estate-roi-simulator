var BC=e=>{throw TypeError(e)};var X0=(e,t,n)=>t.has(e)||BC("Cannot "+n);var qe=(e,t,n)=>(X0(e,t,"read from private field"),n?n.call(e):t.get(e)),va=(e,t,n)=>t.has(e)?BC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Fi=(e,t,n,i)=>(X0(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),ya=(e,t,n)=>(X0(e,t,"access private method"),n);var zC=(e,t,n,i)=>({set _(r){Fi(e,t,r,n)},get _(){return qe(e,t,i)}});function bz(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function Ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q0={exports:{}},Xd={};var FC;function xz(){if(FC)return Xd;FC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var c in r)c!=="key"&&(a[c]=r[c])}else a=r;return r=a.ref,{$$typeof:e,type:i,key:o,ref:r!==void 0?r:null,props:a}}return Xd.Fragment=t,Xd.jsx=n,Xd.jsxs=n,Xd}var UC;function _z(){return UC||(UC=1,Q0.exports=xz()),Q0.exports}var E=_z(),J0={exports:{}},Vt={};var HC;function wz(){if(HC)return Vt;HC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function b(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function O(U,X,ut){this.props=U,this.context=X,this.refs=C,this.updater=ut||A}O.prototype.isReactComponent={},O.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},O.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function k(){}k.prototype=O.prototype;function M(U,X,ut){this.props=U,this.context=X,this.refs=C,this.updater=ut||A}var j=M.prototype=new k;j.constructor=M,w(j,O.prototype),j.isPureReactComponent=!0;var I=Array.isArray;function R(){}var z={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function W(U,X,ut){var gt=ut.ref;return{$$typeof:e,type:U,key:X,ref:gt!==void 0?gt:null,props:ut}}function et(U,X){return W(U.type,X,U.props)}function Y(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function q(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ut){return X[ut]})}var yt=/\/+/g;function ct(U,X){return typeof U=="object"&&U!==null&&U.key!=null?q(""+U.key):X.toString(36)}function xt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(R,R):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function $(U,X,ut,gt,_t){var wt=typeof U;(wt==="undefined"||wt==="boolean")&&(U=null);var At=!1;if(U===null)At=!0;else switch(wt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(U.$$typeof){case e:case t:At=!0;break;case p:return At=U._init,$(At(U._payload),X,ut,gt,_t)}}if(At)return _t=_t(U),At=gt===""?"."+ct(U,0):gt,I(_t)?(ut="",At!=null&&(ut=At.replace(yt,"$&/")+"/"),$(_t,X,ut,"",function(Rt){return Rt})):_t!=null&&(Y(_t)&&(_t=et(_t,ut+(_t.key==null||U&&U.key===_t.key?"":(""+_t.key).replace(yt,"$&/")+"/")+At)),X.push(_t)),1;At=0;var Yt=gt===""?".":gt+":";if(I(U))for(var dt=0;dt<U.length;dt++)gt=U[dt],wt=Yt+ct(gt,dt),At+=$(gt,X,ut,wt,_t);else if(dt=b(U),typeof dt=="function")for(U=dt.call(U),dt=0;!(gt=U.next()).done;)gt=gt.value,wt=Yt+ct(gt,dt++),At+=$(gt,X,ut,wt,_t);else if(wt==="object"){if(typeof U.then=="function")return $(xt(U),X,ut,gt,_t);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return At}function Q(U,X,ut){if(U==null)return U;var gt=[],_t=0;return $(U,gt,"","",function(wt){return X.call(ut,wt,_t++)}),gt}function nt(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ut){(U._status===0||U._status===-1)&&(U._status=1,U._result=ut)},function(ut){(U._status===0||U._status===-1)&&(U._status=2,U._result=ut)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var bt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Z={map:Q,forEach:function(U,X,ut){Q(U,function(){X.apply(this,arguments)},ut)},count:function(U){var X=0;return Q(U,function(){X++}),X},toArray:function(U){return Q(U,function(X){return X})||[]},only:function(U){if(!Y(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Vt.Activity=m,Vt.Children=Z,Vt.Component=O,Vt.Fragment=n,Vt.Profiler=r,Vt.PureComponent=M,Vt.StrictMode=i,Vt.Suspense=d,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return z.H.useMemoCache(U)}},Vt.cache=function(U){return function(){return U.apply(null,arguments)}},Vt.cacheSignal=function(){return null},Vt.cloneElement=function(U,X,ut){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var gt=w({},U.props),_t=U.key;if(X!=null)for(wt in X.key!==void 0&&(_t=""+X.key),X)!H.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(gt[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)gt.children=ut;else if(1<wt){for(var At=Array(wt),Yt=0;Yt<wt;Yt++)At[Yt]=arguments[Yt+2];gt.children=At}return W(U.type,_t,gt)},Vt.createContext=function(U){return U={$$typeof:o,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:a,_context:U},U},Vt.createElement=function(U,X,ut){var gt,_t={},wt=null;if(X!=null)for(gt in X.key!==void 0&&(wt=""+X.key),X)H.call(X,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(_t[gt]=X[gt]);var At=arguments.length-2;if(At===1)_t.children=ut;else if(1<At){for(var Yt=Array(At),dt=0;dt<At;dt++)Yt[dt]=arguments[dt+2];_t.children=Yt}if(U&&U.defaultProps)for(gt in At=U.defaultProps,At)_t[gt]===void 0&&(_t[gt]=At[gt]);return W(U,wt,_t)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(U){return{$$typeof:c,render:U}},Vt.isValidElement=Y,Vt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:nt}},Vt.memo=function(U,X){return{$$typeof:f,type:U,compare:X===void 0?null:X}},Vt.startTransition=function(U){var X=z.T,ut={};z.T=ut;try{var gt=U(),_t=z.S;_t!==null&&_t(ut,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(R,bt)}catch(wt){bt(wt)}finally{X!==null&&ut.types!==null&&(X.types=ut.types),z.T=X}},Vt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Vt.use=function(U){return z.H.use(U)},Vt.useActionState=function(U,X,ut){return z.H.useActionState(U,X,ut)},Vt.useCallback=function(U,X){return z.H.useCallback(U,X)},Vt.useContext=function(U){return z.H.useContext(U)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(U,X){return z.H.useDeferredValue(U,X)},Vt.useEffect=function(U,X){return z.H.useEffect(U,X)},Vt.useEffectEvent=function(U){return z.H.useEffectEvent(U)},Vt.useId=function(){return z.H.useId()},Vt.useImperativeHandle=function(U,X,ut){return z.H.useImperativeHandle(U,X,ut)},Vt.useInsertionEffect=function(U,X){return z.H.useInsertionEffect(U,X)},Vt.useLayoutEffect=function(U,X){return z.H.useLayoutEffect(U,X)},Vt.useMemo=function(U,X){return z.H.useMemo(U,X)},Vt.useOptimistic=function(U,X){return z.H.useOptimistic(U,X)},Vt.useReducer=function(U,X,ut){return z.H.useReducer(U,X,ut)},Vt.useRef=function(U){return z.H.useRef(U)},Vt.useState=function(U){return z.H.useState(U)},Vt.useSyncExternalStore=function(U,X,ut){return z.H.useSyncExternalStore(U,X,ut)},Vt.useTransition=function(){return z.H.useTransition()},Vt.version="19.2.4",Vt}var $C;function Du(){return $C||($C=1,J0.exports=wz()),J0.exports}var P=Du();const Yr=Ia(P),Az=bz({__proto__:null,default:Yr},[P]);var tb={exports:{}},Qd={},eb={exports:{}},nb={};var GC;function Sz(){return GC||(GC=1,(function(e){function t($,Q){var nt=$.length;$.push(Q);t:for(;0<nt;){var bt=nt-1>>>1,Z=$[bt];if(0<r(Z,Q))$[bt]=Q,$[nt]=Z,nt=bt;else break t}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Q=$[0],nt=$.pop();if(nt!==Q){$[0]=nt;t:for(var bt=0,Z=$.length,U=Z>>>1;bt<U;){var X=2*(bt+1)-1,ut=$[X],gt=X+1,_t=$[gt];if(0>r(ut,nt))gt<Z&&0>r(_t,ut)?($[bt]=_t,$[gt]=nt,bt=gt):($[bt]=ut,$[X]=nt,bt=X);else if(gt<Z&&0>r(_t,nt))$[bt]=_t,$[gt]=nt,bt=gt;else break t}}return Q}function r($,Q){var nt=$.sortIndex-Q.sortIndex;return nt!==0?nt:$.id-Q.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],f=[],p=1,m=null,y=3,b=!1,A=!1,w=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function j($){for(var Q=n(f);Q!==null;){if(Q.callback===null)i(f);else if(Q.startTime<=$)i(f),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(f)}}function I($){if(w=!1,j($),!A)if(n(d)!==null)A=!0,R||(R=!0,q());else{var Q=n(f);Q!==null&&xt(I,Q.startTime-$)}}var R=!1,z=-1,H=5,W=-1;function et(){return C?!0:!(e.unstable_now()-W<H)}function Y(){if(C=!1,R){var $=e.unstable_now();W=$;var Q=!0;try{t:{A=!1,w&&(w=!1,k(z),z=-1),b=!0;var nt=y;try{e:{for(j($),m=n(d);m!==null&&!(m.expirationTime>$&&et());){var bt=m.callback;if(typeof bt=="function"){m.callback=null,y=m.priorityLevel;var Z=bt(m.expirationTime<=$);if($=e.unstable_now(),typeof Z=="function"){m.callback=Z,j($),Q=!0;break e}m===n(d)&&i(d),j($)}else i(d);m=n(d)}if(m!==null)Q=!0;else{var U=n(f);U!==null&&xt(I,U.startTime-$),Q=!1}}break t}finally{m=null,y=nt,b=!1}Q=void 0}}finally{Q?q():R=!1}}}var q;if(typeof M=="function")q=function(){M(Y)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,ct=yt.port2;yt.port1.onmessage=Y,q=function(){ct.postMessage(null)}}else q=function(){O(Y,0)};function xt($,Q){z=O(function(){$(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function($){switch(y){case 1:case 2:case 3:var Q=3;break;default:Q=y}var nt=y;y=Q;try{return $()}finally{y=nt}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var nt=y;y=$;try{return Q()}finally{y=nt}},e.unstable_scheduleCallback=function($,Q,nt){var bt=e.unstable_now();switch(typeof nt=="object"&&nt!==null?(nt=nt.delay,nt=typeof nt=="number"&&0<nt?bt+nt:bt):nt=bt,$){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=nt+Z,$={id:p++,callback:Q,priorityLevel:$,startTime:nt,expirationTime:Z,sortIndex:-1},nt>bt?($.sortIndex=nt,t(f,$),n(d)===null&&$===n(f)&&(w?(k(z),z=-1):w=!0,xt(I,nt-bt))):($.sortIndex=Z,t(d,$),A||b||(A=!0,R||(R=!0,q()))),$},e.unstable_shouldYield=et,e.unstable_wrapCallback=function($){var Q=y;return function(){var nt=y;y=Q;try{return $.apply(this,arguments)}finally{y=nt}}}})(nb)),nb}var qC;function Ez(){return qC||(qC=1,eb.exports=Sz()),eb.exports}var ib={exports:{}},hi={};var VC;function Cz(){if(VC)return hi;VC=1;var e=Du();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hi.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(d,f,null,p)},hi.flushSync=function(d){var f=o.T,p=i.p;try{if(o.T=null,i.p=2,d)return d()}finally{o.T=f,i.p=p,i.d.f()}},hi.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},hi.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},hi.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:b}):p==="script"&&i.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},hi.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},hi.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=c(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},hi.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},hi.requestFormReset=function(d){i.d.r(d)},hi.unstable_batchedUpdates=function(d,f){return d(f)},hi.useFormState=function(d,f,p){return o.H.useFormState(d,f,p)},hi.useFormStatus=function(){return o.H.useHostTransitionStatus()},hi.version="19.2.4",hi}var WC;function $N(){if(WC)return ib.exports;WC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ib.exports=Cz(),ib.exports}var YC;function Tz(){if(YC)return Qd;YC=1;var e=Ez(),t=Du(),n=$N();function i(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function c(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(i(188))}function f(s){var l=s.alternate;if(!l){if(l=a(s),l===null)throw Error(i(188));return l!==s?null:s}for(var h=s,v=l;;){var _=h.return;if(_===null)break;var S=_.alternate;if(S===null){if(v=_.return,v!==null){h=v;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===h)return d(_),s;if(S===v)return d(_),l;S=S.sibling}throw Error(i(188))}if(h.return!==v.return)h=_,v=S;else{for(var D=!1,F=_.child;F;){if(F===h){D=!0,h=_,v=S;break}if(F===v){D=!0,v=_,h=S;break}F=F.sibling}if(!D){for(F=S.child;F;){if(F===h){D=!0,h=S,v=_;break}if(F===v){D=!0,v=S,h=_;break}F=F.sibling}if(!D)throw Error(i(189))}}if(h.alternate!==v)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function q(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var yt=Symbol.for("react.client.reference");function ct(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===yt?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case O:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList";case W:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case M:return s.displayName||"Context";case k:return(s._context.displayName||"Context")+".Consumer";case j:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return l=s.displayName||null,l!==null?l:ct(s.type)||"Memo";case H:l=s._payload,s=s._init;try{return ct(s(l))}catch{}}return null}var xt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt={pending:!1,data:null,method:null,action:null},bt=[],Z=-1;function U(s){return{current:s}}function X(s){0>Z||(s.current=bt[Z],bt[Z]=null,Z--)}function ut(s,l){Z++,bt[Z]=s.current,s.current=l}var gt=U(null),_t=U(null),wt=U(null),At=U(null);function Yt(s,l){switch(ut(wt,l),ut(_t,s),ut(gt,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?oC(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=oC(l),s=lC(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(gt),ut(gt,s)}function dt(){X(gt),X(_t),X(wt)}function Rt(s){s.memoizedState!==null&&ut(At,s);var l=gt.current,h=lC(l,s.type);l!==h&&(ut(_t,s),ut(gt,h))}function Bt(s){_t.current===s&&(X(gt),X(_t)),At.current===s&&(X(At),Wd._currentValue=nt)}var vt,He;function Jt(s){if(vt===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);vt=l&&l[1]||"",He=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vt+s+He}var yn=!1;function bn(s,l){if(!s||yn)return"";yn=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(l){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(lt){var ot=lt}Reflect.construct(s,[],mt)}else{try{mt.call()}catch(lt){ot=lt}s.call(mt.prototype)}}else{try{throw Error()}catch(lt){ot=lt}(mt=s())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(lt){if(lt&&ot&&typeof lt.stack=="string")return[lt.stack,ot.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=v.DetermineComponentFrameRoot(),D=S[0],F=S[1];if(D&&F){var V=D.split(`
`),at=F.split(`
`);for(_=v=0;v<V.length&&!V[v].includes("DetermineComponentFrameRoot");)v++;for(;_<at.length&&!at[_].includes("DetermineComponentFrameRoot");)_++;if(v===V.length||_===at.length)for(v=V.length-1,_=at.length-1;1<=v&&0<=_&&V[v]!==at[_];)_--;for(;1<=v&&0<=_;v--,_--)if(V[v]!==at[_]){if(v!==1||_!==1)do if(v--,_--,0>_||V[v]!==at[_]){var ht=`
`+V[v].replace(" at new "," at ");return s.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",s.displayName)),ht}while(1<=v&&0<=_);break}}}finally{yn=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?Jt(h):""}function Vi(s,l){switch(s.tag){case 26:case 27:case 5:return Jt(s.type);case 16:return Jt("Lazy");case 13:return s.child!==l&&l!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return bn(s.type,!1);case 11:return bn(s.type.render,!1);case 1:return bn(s.type,!0);case 31:return Jt("Activity");default:return""}}function ta(s){try{var l="",h=null;do l+=Vi(s,h),h=s,s=s.return;while(s);return l}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var Vu=Object.prototype.hasOwnProperty,dc=e.unstable_scheduleCallback,qo=e.unstable_cancelCallback,Tf=e.unstable_shouldYield,Of=e.unstable_requestPaint,vi=e.unstable_now,Jv=e.unstable_getCurrentPriorityLevel,hc=e.unstable_ImmediatePriority,Wu=e.unstable_UserBlockingPriority,Vo=e.unstable_NormalPriority,ty=e.unstable_LowPriority,Yu=e.unstable_IdlePriority,Pf=e.log,ey=e.unstable_setDisableYieldValue,js=null,Jn=null;function Dr(s){if(typeof Pf=="function"&&ey(s),Jn&&typeof Jn.setStrictMode=="function")try{Jn.setStrictMode(js,s)}catch{}}var yi=Math.clz32?Math.clz32:iy,Wo=Math.log,ny=Math.LN2;function iy(s){return s>>>=0,s===0?32:31-(Wo(s)/ny|0)|0}var Yo=256,Ko=262144,Zo=4194304;function Ha(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function fc(s,l,h){var v=s.pendingLanes;if(v===0)return 0;var _=0,S=s.suspendedLanes,D=s.pingedLanes;s=s.warmLanes;var F=v&134217727;return F!==0?(v=F&~S,v!==0?_=Ha(v):(D&=F,D!==0?_=Ha(D):h||(h=F&~s,h!==0&&(_=Ha(h))))):(F=v&~S,F!==0?_=Ha(F):D!==0?_=Ha(D):h||(h=v&~s,h!==0&&(_=Ha(h)))),_===0?0:l!==0&&l!==_&&(l&S)===0&&(S=_&-_,h=l&-l,S>=h||S===32&&(h&4194048)!==0)?l:_}function Xo(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function ry(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(){var s=Zo;return Zo<<=1,(Zo&62914560)===0&&(Zo=4194304),s}function Ku(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function $a(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ay(s,l,h,v,_,S){var D=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var F=s.entanglements,V=s.expirationTimes,at=s.hiddenUpdates;for(h=D&~h;0<h;){var ht=31-yi(h),mt=1<<ht;F[ht]=0,V[ht]=-1;var ot=at[ht];if(ot!==null)for(at[ht]=null,ht=0;ht<ot.length;ht++){var lt=ot[ht];lt!==null&&(lt.lane&=-536870913)}h&=~mt}v!==0&&Nf(s,v,0),S!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=S&~(D&~l))}function Nf(s,l,h){s.pendingLanes|=l,s.suspendedLanes&=~l;var v=31-yi(l);s.entangledLanes|=l,s.entanglements[v]=s.entanglements[v]|1073741824|h&261930}function kf(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var v=31-yi(h),_=1<<v;_&l|s[v]&l&&(s[v]|=l),h&=~_}}function Df(s,l){var h=l&-l;return h=(h&42)!==0?1:Oi(h),(h&(s.suspendedLanes|l))!==0?0:h}function Oi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function kt(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zu(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:NC(s.type))}function Xu(s,l){var h=Q.p;try{return Q.p=s,l()}finally{Q.p=h}}var jr=Math.random().toString(36).slice(2),xn="__reactFiber$"+jr,Un="__reactProps$"+jr,Ga="__reactContainer$"+jr,ea="__reactEvents$"+jr,jf="__reactListeners$"+jr,sy="__reactHandles$"+jr,Lf="__reactResources$"+jr,Qo="__reactMarker$"+jr;function Qu(s){delete s[xn],delete s[Un],delete s[ea],delete s[jf],delete s[sy]}function qa(s){var l=s[xn];if(l)return l;for(var h=s.parentNode;h;){if(l=h[Ga]||h[xn]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=mC(s);s!==null;){if(h=s[xn])return h;s=mC(s)}return l}s=h,h=s.parentNode}return null}function Ls(s){if(s=s[xn]||s[Ga]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function na(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(i(33))}function Rs(s){var l=s[Lf];return l||(l=s[Lf]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _n(s){s[Qo]=!0}var Rf=new Set,If={};function Va(s,l){ia(s,l),ia(s+"Capture",l)}function ia(s,l){for(If[s]=l,s=0;s<l.length;s++)Rf.add(l[s])}var Jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ju={},td={};function tl(s){return Vu.call(td,s)?!0:Vu.call(Ju,s)?!1:Jo.test(s)?td[s]=!0:(Ju[s]=!0,!1)}function te(s,l,h){if(tl(l))if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var v=l.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+h)}}function Te(s,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+h)}}function Pi(s,l,h,v){if(v===null)s.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(l,h,""+v)}}function Nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Wa(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ed(s,l,h){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var _=v.get,S=v.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return _.call(this)},set:function(D){h=""+D,S.call(this,D)}}),Object.defineProperty(s,l,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function qt(s){if(!s._valueTracker){var l=Wa(s)?"checked":"value";s._valueTracker=ed(s,l,""+s[l])}}function $e(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),v="";return s&&(v=Wa(s)?s.checked?"true":"false":s.value),s=v,s!==h?(l.setValue(s),!0):!1}function Is(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var pc=/[\n"\\]/g;function Be(s){return s.replace(pc,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function nd(s,l,h,v,_,S,D,F){s.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.type=D:s.removeAttribute("type"),l!=null?D==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Nn(l)):s.value!==""+Nn(l)&&(s.value=""+Nn(l)):D!=="submit"&&D!=="reset"||s.removeAttribute("value"),l!=null?Lr(s,D,Nn(l)):h!=null?Lr(s,D,Nn(h)):v!=null&&s.removeAttribute("value"),_==null&&S!=null&&(s.defaultChecked=!!S),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.name=""+Nn(F):s.removeAttribute("name")}function el(s,l,h,v,_,S,D,F){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),l!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||l!=null)){qt(s);return}h=h!=null?""+Nn(h):"",l=l!=null?""+Nn(l):h,F||l===s.value||(s.value=l),s.defaultValue=l}v=v??_,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=F?s.checked:!!v,s.defaultChecked=!!v,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(s.name=D),qt(s)}function Lr(s,l,h){l==="number"&&Is(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function De(s,l,h,v){if(s=s.options,l){l={};for(var _=0;_<h.length;_++)l["$"+h[_]]=!0;for(h=0;h<s.length;h++)_=l.hasOwnProperty("$"+s[h].value),s[h].selected!==_&&(s[h].selected=_),_&&v&&(s[h].defaultSelected=!0)}else{for(h=""+Nn(h),l=null,_=0;_<s.length;_++){if(s[_].value===h){s[_].selected=!0,v&&(s[_].defaultSelected=!0);return}l!==null||s[_].disabled||(l=s[_])}l!==null&&(l.selected=!0)}}function ra(s,l,h){if(l!=null&&(l=""+Nn(l),l!==s.value&&(s.value=l),h==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=h!=null?""+Nn(h):""}function Bs(s,l,h,v){if(l==null){if(v!=null){if(h!=null)throw Error(i(92));if(xt(v)){if(1<v.length)throw Error(i(93));v=v[0]}h=v}h==null&&(h=""),l=h}h=Nn(l),s.defaultValue=h,v=s.textContent,v===h&&v!==""&&v!==null&&(s.value=v),qt(s)}function cr(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(s,l,h){var v=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":v?s.setProperty(l,h):typeof h!="number"||h===0||id.has(l)?l==="float"?s.cssFloat=h:s[l]=(""+h).trim():s[l]=h+"px"}function mc(s,l,h){if(l!=null&&typeof l!="object")throw Error(i(62));if(s=s.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||l!=null&&l.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var _ in l)v=l[_],l.hasOwnProperty(_)&&h[_]!==v&&zs(s,_,v)}else for(var S in l)l.hasOwnProperty(S)&&zs(s,S,l[S])}function nl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(s){return rd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Mi(){}var vc=null;function il(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Us=null,zt=null;function Wi(s){var l=Ls(s);if(l&&(s=l.stateNode)){var h=s[Un]||null;t:switch(s=l.stateNode,l.type){case"input":if(nd(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Be(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var v=h[l];if(v!==s&&v.form===s.form){var _=v[Un]||null;if(!_)throw Error(i(90));nd(v,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(l=0;l<h.length;l++)v=h[l],v.form===s.form&&$e(v)}break t;case"textarea":ra(s,h.value,h.defaultValue);break t;case"select":l=h.value,l!=null&&De(s,!!h.multiple,l,!1)}}}var _e=!1;function ad(s,l,h){if(_e)return s(l,h);_e=!0;try{var v=s(l);return v}finally{if(_e=!1,(Us!==null||zt!==null)&&(Dp(),Us&&(l=Us,s=zt,zt=Us=null,Wi(l),s)))for(l=0;l<s.length;l++)Wi(s[l])}}function Ya(s,l){var h=s.stateNode;if(h===null)return null;var v=h[Un]||null;if(v===null)return null;h=v[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break t;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(i(231,l,typeof h));return h}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rl=!1;if(Yi)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){rl=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{rl=!1}var ur=null,Ka=null,nn=null;function aa(){if(nn)return nn;var s,l=Ka,h=l.length,v,_="value"in ur?ur.value:ur.textContent,S=_.length;for(s=0;s<h&&l[s]===_[s];s++);var D=h-s;for(v=1;v<=D&&l[h-v]===_[S-v];v++);return nn=_.slice(s,1<v?1-v:void 0)}function al(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function sl(){return!0}function Bf(){return!1}function ti(s){function l(h,v,_,S,D){this._reactName=h,this._targetInst=_,this.type=v,this.nativeEvent=S,this.target=D,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(h=s[F],this[F]=h?h(S):S[F]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?sl:Bf,this.isPropagationStopped=Bf,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),l}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yc=ti(Rr),Hs=m({},Rr,{view:0,detail:0}),re=ti(Hs),sd,bi,Ir,ol=m({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ir&&(Ir&&s.type==="mousemove"?(sd=s.screenX-Ir.screenX,bi=s.screenY-Ir.screenY):bi=sd=0,Ir=s),sd)},movementY:function(s){return"movementY"in s?s.movementY:bi}}),zf=ti(ol),od=m({},ol,{dataTransfer:0}),oy=ti(od),Ff=m({},Hs,{relatedTarget:0}),ld=ti(Ff),ly=m({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),cd=ti(ly),cy=m({},Rr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),dr=ti(cy),uy=m({},Rr,{data:0}),ud=ti(uy),sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Hf[s])?!!l[s]:!1}function hd(){return dd}var $f=m({},Hs,{key:function(s){if(s.key){var l=sa[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=al(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Uf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(s){return s.type==="keypress"?al(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?al(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gf=ti($f),dy=m({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qf=ti(dy),fd=m({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),hy=ti(fd),Vf=m({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wf=ti(Vf),bc=m({},ol,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=ti(bc),fy=m({},Rr,{newState:0,oldState:0}),ll=ti(fy),Ni=[9,13,27,32],xc=Yi&&"CompositionEvent"in window,$s=null;Yi&&"documentMode"in document&&($s=document.documentMode);var py=Yi&&"TextEvent"in window&&!$s,_c=Yi&&(!xc||$s&&8<$s&&11>=$s),wc=" ",Yf=!1;function Kf(s,l){switch(s){case"keyup":return Ni.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Gs=!1;function Zi(s,l){switch(s){case"compositionend":return pd(l);case"keypress":return l.which!==32?null:(Yf=!0,wc);case"textInput":return s=l.data,s===wc&&Yf?null:s;default:return null}}function qs(s,l){if(Gs)return s==="compositionend"||!xc&&Kf(s,l)?(s=aa(),nn=Ka=ur=null,Gs=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return _c&&l.locale!=="ko"?null:l.data;default:return null}}var my={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hr(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!my[s.type]:l==="textarea"}function Zf(s,l,h,v){Us?zt?zt.push(v):zt=[v]:Us=v,l=Fp(l,"onChange"),0<l.length&&(h=new yc("onChange","change",null,h,v),s.push({event:h,listeners:l}))}var fr=null,cl=null;function ul(s){eC(s,0)}function dl(s){var l=na(s);if($e(l))return s}function hl(s,l){if(s==="change")return l}var Xf=!1;if(Yi){var pr;if(Yi){var Vs="oninput"in document;if(!Vs){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),Vs=typeof Qf.oninput=="function"}pr=Vs}else pr=!1;Xf=pr&&(!document.documentMode||9<document.documentMode)}function Ac(){fr&&(fr.detachEvent("onpropertychange",Jf),cl=fr=null)}function Jf(s){if(s.propertyName==="value"&&dl(cl)){var l=[];Zf(l,cl,s,il(s)),ad(ul,l)}}function Br(s,l,h){s==="focusin"?(Ac(),fr=l,cl=h,fr.attachEvent("onpropertychange",Jf)):s==="focusout"&&Ac()}function gy(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return dl(cl)}function Ws(s,l){if(s==="click")return dl(l)}function vy(s,l){if(s==="input"||s==="change")return dl(l)}function zr(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var Hn=typeof Object.is=="function"?Object.is:zr;function Ys(s,l){if(Hn(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),v=Object.keys(l);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var _=h[v];if(!Vu.call(l,_)||!Hn(s[_],l[_]))return!1}return!0}function Sc(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fl(s,l){var h=Sc(s);s=0;for(var v;h;){if(h.nodeType===3){if(v=s+h.textContent.length,s<=l&&v>=l)return{node:h,offset:l-s};s=v}t:{for(;h;){if(h.nextSibling){h=h.nextSibling;break t}h=h.parentNode}h=void 0}h=Sc(h)}}function Ec(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?Ec(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function pl(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Is(s.document);l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=Is(s.document)}return l}function oa(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var Cc=Yi&&"documentMode"in document&&11>=document.documentMode,la=null,Tc=null,ml=null,Ks=!1;function tp(s,l,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ks||la==null||la!==Is(v)||(v=la,"selectionStart"in v&&oa(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),ml&&Ys(ml,v)||(ml=v,v=Fp(Tc,"onSelect"),0<v.length&&(l=new yc("onSelect","select",null,l,h),s.push({event:l,listeners:v}),l.target=la)))}function ca(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Zs={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},Oc={},ep={};Yi&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function $n(s){if(Oc[s])return Oc[s];if(!Zs[s])return s;var l=Zs[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in ep)return Oc[s]=l[h];return s}var gl=$n("animationend"),np=$n("animationiteration"),vl=$n("animationstart"),yy=$n("transitionrun"),ip=$n("transitionstart"),by=$n("transitioncancel"),Xs=$n("transitionend"),rp=new Map,ua="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ua.push("scrollEnd");function ki(s,l){rp.set(s,l),Va(l,[s])}var yl=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Di=[],ui=0,Pc=0;function bl(){for(var s=ui,l=Pc=ui=0;l<s;){var h=Di[l];Di[l++]=null;var v=Di[l];Di[l++]=null;var _=Di[l];Di[l++]=null;var S=Di[l];if(Di[l++]=null,v!==null&&_!==null){var D=v.pending;D===null?_.next=_:(_.next=D.next,D.next=_),v.pending=_}S!==0&&Qs(h,_,S)}}function da(s,l,h,v){Di[ui++]=s,Di[ui++]=l,Di[ui++]=h,Di[ui++]=v,Pc|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function md(s,l,h,v){return da(s,l,h,v),xl(s)}function mr(s,l){return da(s,null,null,l),xl(s)}function Qs(s,l,h){s.lanes|=h;var v=s.alternate;v!==null&&(v.lanes|=h);for(var _=!1,S=s.return;S!==null;)S.childLanes|=h,v=S.alternate,v!==null&&(v.childLanes|=h),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(_=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,_&&l!==null&&(_=31-yi(h),s=S.hiddenUpdates,v=s[_],v===null?s[_]=[l]:v.push(l),l.lane=h|536870912),S):null}function xl(s){if(50<Fd)throw Fd=0,_0=null,Error(i(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var Xa={};function xy(s,l,h,v){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(s,l,h,v){return new xy(s,l,h,v)}function Mc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gr(s,l){var h=s.alternate;return h===null?(h=di(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function gd(s,l){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,l=h.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function _l(s,l,h,v,_,S){var D=0;if(v=s,typeof s=="function")Mc(s)&&(D=1);else if(typeof s=="string")D=oz(s,h,gt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case W:return s=di(31,h,l,_),s.elementType=W,s.lanes=S,s;case w:return Qa(h.children,_,S,l);case C:D=8,_|=24;break;case O:return s=di(12,h,l,_|2),s.elementType=O,s.lanes=S,s;case I:return s=di(13,h,l,_),s.elementType=I,s.lanes=S,s;case R:return s=di(19,h,l,_),s.elementType=R,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:D=10;break t;case k:D=9;break t;case j:D=11;break t;case z:D=14;break t;case H:D=16,v=null;break t}D=29,h=Error(i(130,s===null?"null":typeof s,"")),v=null}return l=di(D,h,l,_),l.elementType=s,l.type=v,l.lanes=S,l}function Qa(s,l,h,v){return s=di(7,s,v,l),s.lanes=h,s}function Nc(s,l,h){return s=di(6,s,null,l),s.lanes=h,s}function vd(s){var l=di(18,null,null,0);return l.stateNode=s,l}function yd(s,l,h){return l=di(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var u=new WeakMap;function g(s,l){if(typeof s=="object"&&s!==null){var h=u.get(s);return h!==void 0?h:(l={value:s,source:l,stack:ta(l)},u.set(s,l),l)}return{value:s,source:l,stack:ta(l)}}var x=[],T=0,N=null,B=0,G=[],tt=0,st=null,pt=1,St="";function Dt(s,l){x[T++]=B,x[T++]=N,N=s,B=l}function Zt(s,l,h){G[tt++]=pt,G[tt++]=St,G[tt++]=st,st=s;var v=pt;s=St;var _=32-yi(v)-1;v&=~(1<<_),h+=1;var S=32-yi(l)+_;if(30<S){var D=_-_%5;S=(v&(1<<D)-1).toString(32),v>>=D,_-=D,pt=1<<32-yi(l)+_|h<<_|v,St=S+s}else pt=1<<S|h<<_|v,St=s}function kn(s){s.return!==null&&(Dt(s,1),Zt(s,1,0))}function rn(s){for(;s===N;)N=x[--T],x[T]=null,B=x[--T],x[T]=null;for(;s===st;)st=G[--tt],G[tt]=null,St=G[--tt],G[tt]=null,pt=G[--tt],G[tt]=null}function xi(s,l){G[tt++]=pt,G[tt++]=St,G[tt++]=st,pt=l.id,St=l.overflow,st=s}var ue=null,de=null,ee=!1,ha=null,ji=!1,kc=Error(i(519));function fa(s){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(g(l,s)),kc}function bd(s){var l=s.stateNode,h=s.type,v=s.memoizedProps;switch(l[xn]=s,l[Un]=v,h){case"dialog":ie("cancel",l),ie("close",l);break;case"iframe":case"object":case"embed":ie("load",l);break;case"video":case"audio":for(h=0;h<Hd.length;h++)ie(Hd[h],l);break;case"source":ie("error",l);break;case"img":case"image":case"link":ie("error",l),ie("load",l);break;case"details":ie("toggle",l);break;case"input":ie("invalid",l),el(l,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":ie("invalid",l);break;case"textarea":ie("invalid",l),Bs(l,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||v.suppressHydrationWarning===!0||aC(l.textContent,h)?(v.popover!=null&&(ie("beforetoggle",l),ie("toggle",l)),v.onScroll!=null&&ie("scroll",l),v.onScrollEnd!=null&&ie("scrollend",l),v.onClick!=null&&(l.onclick=Mi),l=!0):l=!1,l||fa(s,!0)}function Ze(s){for(ue=s.return;ue;)switch(ue.tag){case 5:case 31:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:ue=ue.return}}function Fr(s){if(s!==ue)return!1;if(!ee)return Ze(s),ee=!0,!1;var l=s.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||R0(s.type,s.memoizedProps)),h=!h),h&&de&&fa(s),Ze(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));de=pC(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));de=pC(s)}else l===27?(l=de,fo(s.type)?(s=U0,U0=null,de=s):de=l):de=ue?yr(s.stateNode.nextSibling):null;return!0}function Ja(){de=ue=null,ee=!1}function xd(){var s=ha;return s!==null&&(Bi===null?Bi=s:Bi.push.apply(Bi,s),ha=null),s}function wl(s){ha===null?ha=[s]:ha.push(s)}var Al=U(null),pa=null,Ur=null;function Js(s,l,h){ut(Al,l._currentValue),l._currentValue=h}function ts(s){s._currentValue=Al.current,X(Al)}function _y(s,l,h){for(;s!==null;){var v=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,v!==null&&(v.childLanes|=l)):v!==null&&(v.childLanes&l)!==l&&(v.childLanes|=l),s===h)break;s=s.return}}function wy(s,l,h,v){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var S=_.dependencies;if(S!==null){var D=_.child;S=S.firstContext;t:for(;S!==null;){var F=S;S=_;for(var V=0;V<l.length;V++)if(F.context===l[V]){S.lanes|=h,F=S.alternate,F!==null&&(F.lanes|=h),_y(S.return,h,s),v||(D=null);break t}S=F.next}}else if(_.tag===18){if(D=_.return,D===null)throw Error(i(341));D.lanes|=h,S=D.alternate,S!==null&&(S.lanes|=h),_y(D,h,s),D=null}else D=_.child;if(D!==null)D.return=_;else for(D=_;D!==null;){if(D===s){D=null;break}if(_=D.sibling,_!==null){_.return=D.return,D=_;break}D=D.return}_=D}}function Dc(s,l,h,v){s=null;for(var _=l,S=!1;_!==null;){if(!S){if((_.flags&524288)!==0)S=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var D=_.alternate;if(D===null)throw Error(i(387));if(D=D.memoizedProps,D!==null){var F=_.type;Hn(_.pendingProps.value,D.value)||(s!==null?s.push(F):s=[F])}}else if(_===At.current){if(D=_.alternate,D===null)throw Error(i(387));D.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(Wd):s=[Wd])}_=_.return}s!==null&&wy(l,s,h,v),l.flags|=262144}function ap(s){for(s=s.firstContext;s!==null;){if(!Hn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Sl(s){pa=s,Ur=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ei(s){return GA(pa,s)}function sp(s,l){return pa===null&&Sl(s),GA(s,l)}function GA(s,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Ur===null){if(s===null)throw Error(i(308));Ur=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ur=Ur.next=l;return h}var iB=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(h,v){s.push(v)}};this.abort=function(){l.aborted=!0,s.forEach(function(h){return h()})}},rB=e.unstable_scheduleCallback,aB=e.unstable_NormalPriority,wn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ay(){return{controller:new iB,data:new Map,refCount:0}}function _d(s){s.refCount--,s.refCount===0&&rB(aB,function(){s.controller.abort()})}var wd=null,Sy=0,jc=0,Lc=null;function sB(s,l){if(wd===null){var h=wd=[];Sy=0,jc=T0(),Lc={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Sy++,l.then(qA,qA),l}function qA(){if(--Sy===0&&wd!==null){Lc!==null&&(Lc.status="fulfilled");var s=wd;wd=null,jc=0,Lc=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function oB(s,l){var h=[],v={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return s.then(function(){v.status="fulfilled",v.value=l;for(var _=0;_<h.length;_++)(0,h[_])(l)},function(_){for(v.status="rejected",v.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),v}var VA=$.S;$.S=function(s,l){PE=vi(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&sB(s,l),VA!==null&&VA(s,l)};var El=U(null);function Ey(){var s=El.current;return s!==null?s:je.pooledCache}function op(s,l){l===null?ut(El,El.current):ut(El,l.pool)}function WA(){var s=Ey();return s===null?null:{parent:wn._currentValue,pool:s}}var Rc=Error(i(460)),Cy=Error(i(474)),lp=Error(i(542)),cp={then:function(){}};function YA(s){return s=s.status,s==="fulfilled"||s==="rejected"}function KA(s,l,h){switch(h=s[h],h===void 0?s.push(l):h!==l&&(l.then(Mi,Mi),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,XA(s),s;default:if(typeof l.status=="string")l.then(Mi,Mi);else{if(s=je,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=l,s.status="pending",s.then(function(v){if(l.status==="pending"){var _=l;_.status="fulfilled",_.value=v}},function(v){if(l.status==="pending"){var _=l;_.status="rejected",_.reason=v}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,XA(s),s}throw Tl=l,Rc}}function Cl(s){try{var l=s._init;return l(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Tl=h,Rc):h}}var Tl=null;function ZA(){if(Tl===null)throw Error(i(459));var s=Tl;return Tl=null,s}function XA(s){if(s===Rc||s===lp)throw Error(i(483))}var Ic=null,Ad=0;function up(s){var l=Ad;return Ad+=1,Ic===null&&(Ic=[]),KA(Ic,s,l)}function Sd(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function dp(s,l){throw l.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(l),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function QA(s){function l(J,K){if(s){var rt=J.deletions;rt===null?(J.deletions=[K],J.flags|=16):rt.push(K)}}function h(J,K){if(!s)return null;for(;K!==null;)l(J,K),K=K.sibling;return null}function v(J){for(var K=new Map;J!==null;)J.key!==null?K.set(J.key,J):K.set(J.index,J),J=J.sibling;return K}function _(J,K){return J=gr(J,K),J.index=0,J.sibling=null,J}function S(J,K,rt){return J.index=rt,s?(rt=J.alternate,rt!==null?(rt=rt.index,rt<K?(J.flags|=67108866,K):rt):(J.flags|=67108866,K)):(J.flags|=1048576,K)}function D(J){return s&&J.alternate===null&&(J.flags|=67108866),J}function F(J,K,rt,ft){return K===null||K.tag!==6?(K=Nc(rt,J.mode,ft),K.return=J,K):(K=_(K,rt),K.return=J,K)}function V(J,K,rt,ft){var jt=rt.type;return jt===w?ht(J,K,rt.props.children,ft,rt.key):K!==null&&(K.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===H&&Cl(jt)===K.type)?(K=_(K,rt.props),Sd(K,rt),K.return=J,K):(K=_l(rt.type,rt.key,rt.props,null,J.mode,ft),Sd(K,rt),K.return=J,K)}function at(J,K,rt,ft){return K===null||K.tag!==4||K.stateNode.containerInfo!==rt.containerInfo||K.stateNode.implementation!==rt.implementation?(K=yd(rt,J.mode,ft),K.return=J,K):(K=_(K,rt.children||[]),K.return=J,K)}function ht(J,K,rt,ft,jt){return K===null||K.tag!==7?(K=Qa(rt,J.mode,ft,jt),K.return=J,K):(K=_(K,rt),K.return=J,K)}function mt(J,K,rt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Nc(""+K,J.mode,rt),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return rt=_l(K.type,K.key,K.props,null,J.mode,rt),Sd(rt,K),rt.return=J,rt;case A:return K=yd(K,J.mode,rt),K.return=J,K;case H:return K=Cl(K),mt(J,K,rt)}if(xt(K)||q(K))return K=Qa(K,J.mode,rt,null),K.return=J,K;if(typeof K.then=="function")return mt(J,up(K),rt);if(K.$$typeof===M)return mt(J,sp(J,K),rt);dp(J,K)}return null}function ot(J,K,rt,ft){var jt=K!==null?K.key:null;if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return jt!==null?null:F(J,K,""+rt,ft);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case b:return rt.key===jt?V(J,K,rt,ft):null;case A:return rt.key===jt?at(J,K,rt,ft):null;case H:return rt=Cl(rt),ot(J,K,rt,ft)}if(xt(rt)||q(rt))return jt!==null?null:ht(J,K,rt,ft,null);if(typeof rt.then=="function")return ot(J,K,up(rt),ft);if(rt.$$typeof===M)return ot(J,K,sp(J,rt),ft);dp(J,rt)}return null}function lt(J,K,rt,ft,jt){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return J=J.get(rt)||null,F(K,J,""+ft,jt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case b:return J=J.get(ft.key===null?rt:ft.key)||null,V(K,J,ft,jt);case A:return J=J.get(ft.key===null?rt:ft.key)||null,at(K,J,ft,jt);case H:return ft=Cl(ft),lt(J,K,rt,ft,jt)}if(xt(ft)||q(ft))return J=J.get(rt)||null,ht(K,J,ft,jt,null);if(typeof ft.then=="function")return lt(J,K,rt,up(ft),jt);if(ft.$$typeof===M)return lt(J,K,rt,sp(K,ft),jt);dp(K,ft)}return null}function Mt(J,K,rt,ft){for(var jt=null,he=null,Nt=K,Xt=K=0,se=null;Nt!==null&&Xt<rt.length;Xt++){Nt.index>Xt?(se=Nt,Nt=null):se=Nt.sibling;var fe=ot(J,Nt,rt[Xt],ft);if(fe===null){Nt===null&&(Nt=se);break}s&&Nt&&fe.alternate===null&&l(J,Nt),K=S(fe,K,Xt),he===null?jt=fe:he.sibling=fe,he=fe,Nt=se}if(Xt===rt.length)return h(J,Nt),ee&&Dt(J,Xt),jt;if(Nt===null){for(;Xt<rt.length;Xt++)Nt=mt(J,rt[Xt],ft),Nt!==null&&(K=S(Nt,K,Xt),he===null?jt=Nt:he.sibling=Nt,he=Nt);return ee&&Dt(J,Xt),jt}for(Nt=v(Nt);Xt<rt.length;Xt++)se=lt(Nt,J,Xt,rt[Xt],ft),se!==null&&(s&&se.alternate!==null&&Nt.delete(se.key===null?Xt:se.key),K=S(se,K,Xt),he===null?jt=se:he.sibling=se,he=se);return s&&Nt.forEach(function(yo){return l(J,yo)}),ee&&Dt(J,Xt),jt}function It(J,K,rt,ft){if(rt==null)throw Error(i(151));for(var jt=null,he=null,Nt=K,Xt=K=0,se=null,fe=rt.next();Nt!==null&&!fe.done;Xt++,fe=rt.next()){Nt.index>Xt?(se=Nt,Nt=null):se=Nt.sibling;var yo=ot(J,Nt,fe.value,ft);if(yo===null){Nt===null&&(Nt=se);break}s&&Nt&&yo.alternate===null&&l(J,Nt),K=S(yo,K,Xt),he===null?jt=yo:he.sibling=yo,he=yo,Nt=se}if(fe.done)return h(J,Nt),ee&&Dt(J,Xt),jt;if(Nt===null){for(;!fe.done;Xt++,fe=rt.next())fe=mt(J,fe.value,ft),fe!==null&&(K=S(fe,K,Xt),he===null?jt=fe:he.sibling=fe,he=fe);return ee&&Dt(J,Xt),jt}for(Nt=v(Nt);!fe.done;Xt++,fe=rt.next())fe=lt(Nt,J,Xt,fe.value,ft),fe!==null&&(s&&fe.alternate!==null&&Nt.delete(fe.key===null?Xt:fe.key),K=S(fe,K,Xt),he===null?jt=fe:he.sibling=fe,he=fe);return s&&Nt.forEach(function(yz){return l(J,yz)}),ee&&Dt(J,Xt),jt}function Me(J,K,rt,ft){if(typeof rt=="object"&&rt!==null&&rt.type===w&&rt.key===null&&(rt=rt.props.children),typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case b:t:{for(var jt=rt.key;K!==null;){if(K.key===jt){if(jt=rt.type,jt===w){if(K.tag===7){h(J,K.sibling),ft=_(K,rt.props.children),ft.return=J,J=ft;break t}}else if(K.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===H&&Cl(jt)===K.type){h(J,K.sibling),ft=_(K,rt.props),Sd(ft,rt),ft.return=J,J=ft;break t}h(J,K);break}else l(J,K);K=K.sibling}rt.type===w?(ft=Qa(rt.props.children,J.mode,ft,rt.key),ft.return=J,J=ft):(ft=_l(rt.type,rt.key,rt.props,null,J.mode,ft),Sd(ft,rt),ft.return=J,J=ft)}return D(J);case A:t:{for(jt=rt.key;K!==null;){if(K.key===jt)if(K.tag===4&&K.stateNode.containerInfo===rt.containerInfo&&K.stateNode.implementation===rt.implementation){h(J,K.sibling),ft=_(K,rt.children||[]),ft.return=J,J=ft;break t}else{h(J,K);break}else l(J,K);K=K.sibling}ft=yd(rt,J.mode,ft),ft.return=J,J=ft}return D(J);case H:return rt=Cl(rt),Me(J,K,rt,ft)}if(xt(rt))return Mt(J,K,rt,ft);if(q(rt)){if(jt=q(rt),typeof jt!="function")throw Error(i(150));return rt=jt.call(rt),It(J,K,rt,ft)}if(typeof rt.then=="function")return Me(J,K,up(rt),ft);if(rt.$$typeof===M)return Me(J,K,sp(J,rt),ft);dp(J,rt)}return typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint"?(rt=""+rt,K!==null&&K.tag===6?(h(J,K.sibling),ft=_(K,rt),ft.return=J,J=ft):(h(J,K),ft=Nc(rt,J.mode,ft),ft.return=J,J=ft),D(J)):h(J,K)}return function(J,K,rt,ft){try{Ad=0;var jt=Me(J,K,rt,ft);return Ic=null,jt}catch(Nt){if(Nt===Rc||Nt===lp)throw Nt;var he=di(29,Nt,null,J.mode);return he.lanes=ft,he.return=J,he}}}var Ol=QA(!0),JA=QA(!1),to=!1;function Ty(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oy(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function eo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function no(s,l,h){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(me&2)!==0){var _=v.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),v.pending=l,l=xl(s),Qs(s,null,h),l}return da(s,v,l,h),xl(s)}function Ed(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,kf(s,h)}}function Py(s,l){var h=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var _=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?_=S=D:S=S.next=D,h=h.next}while(h!==null);S===null?_=S=l:S=S.next=l}else _=S=l;h={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:v.shared,callbacks:v.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}var My=!1;function Cd(){if(My){var s=Lc;if(s!==null)throw s}}function Td(s,l,h,v){My=!1;var _=s.updateQueue;to=!1;var S=_.firstBaseUpdate,D=_.lastBaseUpdate,F=_.shared.pending;if(F!==null){_.shared.pending=null;var V=F,at=V.next;V.next=null,D===null?S=at:D.next=at,D=V;var ht=s.alternate;ht!==null&&(ht=ht.updateQueue,F=ht.lastBaseUpdate,F!==D&&(F===null?ht.firstBaseUpdate=at:F.next=at,ht.lastBaseUpdate=V))}if(S!==null){var mt=_.baseState;D=0,ht=at=V=null,F=S;do{var ot=F.lane&-536870913,lt=ot!==F.lane;if(lt?(ae&ot)===ot:(v&ot)===ot){ot!==0&&ot===jc&&(My=!0),ht!==null&&(ht=ht.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});t:{var Mt=s,It=F;ot=l;var Me=h;switch(It.tag){case 1:if(Mt=It.payload,typeof Mt=="function"){mt=Mt.call(Me,mt,ot);break t}mt=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=It.payload,ot=typeof Mt=="function"?Mt.call(Me,mt,ot):Mt,ot==null)break t;mt=m({},mt,ot);break t;case 2:to=!0}}ot=F.callback,ot!==null&&(s.flags|=64,lt&&(s.flags|=8192),lt=_.callbacks,lt===null?_.callbacks=[ot]:lt.push(ot))}else lt={lane:ot,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ht===null?(at=ht=lt,V=mt):ht=ht.next=lt,D|=ot;if(F=F.next,F===null){if(F=_.shared.pending,F===null)break;lt=F,F=lt.next,lt.next=null,_.lastBaseUpdate=lt,_.shared.pending=null}}while(!0);ht===null&&(V=mt),_.baseState=V,_.firstBaseUpdate=at,_.lastBaseUpdate=ht,S===null&&(_.shared.lanes=0),oo|=D,s.lanes=D,s.memoizedState=mt}}function tS(s,l){if(typeof s!="function")throw Error(i(191,s));s.call(l)}function eS(s,l){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)tS(h[s],l)}var Bc=U(null),hp=U(0);function nS(s,l){s=cs,ut(hp,s),ut(Bc,l),cs=s|l.baseLanes}function Ny(){ut(hp,cs),ut(Bc,Bc.current)}function ky(){cs=hp.current,X(Bc),X(hp)}var Xi=U(null),vr=null;function io(s){var l=s.alternate;ut(mn,mn.current&1),ut(Xi,s),vr===null&&(l===null||Bc.current!==null||l.memoizedState!==null)&&(vr=s)}function Dy(s){ut(mn,mn.current),ut(Xi,s),vr===null&&(vr=s)}function iS(s){s.tag===22?(ut(mn,mn.current),ut(Xi,s),vr===null&&(vr=s)):ro()}function ro(){ut(mn,mn.current),ut(Xi,Xi.current)}function Qi(s){X(Xi),vr===s&&(vr=null),X(mn)}var mn=U(0);function fp(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||z0(h)||F0(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var es=0,Kt=null,Oe=null,An=null,pp=!1,zc=!1,Pl=!1,mp=0,Od=0,Fc=null,lB=0;function an(){throw Error(i(321))}function jy(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!Hn(s[h],l[h]))return!1;return!0}function Ly(s,l,h,v,_,S){return es=S,Kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=s===null||s.memoizedState===null?FS:Zy,Pl=!1,S=h(v,_),Pl=!1,zc&&(S=aS(l,h,v,_)),rS(s),S}function rS(s){$.H=Nd;var l=Oe!==null&&Oe.next!==null;if(es=0,An=Oe=Kt=null,pp=!1,Od=0,Fc=null,l)throw Error(i(300));s===null||Sn||(s=s.dependencies,s!==null&&ap(s)&&(Sn=!0))}function aS(s,l,h,v){Kt=s;var _=0;do{if(zc&&(Fc=null),Od=0,zc=!1,25<=_)throw Error(i(301));if(_+=1,An=Oe=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}$.H=US,S=l(h,v)}while(zc);return S}function cB(){var s=$.H,l=s.useState()[0];return l=typeof l.then=="function"?Pd(l):l,s=s.useState()[0],(Oe!==null?Oe.memoizedState:null)!==s&&(Kt.flags|=1024),l}function Ry(){var s=mp!==0;return mp=0,s}function Iy(s,l,h){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~h}function By(s){if(pp){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}pp=!1}es=0,An=Oe=Kt=null,zc=!1,Od=mp=0,Fc=null}function _i(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Kt.memoizedState=An=s:An=An.next=s,An}function gn(){if(Oe===null){var s=Kt.alternate;s=s!==null?s.memoizedState:null}else s=Oe.next;var l=An===null?Kt.memoizedState:An.next;if(l!==null)An=l,Oe=s;else{if(s===null)throw Kt.alternate===null?Error(i(467)):Error(i(310));Oe=s,s={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},An===null?Kt.memoizedState=An=s:An=An.next=s}return An}function gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pd(s){var l=Od;return Od+=1,Fc===null&&(Fc=[]),s=KA(Fc,s,l),l=Kt,(An===null?l.memoizedState:An.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?FS:Zy),s}function vp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Pd(s);if(s.$$typeof===M)return ei(s)}throw Error(i(438,String(s)))}function zy(s){var l=null,h=Kt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var v=Kt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(l={data:v.data.map(function(_){return _.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=gp(),Kt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(s),v=0;v<s;v++)h[v]=et;return l.index++,h}function ns(s,l){return typeof l=="function"?l(s):l}function yp(s){var l=gn();return Fy(l,Oe,s)}function Fy(s,l,h){var v=s.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=h;var _=s.baseQueue,S=v.pending;if(S!==null){if(_!==null){var D=_.next;_.next=S.next,S.next=D}l.baseQueue=_=S,v.pending=null}if(S=s.baseState,_===null)s.memoizedState=S;else{l=_.next;var F=D=null,V=null,at=l,ht=!1;do{var mt=at.lane&-536870913;if(mt!==at.lane?(ae&mt)===mt:(es&mt)===mt){var ot=at.revertLane;if(ot===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),mt===jc&&(ht=!0);else if((es&ot)===ot){at=at.next,ot===jc&&(ht=!0);continue}else mt={lane:0,revertLane:at.revertLane,gesture:null,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},V===null?(F=V=mt,D=S):V=V.next=mt,Kt.lanes|=ot,oo|=ot;mt=at.action,Pl&&h(S,mt),S=at.hasEagerState?at.eagerState:h(S,mt)}else ot={lane:mt,revertLane:at.revertLane,gesture:at.gesture,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},V===null?(F=V=ot,D=S):V=V.next=ot,Kt.lanes|=mt,oo|=mt;at=at.next}while(at!==null&&at!==l);if(V===null?D=S:V.next=F,!Hn(S,s.memoizedState)&&(Sn=!0,ht&&(h=Lc,h!==null)))throw h;s.memoizedState=S,s.baseState=D,s.baseQueue=V,v.lastRenderedState=S}return _===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function Uy(s){var l=gn(),h=l.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=s;var v=h.dispatch,_=h.pending,S=l.memoizedState;if(_!==null){h.pending=null;var D=_=_.next;do S=s(S,D.action),D=D.next;while(D!==_);Hn(S,l.memoizedState)||(Sn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,v]}function sS(s,l,h){var v=Kt,_=gn(),S=ee;if(S){if(h===void 0)throw Error(i(407));h=h()}else h=l();var D=!Hn((Oe||_).memoizedState,h);if(D&&(_.memoizedState=h,Sn=!0),_=_.queue,Gy(cS.bind(null,v,_,s),[s]),_.getSnapshot!==l||D||An!==null&&An.memoizedState.tag&1){if(v.flags|=2048,Uc(9,{destroy:void 0},lS.bind(null,v,_,h,l),null),je===null)throw Error(i(349));S||(es&127)!==0||oS(v,l,h)}return h}function oS(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=Kt.updateQueue,l===null?(l=gp(),Kt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function lS(s,l,h,v){l.value=h,l.getSnapshot=v,uS(l)&&dS(s)}function cS(s,l,h){return h(function(){uS(l)&&dS(s)})}function uS(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!Hn(s,h)}catch{return!0}}function dS(s){var l=mr(s,2);l!==null&&zi(l,s,2)}function Hy(s){var l=_i();if(typeof s=="function"){var h=s;if(s=h(),Pl){Dr(!0);try{h()}finally{Dr(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:s},l}function hS(s,l,h,v){return s.baseState=h,Fy(s,Oe,typeof v=="function"?v:ns)}function uB(s,l,h,v,_){if(_p(s))throw Error(i(485));if(s=l.action,s!==null){var S={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){S.listeners.push(D)}};$.T!==null?h(!0):S.isTransition=!1,v(S),h=l.pending,h===null?(S.next=l.pending=S,fS(l,S)):(S.next=h.next,l.pending=h.next=S)}}function fS(s,l){var h=l.action,v=l.payload,_=s.state;if(l.isTransition){var S=$.T,D={};$.T=D;try{var F=h(_,v),V=$.S;V!==null&&V(D,F),pS(s,l,F)}catch(at){$y(s,l,at)}finally{S!==null&&D.types!==null&&(S.types=D.types),$.T=S}}else try{S=h(_,v),pS(s,l,S)}catch(at){$y(s,l,at)}}function pS(s,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){mS(s,l,v)},function(v){return $y(s,l,v)}):mS(s,l,h)}function mS(s,l,h){l.status="fulfilled",l.value=h,gS(l),s.state=h,l=s.pending,l!==null&&(h=l.next,h===l?s.pending=null:(h=h.next,l.next=h,fS(s,h)))}function $y(s,l,h){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do l.status="rejected",l.reason=h,gS(l),l=l.next;while(l!==v)}s.action=null}function gS(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function vS(s,l){return l}function yS(s,l){if(ee){var h=je.formState;if(h!==null){t:{var v=Kt;if(ee){if(de){e:{for(var _=de,S=ji;_.nodeType!==8;){if(!S){_=null;break e}if(_=yr(_.nextSibling),_===null){_=null;break e}}S=_.data,_=S==="F!"||S==="F"?_:null}if(_){de=yr(_.nextSibling),v=_.data==="F!";break t}}fa(v)}v=!1}v&&(l=h[0])}}return h=_i(),h.memoizedState=h.baseState=l,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vS,lastRenderedState:l},h.queue=v,h=IS.bind(null,Kt,v),v.dispatch=h,v=Hy(!1),S=Ky.bind(null,Kt,!1,v.queue),v=_i(),_={state:l,dispatch:null,action:s,pending:null},v.queue=_,h=uB.bind(null,Kt,_,S,h),_.dispatch=h,v.memoizedState=s,[l,h,!1]}function bS(s){var l=gn();return xS(l,Oe,s)}function xS(s,l,h){if(l=Fy(s,l,vS)[0],s=yp(ns)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var v=Pd(l)}catch(D){throw D===Rc?lp:D}else v=l;l=gn();var _=l.queue,S=_.dispatch;return h!==l.memoizedState&&(Kt.flags|=2048,Uc(9,{destroy:void 0},dB.bind(null,_,h),null)),[v,S,s]}function dB(s,l){s.action=l}function _S(s){var l=gn(),h=Oe;if(h!==null)return xS(l,h,s);gn(),l=l.memoizedState,h=gn();var v=h.queue.dispatch;return h.memoizedState=s,[l,v,!1]}function Uc(s,l,h,v){return s={tag:s,create:h,deps:v,inst:l,next:null},l=Kt.updateQueue,l===null&&(l=gp(),Kt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=s.next=s:(v=h.next,h.next=s,s.next=v,l.lastEffect=s),s}function wS(){return gn().memoizedState}function bp(s,l,h,v){var _=_i();Kt.flags|=s,_.memoizedState=Uc(1|l,{destroy:void 0},h,v===void 0?null:v)}function xp(s,l,h,v){var _=gn();v=v===void 0?null:v;var S=_.memoizedState.inst;Oe!==null&&v!==null&&jy(v,Oe.memoizedState.deps)?_.memoizedState=Uc(l,S,h,v):(Kt.flags|=s,_.memoizedState=Uc(1|l,S,h,v))}function AS(s,l){bp(8390656,8,s,l)}function Gy(s,l){xp(2048,8,s,l)}function hB(s){Kt.flags|=4;var l=Kt.updateQueue;if(l===null)l=gp(),Kt.updateQueue=l,l.events=[s];else{var h=l.events;h===null?l.events=[s]:h.push(s)}}function SS(s){var l=gn().memoizedState;return hB({ref:l,nextImpl:s}),function(){if((me&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function ES(s,l){return xp(4,2,s,l)}function CS(s,l){return xp(4,4,s,l)}function TS(s,l){if(typeof l=="function"){s=s();var h=l(s);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function OS(s,l,h){h=h!=null?h.concat([s]):null,xp(4,4,TS.bind(null,l,s),h)}function qy(){}function PS(s,l){var h=gn();l=l===void 0?null:l;var v=h.memoizedState;return l!==null&&jy(l,v[1])?v[0]:(h.memoizedState=[s,l],s)}function MS(s,l){var h=gn();l=l===void 0?null:l;var v=h.memoizedState;if(l!==null&&jy(l,v[1]))return v[0];if(v=s(),Pl){Dr(!0);try{s()}finally{Dr(!1)}}return h.memoizedState=[v,l],v}function Vy(s,l,h){return h===void 0||(es&1073741824)!==0&&(ae&261930)===0?s.memoizedState=l:(s.memoizedState=h,s=NE(),Kt.lanes|=s,oo|=s,h)}function NS(s,l,h,v){return Hn(h,l)?h:Bc.current!==null?(s=Vy(s,h,v),Hn(s,l)||(Sn=!0),s):(es&42)===0||(es&1073741824)!==0&&(ae&261930)===0?(Sn=!0,s.memoizedState=h):(s=NE(),Kt.lanes|=s,oo|=s,l)}function kS(s,l,h,v,_){var S=Q.p;Q.p=S!==0&&8>S?S:8;var D=$.T,F={};$.T=F,Ky(s,!1,l,h);try{var V=_(),at=$.S;if(at!==null&&at(F,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var ht=oB(V,v);Md(s,l,ht,er(s))}else Md(s,l,v,er(s))}catch(mt){Md(s,l,{then:function(){},status:"rejected",reason:mt},er())}finally{Q.p=S,D!==null&&F.types!==null&&(D.types=F.types),$.T=D}}function fB(){}function Wy(s,l,h,v){if(s.tag!==5)throw Error(i(476));var _=DS(s).queue;kS(s,_,l,nt,h===null?fB:function(){return jS(s),h(v)})}function DS(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:nt,baseState:nt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:nt},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:h},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function jS(s){var l=DS(s);l.next===null&&(l=s.alternate.memoizedState),Md(s,l.next.queue,{},er())}function Yy(){return ei(Wd)}function LS(){return gn().memoizedState}function RS(){return gn().memoizedState}function pB(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var h=er();s=eo(h);var v=no(l,s,h);v!==null&&(zi(v,l,h),Ed(v,l,h)),l={cache:Ay()},s.payload=l;return}l=l.return}}function mB(s,l,h){var v=er();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},_p(s)?BS(l,h):(h=md(s,l,h,v),h!==null&&(zi(h,s,v),zS(h,l,v)))}function IS(s,l,h){var v=er();Md(s,l,h,v)}function Md(s,l,h,v){var _={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(_p(s))BS(l,_);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var D=l.lastRenderedState,F=S(D,h);if(_.hasEagerState=!0,_.eagerState=F,Hn(F,D))return da(s,l,_,0),je===null&&bl(),!1}catch{}if(h=md(s,l,_,v),h!==null)return zi(h,s,v),zS(h,l,v),!0}return!1}function Ky(s,l,h,v){if(v={lane:2,revertLane:T0(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},_p(s)){if(l)throw Error(i(479))}else l=md(s,h,v,2),l!==null&&zi(l,s,2)}function _p(s){var l=s.alternate;return s===Kt||l!==null&&l===Kt}function BS(s,l){zc=pp=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function zS(s,l,h){if((h&4194048)!==0){var v=l.lanes;v&=s.pendingLanes,h|=v,l.lanes=h,kf(s,h)}}var Nd={readContext:ei,use:vp,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an,useHostTransitionStatus:an,useFormState:an,useActionState:an,useOptimistic:an,useMemoCache:an,useCacheRefresh:an};Nd.useEffectEvent=an;var FS={readContext:ei,use:vp,useCallback:function(s,l){return _i().memoizedState=[s,l===void 0?null:l],s},useContext:ei,useEffect:AS,useImperativeHandle:function(s,l,h){h=h!=null?h.concat([s]):null,bp(4194308,4,TS.bind(null,l,s),h)},useLayoutEffect:function(s,l){return bp(4194308,4,s,l)},useInsertionEffect:function(s,l){bp(4,2,s,l)},useMemo:function(s,l){var h=_i();l=l===void 0?null:l;var v=s();if(Pl){Dr(!0);try{s()}finally{Dr(!1)}}return h.memoizedState=[v,l],v},useReducer:function(s,l,h){var v=_i();if(h!==void 0){var _=h(l);if(Pl){Dr(!0);try{h(l)}finally{Dr(!1)}}}else _=l;return v.memoizedState=v.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},v.queue=s,s=s.dispatch=mB.bind(null,Kt,s),[v.memoizedState,s]},useRef:function(s){var l=_i();return s={current:s},l.memoizedState=s},useState:function(s){s=Hy(s);var l=s.queue,h=IS.bind(null,Kt,l);return l.dispatch=h,[s.memoizedState,h]},useDebugValue:qy,useDeferredValue:function(s,l){var h=_i();return Vy(h,s,l)},useTransition:function(){var s=Hy(!1);return s=kS.bind(null,Kt,s.queue,!0,!1),_i().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,h){var v=Kt,_=_i();if(ee){if(h===void 0)throw Error(i(407));h=h()}else{if(h=l(),je===null)throw Error(i(349));(ae&127)!==0||oS(v,l,h)}_.memoizedState=h;var S={value:h,getSnapshot:l};return _.queue=S,AS(cS.bind(null,v,S,s),[s]),v.flags|=2048,Uc(9,{destroy:void 0},lS.bind(null,v,S,h,l),null),h},useId:function(){var s=_i(),l=je.identifierPrefix;if(ee){var h=St,v=pt;h=(v&~(1<<32-yi(v)-1)).toString(32)+h,l="_"+l+"R_"+h,h=mp++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=lB++,l="_"+l+"r_"+h.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Yy,useFormState:yS,useActionState:yS,useOptimistic:function(s){var l=_i();l.memoizedState=l.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=Ky.bind(null,Kt,!0,h),h.dispatch=l,[s,l]},useMemoCache:zy,useCacheRefresh:function(){return _i().memoizedState=pB.bind(null,Kt)},useEffectEvent:function(s){var l=_i(),h={impl:s};return l.memoizedState=h,function(){if((me&2)!==0)throw Error(i(440));return h.impl.apply(void 0,arguments)}}},Zy={readContext:ei,use:vp,useCallback:PS,useContext:ei,useEffect:Gy,useImperativeHandle:OS,useInsertionEffect:ES,useLayoutEffect:CS,useMemo:MS,useReducer:yp,useRef:wS,useState:function(){return yp(ns)},useDebugValue:qy,useDeferredValue:function(s,l){var h=gn();return NS(h,Oe.memoizedState,s,l)},useTransition:function(){var s=yp(ns)[0],l=gn().memoizedState;return[typeof s=="boolean"?s:Pd(s),l]},useSyncExternalStore:sS,useId:LS,useHostTransitionStatus:Yy,useFormState:bS,useActionState:bS,useOptimistic:function(s,l){var h=gn();return hS(h,Oe,s,l)},useMemoCache:zy,useCacheRefresh:RS};Zy.useEffectEvent=SS;var US={readContext:ei,use:vp,useCallback:PS,useContext:ei,useEffect:Gy,useImperativeHandle:OS,useInsertionEffect:ES,useLayoutEffect:CS,useMemo:MS,useReducer:Uy,useRef:wS,useState:function(){return Uy(ns)},useDebugValue:qy,useDeferredValue:function(s,l){var h=gn();return Oe===null?Vy(h,s,l):NS(h,Oe.memoizedState,s,l)},useTransition:function(){var s=Uy(ns)[0],l=gn().memoizedState;return[typeof s=="boolean"?s:Pd(s),l]},useSyncExternalStore:sS,useId:LS,useHostTransitionStatus:Yy,useFormState:_S,useActionState:_S,useOptimistic:function(s,l){var h=gn();return Oe!==null?hS(h,Oe,s,l):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:zy,useCacheRefresh:RS};US.useEffectEvent=SS;function Xy(s,l,h,v){l=s.memoizedState,h=h(v,l),h=h==null?l:m({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Qy={enqueueSetState:function(s,l,h){s=s._reactInternals;var v=er(),_=eo(v);_.payload=l,h!=null&&(_.callback=h),l=no(s,_,v),l!==null&&(zi(l,s,v),Ed(l,s,v))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var v=er(),_=eo(v);_.tag=1,_.payload=l,h!=null&&(_.callback=h),l=no(s,_,v),l!==null&&(zi(l,s,v),Ed(l,s,v))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=er(),v=eo(h);v.tag=2,l!=null&&(v.callback=l),l=no(s,v,h),l!==null&&(zi(l,s,h),Ed(l,s,h))}};function HS(s,l,h,v,_,S,D){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,S,D):l.prototype&&l.prototype.isPureReactComponent?!Ys(h,v)||!Ys(_,S):!0}function $S(s,l,h,v){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,v),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,v),l.state!==s&&Qy.enqueueReplaceState(l,l.state,null)}function Ml(s,l){var h=l;if("ref"in l){h={};for(var v in l)v!=="ref"&&(h[v]=l[v])}if(s=s.defaultProps){h===l&&(h=m({},h));for(var _ in s)h[_]===void 0&&(h[_]=s[_])}return h}function GS(s){yl(s)}function qS(s){console.error(s)}function VS(s){yl(s)}function wp(s,l){try{var h=s.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(v){setTimeout(function(){throw v})}}function WS(s,l,h){try{var v=s.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Jy(s,l,h){return h=eo(h),h.tag=3,h.payload={element:null},h.callback=function(){wp(s,l)},h}function YS(s){return s=eo(s),s.tag=3,s}function KS(s,l,h,v){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var S=v.value;s.payload=function(){return _(S)},s.callback=function(){WS(l,h,v)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(s.callback=function(){WS(l,h,v),typeof _!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var F=v.stack;this.componentDidCatch(v.value,{componentStack:F!==null?F:""})})}function gB(s,l,h,v,_){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(l=h.alternate,l!==null&&Dc(l,h,_,!0),h=Xi.current,h!==null){switch(h.tag){case 31:case 13:return vr===null?jp():h.alternate===null&&sn===0&&(sn=3),h.flags&=-257,h.flags|=65536,h.lanes=_,v===cp?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([v]):l.add(v),S0(s,v,_)),!1;case 22:return h.flags|=65536,v===cp?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([v]):h.add(v)),S0(s,v,_)),!1}throw Error(i(435,h.tag))}return S0(s,v,_),jp(),!1}if(ee)return l=Xi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=_,v!==kc&&(s=Error(i(422),{cause:v}),wl(g(s,h)))):(v!==kc&&(l=Error(i(423),{cause:v}),wl(g(l,h))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,v=g(v,h),_=Jy(s.stateNode,v,_),Py(s,_),sn!==4&&(sn=2)),!1;var S=Error(i(520),{cause:v});if(S=g(S,h),zd===null?zd=[S]:zd.push(S),sn!==4&&(sn=2),l===null)return!0;v=g(v,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,s=_&-_,h.lanes|=s,s=Jy(h.stateNode,v,s),Py(h,s),!1;case 1:if(l=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(lo===null||!lo.has(S))))return h.flags|=65536,_&=-_,h.lanes|=_,_=YS(_),KS(_,s,h,v),Py(h,_),!1}h=h.return}while(h!==null);return!1}var t0=Error(i(461)),Sn=!1;function ni(s,l,h,v){l.child=s===null?JA(l,null,h,v):Ol(l,s.child,h,v)}function ZS(s,l,h,v,_){h=h.render;var S=l.ref;if("ref"in v){var D={};for(var F in v)F!=="ref"&&(D[F]=v[F])}else D=v;return Sl(l),v=Ly(s,l,h,D,S,_),F=Ry(),s!==null&&!Sn?(Iy(s,l,_),is(s,l,_)):(ee&&F&&kn(l),l.flags|=1,ni(s,l,v,_),l.child)}function XS(s,l,h,v,_){if(s===null){var S=h.type;return typeof S=="function"&&!Mc(S)&&S.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=S,QS(s,l,S,v,_)):(s=_l(h.type,null,v,l,l.mode,_),s.ref=l.ref,s.return=l,l.child=s)}if(S=s.child,!l0(s,_)){var D=S.memoizedProps;if(h=h.compare,h=h!==null?h:Ys,h(D,v)&&s.ref===l.ref)return is(s,l,_)}return l.flags|=1,s=gr(S,v),s.ref=l.ref,s.return=l,l.child=s}function QS(s,l,h,v,_){if(s!==null){var S=s.memoizedProps;if(Ys(S,v)&&s.ref===l.ref)if(Sn=!1,l.pendingProps=v=S,l0(s,_))(s.flags&131072)!==0&&(Sn=!0);else return l.lanes=s.lanes,is(s,l,_)}return e0(s,l,h,v,_)}function JS(s,l,h,v){var _=v.children,S=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((l.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,s!==null){for(v=l.child=s.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;v=_&~S}else v=0,l.child=null;return tE(s,l,S,h,v)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&op(l,S!==null?S.cachePool:null),S!==null?nS(l,S):Ny(),iS(l);else return v=l.lanes=536870912,tE(s,l,S!==null?S.baseLanes|h:h,h,v)}else S!==null?(op(l,S.cachePool),nS(l,S),ro(),l.memoizedState=null):(s!==null&&op(l,null),Ny(),ro());return ni(s,l,_,h),l.child}function kd(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function tE(s,l,h,v,_){var S=Ey();return S=S===null?null:{parent:wn._currentValue,pool:S},l.memoizedState={baseLanes:h,cachePool:S},s!==null&&op(l,null),Ny(),iS(l),s!==null&&Dc(s,l,v,!0),l.childLanes=_,null}function Ap(s,l){return l=Ep({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function eE(s,l,h){return Ol(l,s.child,null,h),s=Ap(l,l.pendingProps),s.flags|=2,Qi(l),l.memoizedState=null,s}function vB(s,l,h){var v=l.pendingProps,_=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(ee){if(v.mode==="hidden")return s=Ap(l,v),l.lanes=536870912,kd(null,s);if(Dy(l),(s=de)?(s=fC(s,ji),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:st!==null?{id:pt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},h=vd(s),h.return=l,l.child=h,ue=l,de=null)):s=null,s===null)throw fa(l);return l.lanes=536870912,null}return Ap(l,v)}var S=s.memoizedState;if(S!==null){var D=S.dehydrated;if(Dy(l),_)if(l.flags&256)l.flags&=-257,l=eE(s,l,h);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(i(558));else if(Sn||Dc(s,l,h,!1),_=(h&s.childLanes)!==0,Sn||_){if(v=je,v!==null&&(D=Df(v,h),D!==0&&D!==S.retryLane))throw S.retryLane=D,mr(s,D),zi(v,s,D),t0;jp(),l=eE(s,l,h)}else s=S.treeContext,de=yr(D.nextSibling),ue=l,ee=!0,ha=null,ji=!1,s!==null&&xi(l,s),l=Ap(l,v),l.flags|=4096;return l}return s=gr(s.child,{mode:v.mode,children:v.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Sp(s,l){var h=l.ref;if(h===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(s===null||s.ref!==h)&&(l.flags|=4194816)}}function e0(s,l,h,v,_){return Sl(l),h=Ly(s,l,h,v,void 0,_),v=Ry(),s!==null&&!Sn?(Iy(s,l,_),is(s,l,_)):(ee&&v&&kn(l),l.flags|=1,ni(s,l,h,_),l.child)}function nE(s,l,h,v,_,S){return Sl(l),l.updateQueue=null,h=aS(l,v,h,_),rS(s),v=Ry(),s!==null&&!Sn?(Iy(s,l,S),is(s,l,S)):(ee&&v&&kn(l),l.flags|=1,ni(s,l,h,S),l.child)}function iE(s,l,h,v,_){if(Sl(l),l.stateNode===null){var S=Xa,D=h.contextType;typeof D=="object"&&D!==null&&(S=ei(D)),S=new h(v,S),l.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Qy,l.stateNode=S,S._reactInternals=l,S=l.stateNode,S.props=v,S.state=l.memoizedState,S.refs={},Ty(l),D=h.contextType,S.context=typeof D=="object"&&D!==null?ei(D):Xa,S.state=l.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(Xy(l,h,D,v),S.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(D=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),D!==S.state&&Qy.enqueueReplaceState(S,S.state,null),Td(l,v,S,_),Cd(),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308),v=!0}else if(s===null){S=l.stateNode;var F=l.memoizedProps,V=Ml(h,F);S.props=V;var at=S.context,ht=h.contextType;D=Xa,typeof ht=="object"&&ht!==null&&(D=ei(ht));var mt=h.getDerivedStateFromProps;ht=typeof mt=="function"||typeof S.getSnapshotBeforeUpdate=="function",F=l.pendingProps!==F,ht||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F||at!==D)&&$S(l,S,v,D),to=!1;var ot=l.memoizedState;S.state=ot,Td(l,v,S,_),Cd(),at=l.memoizedState,F||ot!==at||to?(typeof mt=="function"&&(Xy(l,h,mt,v),at=l.memoizedState),(V=to||HS(l,h,V,v,ot,at,D))?(ht||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(l.flags|=4194308)):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=v,l.memoizedState=at),S.props=v,S.state=at,S.context=D,v=V):(typeof S.componentDidMount=="function"&&(l.flags|=4194308),v=!1)}else{S=l.stateNode,Oy(s,l),D=l.memoizedProps,ht=Ml(h,D),S.props=ht,mt=l.pendingProps,ot=S.context,at=h.contextType,V=Xa,typeof at=="object"&&at!==null&&(V=ei(at)),F=h.getDerivedStateFromProps,(at=typeof F=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==mt||ot!==V)&&$S(l,S,v,V),to=!1,ot=l.memoizedState,S.state=ot,Td(l,v,S,_),Cd();var lt=l.memoizedState;D!==mt||ot!==lt||to||s!==null&&s.dependencies!==null&&ap(s.dependencies)?(typeof F=="function"&&(Xy(l,h,F,v),lt=l.memoizedState),(ht=to||HS(l,h,ht,v,ot,lt,V)||s!==null&&s.dependencies!==null&&ap(s.dependencies))?(at||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(v,lt,V),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(v,lt,V)),typeof S.componentDidUpdate=="function"&&(l.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===s.memoizedProps&&ot===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ot===s.memoizedState||(l.flags|=1024),l.memoizedProps=v,l.memoizedState=lt),S.props=v,S.state=lt,S.context=V,v=ht):(typeof S.componentDidUpdate!="function"||D===s.memoizedProps&&ot===s.memoizedState||(l.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ot===s.memoizedState||(l.flags|=1024),v=!1)}return S=v,Sp(s,l),v=(l.flags&128)!==0,S||v?(S=l.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:S.render(),l.flags|=1,s!==null&&v?(l.child=Ol(l,s.child,null,_),l.child=Ol(l,null,h,_)):ni(s,l,h,_),l.memoizedState=S.state,s=l.child):s=is(s,l,_),s}function rE(s,l,h,v){return Ja(),l.flags|=256,ni(s,l,h,v),l.child}var n0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i0(s){return{baseLanes:s,cachePool:WA()}}function r0(s,l,h){return s=s!==null?s.childLanes&~h:0,l&&(s|=tr),s}function aE(s,l,h){var v=l.pendingProps,_=!1,S=(l.flags&128)!==0,D;if((D=S)||(D=s!==null&&s.memoizedState===null?!1:(mn.current&2)!==0),D&&(_=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,s===null){if(ee){if(_?io(l):ro(),(s=de)?(s=fC(s,ji),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:st!==null?{id:pt,overflow:St}:null,retryLane:536870912,hydrationErrors:null},h=vd(s),h.return=l,l.child=h,ue=l,de=null)):s=null,s===null)throw fa(l);return F0(s)?l.lanes=32:l.lanes=536870912,null}var F=v.children;return v=v.fallback,_?(ro(),_=l.mode,F=Ep({mode:"hidden",children:F},_),v=Qa(v,_,h,null),F.return=l,v.return=l,F.sibling=v,l.child=F,v=l.child,v.memoizedState=i0(h),v.childLanes=r0(s,D,h),l.memoizedState=n0,kd(null,v)):(io(l),a0(l,F))}var V=s.memoizedState;if(V!==null&&(F=V.dehydrated,F!==null)){if(S)l.flags&256?(io(l),l.flags&=-257,l=s0(s,l,h)):l.memoizedState!==null?(ro(),l.child=s.child,l.flags|=128,l=null):(ro(),F=v.fallback,_=l.mode,v=Ep({mode:"visible",children:v.children},_),F=Qa(F,_,h,null),F.flags|=2,v.return=l,F.return=l,v.sibling=F,l.child=v,Ol(l,s.child,null,h),v=l.child,v.memoizedState=i0(h),v.childLanes=r0(s,D,h),l.memoizedState=n0,l=kd(null,v));else if(io(l),F0(F)){if(D=F.nextSibling&&F.nextSibling.dataset,D)var at=D.dgst;D=at,v=Error(i(419)),v.stack="",v.digest=D,wl({value:v,source:null,stack:null}),l=s0(s,l,h)}else if(Sn||Dc(s,l,h,!1),D=(h&s.childLanes)!==0,Sn||D){if(D=je,D!==null&&(v=Df(D,h),v!==0&&v!==V.retryLane))throw V.retryLane=v,mr(s,v),zi(D,s,v),t0;z0(F)||jp(),l=s0(s,l,h)}else z0(F)?(l.flags|=192,l.child=s.child,l=null):(s=V.treeContext,de=yr(F.nextSibling),ue=l,ee=!0,ha=null,ji=!1,s!==null&&xi(l,s),l=a0(l,v.children),l.flags|=4096);return l}return _?(ro(),F=v.fallback,_=l.mode,V=s.child,at=V.sibling,v=gr(V,{mode:"hidden",children:v.children}),v.subtreeFlags=V.subtreeFlags&65011712,at!==null?F=gr(at,F):(F=Qa(F,_,h,null),F.flags|=2),F.return=l,v.return=l,v.sibling=F,l.child=v,kd(null,v),v=l.child,F=s.child.memoizedState,F===null?F=i0(h):(_=F.cachePool,_!==null?(V=wn._currentValue,_=_.parent!==V?{parent:V,pool:V}:_):_=WA(),F={baseLanes:F.baseLanes|h,cachePool:_}),v.memoizedState=F,v.childLanes=r0(s,D,h),l.memoizedState=n0,kd(s.child,v)):(io(l),h=s.child,s=h.sibling,h=gr(h,{mode:"visible",children:v.children}),h.return=l,h.sibling=null,s!==null&&(D=l.deletions,D===null?(l.deletions=[s],l.flags|=16):D.push(s)),l.child=h,l.memoizedState=null,h)}function a0(s,l){return l=Ep({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function Ep(s,l){return s=di(22,s,null,l),s.lanes=0,s}function s0(s,l,h){return Ol(l,s.child,null,h),s=a0(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function sE(s,l,h){s.lanes|=l;var v=s.alternate;v!==null&&(v.lanes|=l),_y(s.return,l,h)}function o0(s,l,h,v,_,S){var D=s.memoizedState;D===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:_,treeForkCount:S}:(D.isBackwards=l,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=h,D.tailMode=_,D.treeForkCount=S)}function oE(s,l,h){var v=l.pendingProps,_=v.revealOrder,S=v.tail;v=v.children;var D=mn.current,F=(D&2)!==0;if(F?(D=D&1|2,l.flags|=128):D&=1,ut(mn,D),ni(s,l,v,h),v=ee?B:0,!F&&s!==null&&(s.flags&128)!==0)t:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sE(s,h,l);else if(s.tag===19)sE(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break t;for(;s.sibling===null;){if(s.return===null||s.return===l)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(h=l.child,_=null;h!==null;)s=h.alternate,s!==null&&fp(s)===null&&(_=h),h=h.sibling;h=_,h===null?(_=l.child,l.child=null):(_=h.sibling,h.sibling=null),o0(l,!1,_,h,S,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,_=l.child,l.child=null;_!==null;){if(s=_.alternate,s!==null&&fp(s)===null){l.child=_;break}s=_.sibling,_.sibling=h,h=_,_=s}o0(l,!0,h,null,S,v);break;case"together":o0(l,!1,null,null,void 0,v);break;default:l.memoizedState=null}return l.child}function is(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),oo|=l.lanes,(h&l.childLanes)===0)if(s!==null){if(Dc(s,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(i(153));if(l.child!==null){for(s=l.child,h=gr(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=gr(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function l0(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&ap(s)))}function yB(s,l,h){switch(l.tag){case 3:Yt(l,l.stateNode.containerInfo),Js(l,wn,s.memoizedState.cache),Ja();break;case 27:case 5:Rt(l);break;case 4:Yt(l,l.stateNode.containerInfo);break;case 10:Js(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Dy(l),null;break;case 13:var v=l.memoizedState;if(v!==null)return v.dehydrated!==null?(io(l),l.flags|=128,null):(h&l.child.childLanes)!==0?aE(s,l,h):(io(l),s=is(s,l,h),s!==null?s.sibling:null);io(l);break;case 19:var _=(s.flags&128)!==0;if(v=(h&l.childLanes)!==0,v||(Dc(s,l,h,!1),v=(h&l.childLanes)!==0),_){if(v)return oE(s,l,h);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),ut(mn,mn.current),v)break;return null;case 22:return l.lanes=0,JS(s,l,h,l.pendingProps);case 24:Js(l,wn,s.memoizedState.cache)}return is(s,l,h)}function lE(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps)Sn=!0;else{if(!l0(s,h)&&(l.flags&128)===0)return Sn=!1,yB(s,l,h);Sn=(s.flags&131072)!==0}else Sn=!1,ee&&(l.flags&1048576)!==0&&Zt(l,B,l.index);switch(l.lanes=0,l.tag){case 16:t:{var v=l.pendingProps;if(s=Cl(l.elementType),l.type=s,typeof s=="function")Mc(s)?(v=Ml(s,v),l.tag=1,l=iE(null,l,s,v,h)):(l.tag=0,l=e0(null,l,s,v,h));else{if(s!=null){var _=s.$$typeof;if(_===j){l.tag=11,l=ZS(null,l,s,v,h);break t}else if(_===z){l.tag=14,l=XS(null,l,s,v,h);break t}}throw l=ct(s)||s,Error(i(306,l,""))}}return l;case 0:return e0(s,l,l.type,l.pendingProps,h);case 1:return v=l.type,_=Ml(v,l.pendingProps),iE(s,l,v,_,h);case 3:t:{if(Yt(l,l.stateNode.containerInfo),s===null)throw Error(i(387));v=l.pendingProps;var S=l.memoizedState;_=S.element,Oy(s,l),Td(l,v,null,h);var D=l.memoizedState;if(v=D.cache,Js(l,wn,v),v!==S.cache&&wy(l,[wn],h,!0),Cd(),v=D.element,S.isDehydrated)if(S={element:v,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=rE(s,l,v,h);break t}else if(v!==_){_=g(Error(i(424)),l),wl(_),l=rE(s,l,v,h);break t}else for(s=l.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,de=yr(s.firstChild),ue=l,ee=!0,ha=null,ji=!0,h=JA(l,null,v,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ja(),v===_){l=is(s,l,h);break t}ni(s,l,v,h)}l=l.child}return l;case 26:return Sp(s,l),s===null?(h=bC(l.type,null,l.pendingProps,null))?l.memoizedState=h:ee||(h=l.type,s=l.pendingProps,v=Up(wt.current).createElement(h),v[xn]=l,v[Un]=s,ii(v,h,s),_n(v),l.stateNode=v):l.memoizedState=bC(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Rt(l),s===null&&ee&&(v=l.stateNode=gC(l.type,l.pendingProps,wt.current),ue=l,ji=!0,_=de,fo(l.type)?(U0=_,de=yr(v.firstChild)):de=_),ni(s,l,l.pendingProps.children,h),Sp(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&ee&&((_=v=de)&&(v=YB(v,l.type,l.pendingProps,ji),v!==null?(l.stateNode=v,ue=l,de=yr(v.firstChild),ji=!1,_=!0):_=!1),_||fa(l)),Rt(l),_=l.type,S=l.pendingProps,D=s!==null?s.memoizedProps:null,v=S.children,R0(_,S)?v=null:D!==null&&R0(_,D)&&(l.flags|=32),l.memoizedState!==null&&(_=Ly(s,l,cB,null,null,h),Wd._currentValue=_),Sp(s,l),ni(s,l,v,h),l.child;case 6:return s===null&&ee&&((s=h=de)&&(h=KB(h,l.pendingProps,ji),h!==null?(l.stateNode=h,ue=l,de=null,s=!0):s=!1),s||fa(l)),null;case 13:return aE(s,l,h);case 4:return Yt(l,l.stateNode.containerInfo),v=l.pendingProps,s===null?l.child=Ol(l,null,v,h):ni(s,l,v,h),l.child;case 11:return ZS(s,l,l.type,l.pendingProps,h);case 7:return ni(s,l,l.pendingProps,h),l.child;case 8:return ni(s,l,l.pendingProps.children,h),l.child;case 12:return ni(s,l,l.pendingProps.children,h),l.child;case 10:return v=l.pendingProps,Js(l,l.type,v.value),ni(s,l,v.children,h),l.child;case 9:return _=l.type._context,v=l.pendingProps.children,Sl(l),_=ei(_),v=v(_),l.flags|=1,ni(s,l,v,h),l.child;case 14:return XS(s,l,l.type,l.pendingProps,h);case 15:return QS(s,l,l.type,l.pendingProps,h);case 19:return oE(s,l,h);case 31:return vB(s,l,h);case 22:return JS(s,l,h,l.pendingProps);case 24:return Sl(l),v=ei(wn),s===null?(_=Ey(),_===null&&(_=je,S=Ay(),_.pooledCache=S,S.refCount++,S!==null&&(_.pooledCacheLanes|=h),_=S),l.memoizedState={parent:v,cache:_},Ty(l),Js(l,wn,_)):((s.lanes&h)!==0&&(Oy(s,l),Td(l,null,null,h),Cd()),_=s.memoizedState,S=l.memoizedState,_.parent!==v?(_={parent:v,cache:v},l.memoizedState=_,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=_),Js(l,wn,v)):(v=S.cache,Js(l,wn,v),v!==_.cache&&wy(l,[wn],h,!0))),ni(s,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function rs(s){s.flags|=4}function c0(s,l,h,v,_){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(_&335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(LE())s.flags|=8192;else throw Tl=cp,Cy}else s.flags&=-16777217}function cE(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!SC(l))if(LE())s.flags|=8192;else throw Tl=cp,Cy}function Cp(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Mf():536870912,s.lanes|=l,qc|=l)}function Dd(s,l){if(!ee)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function ze(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,v=0;if(l)for(var _=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags&65011712,v|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=v,s.childLanes=h,l}function bB(s,l,h){var v=l.pendingProps;switch(rn(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(l),null;case 1:return ze(l),null;case 3:return h=l.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),l.memoizedState.cache!==v&&(l.flags|=2048),ts(wn),dt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Fr(l)?rs(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xd())),ze(l),null;case 26:var _=l.type,S=l.memoizedState;return s===null?(rs(l),S!==null?(ze(l),cE(l,S)):(ze(l),c0(l,_,null,v,h))):S?S!==s.memoizedState?(rs(l),ze(l),cE(l,S)):(ze(l),l.flags&=-16777217):(s=s.memoizedProps,s!==v&&rs(l),ze(l),c0(l,_,s,v,h)),null;case 27:if(Bt(l),h=wt.current,_=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&rs(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return ze(l),null}s=gt.current,Fr(l)?bd(l):(s=gC(_,v,h),l.stateNode=s,rs(l))}return ze(l),null;case 5:if(Bt(l),_=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==v&&rs(l);else{if(!v){if(l.stateNode===null)throw Error(i(166));return ze(l),null}if(S=gt.current,Fr(l))bd(l);else{var D=Up(wt.current);switch(S){case 1:S=D.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:S=D.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":S=D.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":S=D.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":S=D.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof v.is=="string"?D.createElement("select",{is:v.is}):D.createElement("select"),v.multiple?S.multiple=!0:v.size&&(S.size=v.size);break;default:S=typeof v.is=="string"?D.createElement(_,{is:v.is}):D.createElement(_)}}S[xn]=l,S[Un]=v;t:for(D=l.child;D!==null;){if(D.tag===5||D.tag===6)S.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===l)break t;for(;D.sibling===null;){if(D.return===null||D.return===l)break t;D=D.return}D.sibling.return=D.return,D=D.sibling}l.stateNode=S;t:switch(ii(S,_,v),_){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break t;case"img":v=!0;break t;default:v=!1}v&&rs(l)}}return ze(l),c0(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,h),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==v&&rs(l);else{if(typeof v!="string"&&l.stateNode===null)throw Error(i(166));if(s=wt.current,Fr(l)){if(s=l.stateNode,h=l.memoizedProps,v=null,_=ue,_!==null)switch(_.tag){case 27:case 5:v=_.memoizedProps}s[xn]=l,s=!!(s.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||aC(s.nodeValue,h)),s||fa(l,!0)}else s=Up(s).createTextNode(v),s[xn]=l,l.stateNode=s}return ze(l),null;case 31:if(h=l.memoizedState,s===null||s.memoizedState!==null){if(v=Fr(l),h!==null){if(s===null){if(!v)throw Error(i(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[xn]=l}else Ja(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ze(l),s=!1}else h=xd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return l.flags&256?(Qi(l),l):(Qi(l),null);if((l.flags&128)!==0)throw Error(i(558))}return ze(l),null;case 13:if(v=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=Fr(l),v!==null&&v.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[xn]=l}else Ja(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ze(l),_=!1}else _=xd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return l.flags&256?(Qi(l),l):(Qi(l),null)}return Qi(l),(l.flags&128)!==0?(l.lanes=h,l):(h=v!==null,s=s!==null&&s.memoizedState!==null,h&&(v=l.child,_=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(_=v.alternate.memoizedState.cachePool.pool),S=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(S=v.memoizedState.cachePool.pool),S!==_&&(v.flags|=2048)),h!==s&&h&&(l.child.flags|=8192),Cp(l,l.updateQueue),ze(l),null);case 4:return dt(),s===null&&N0(l.stateNode.containerInfo),ze(l),null;case 10:return ts(l.type),ze(l),null;case 19:if(X(mn),v=l.memoizedState,v===null)return ze(l),null;if(_=(l.flags&128)!==0,S=v.rendering,S===null)if(_)Dd(v,!1);else{if(sn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(S=fp(s),S!==null){for(l.flags|=128,Dd(v,!1),s=S.updateQueue,l.updateQueue=s,Cp(l,s),l.subtreeFlags=0,s=h,h=l.child;h!==null;)gd(h,s),h=h.sibling;return ut(mn,mn.current&1|2),ee&&Dt(l,v.treeForkCount),l.child}s=s.sibling}v.tail!==null&&vi()>Np&&(l.flags|=128,_=!0,Dd(v,!1),l.lanes=4194304)}else{if(!_)if(s=fp(S),s!==null){if(l.flags|=128,_=!0,s=s.updateQueue,l.updateQueue=s,Cp(l,s),Dd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!ee)return ze(l),null}else 2*vi()-v.renderingStartTime>Np&&h!==536870912&&(l.flags|=128,_=!0,Dd(v,!1),l.lanes=4194304);v.isBackwards?(S.sibling=l.child,l.child=S):(s=v.last,s!==null?s.sibling=S:l.child=S,v.last=S)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=vi(),s.sibling=null,h=mn.current,ut(mn,_?h&1|2:h&1),ee&&Dt(l,v.treeForkCount),s):(ze(l),null);case 22:case 23:return Qi(l),ky(),v=l.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(l.flags|=8192):v&&(l.flags|=8192),v?(h&536870912)!==0&&(l.flags&128)===0&&(ze(l),l.subtreeFlags&6&&(l.flags|=8192)):ze(l),h=l.updateQueue,h!==null&&Cp(l,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048),s!==null&&X(El),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),ts(wn),ze(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function xB(s,l){switch(rn(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return ts(wn),dt(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return Bt(l),null;case 31:if(l.memoizedState!==null){if(Qi(l),l.alternate===null)throw Error(i(340));Ja()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(Qi(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Ja()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return X(mn),null;case 4:return dt(),null;case 10:return ts(l.type),null;case 22:case 23:return Qi(l),ky(),s!==null&&X(El),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return ts(wn),null;case 25:return null;default:return null}}function uE(s,l){switch(rn(l),l.tag){case 3:ts(wn),dt();break;case 26:case 27:case 5:Bt(l);break;case 4:dt();break;case 31:l.memoizedState!==null&&Qi(l);break;case 13:Qi(l);break;case 19:X(mn);break;case 10:ts(l.type);break;case 22:case 23:Qi(l),ky(),s!==null&&X(El);break;case 24:ts(wn)}}function jd(s,l){try{var h=l.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&s)===s){v=void 0;var S=h.create,D=h.inst;v=S(),D.destroy=v}h=h.next}while(h!==_)}}catch(F){Ee(l,l.return,F)}}function ao(s,l,h){try{var v=l.updateQueue,_=v!==null?v.lastEffect:null;if(_!==null){var S=_.next;v=S;do{if((v.tag&s)===s){var D=v.inst,F=D.destroy;if(F!==void 0){D.destroy=void 0,_=l;var V=h,at=F;try{at()}catch(ht){Ee(_,V,ht)}}}v=v.next}while(v!==S)}}catch(ht){Ee(l,l.return,ht)}}function dE(s){var l=s.updateQueue;if(l!==null){var h=s.stateNode;try{eS(l,h)}catch(v){Ee(s,s.return,v)}}}function hE(s,l,h){h.props=Ml(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(v){Ee(s,l,v)}}function Ld(s,l){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof h=="function"?s.refCleanup=h(v):h.current=v}}catch(_){Ee(s,l,_)}}function ma(s,l){var h=s.ref,v=s.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(_){Ee(s,l,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){Ee(s,l,_)}else h.current=null}function fE(s){var l=s.type,h=s.memoizedProps,v=s.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break t;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(_){Ee(s,s.return,_)}}function u0(s,l,h){try{var v=s.stateNode;HB(v,s.type,h,l),v[Un]=l}catch(_){Ee(s,s.return,_)}}function pE(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fo(s.type)||s.tag===4}function d0(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||pE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fo(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function h0(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(s),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Mi));else if(v!==4&&(v===27&&fo(s.type)&&(h=s.stateNode,l=null),s=s.child,s!==null))for(h0(s,l,h),s=s.sibling;s!==null;)h0(s,l,h),s=s.sibling}function Tp(s,l,h){var v=s.tag;if(v===5||v===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(v!==4&&(v===27&&fo(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Tp(s,l,h),s=s.sibling;s!==null;)Tp(s,l,h),s=s.sibling}function mE(s){var l=s.stateNode,h=s.memoizedProps;try{for(var v=s.type,_=l.attributes;_.length;)l.removeAttributeNode(_[0]);ii(l,v,h),l[xn]=s,l[Un]=h}catch(S){Ee(s,s.return,S)}}var as=!1,En=!1,f0=!1,gE=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function _B(s,l){if(s=s.containerInfo,j0=Yp,s=pl(s),oa(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else t:{h=(h=s.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var _=v.anchorOffset,S=v.focusNode;v=v.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break t}var D=0,F=-1,V=-1,at=0,ht=0,mt=s,ot=null;e:for(;;){for(var lt;mt!==h||_!==0&&mt.nodeType!==3||(F=D+_),mt!==S||v!==0&&mt.nodeType!==3||(V=D+v),mt.nodeType===3&&(D+=mt.nodeValue.length),(lt=mt.firstChild)!==null;)ot=mt,mt=lt;for(;;){if(mt===s)break e;if(ot===h&&++at===_&&(F=D),ot===S&&++ht===v&&(V=D),(lt=mt.nextSibling)!==null)break;mt=ot,ot=mt.parentNode}mt=lt}h=F===-1||V===-1?null:{start:F,end:V}}else h=null}h=h||{start:0,end:0}}else h=null;for(L0={focusedElem:s,selectionRange:h},Yp=!1,Gn=l;Gn!==null;)if(l=Gn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Gn=s;else for(;Gn!==null;){switch(l=Gn,S=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)_=s[h],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,h=l,_=S.memoizedProps,S=S.memoizedState,v=h.stateNode;try{var Mt=Ml(h.type,_);s=v.getSnapshotBeforeUpdate(Mt,S),v.__reactInternalSnapshotBeforeUpdate=s}catch(It){Ee(h,h.return,It)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,h=s.nodeType,h===9)B0(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":B0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=l.sibling,s!==null){s.return=l.return,Gn=s;break}Gn=l.return}}function vE(s,l,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:os(s,h),v&4&&jd(5,h);break;case 1:if(os(s,h),v&4)if(s=h.stateNode,l===null)try{s.componentDidMount()}catch(D){Ee(h,h.return,D)}else{var _=Ml(h.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(_,l,s.__reactInternalSnapshotBeforeUpdate)}catch(D){Ee(h,h.return,D)}}v&64&&dE(h),v&512&&Ld(h,h.return);break;case 3:if(os(s,h),v&64&&(s=h.updateQueue,s!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{eS(s,l)}catch(D){Ee(h,h.return,D)}}break;case 27:l===null&&v&4&&mE(h);case 26:case 5:os(s,h),l===null&&v&4&&fE(h),v&512&&Ld(h,h.return);break;case 12:os(s,h);break;case 31:os(s,h),v&4&&xE(s,h);break;case 13:os(s,h),v&4&&_E(s,h),v&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=MB.bind(null,h),ZB(s,h))));break;case 22:if(v=h.memoizedState!==null||as,!v){l=l!==null&&l.memoizedState!==null||En,_=as;var S=En;as=v,(En=l)&&!S?ls(s,h,(h.subtreeFlags&8772)!==0):os(s,h),as=_,En=S}break;case 30:break;default:os(s,h)}}function yE(s){var l=s.alternate;l!==null&&(s.alternate=null,yE(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Qu(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ge=null,Li=!1;function ss(s,l,h){for(h=h.child;h!==null;)bE(s,l,h),h=h.sibling}function bE(s,l,h){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(js,h)}catch{}switch(h.tag){case 26:En||ma(h,l),ss(s,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:En||ma(h,l);var v=Ge,_=Li;fo(h.type)&&(Ge=h.stateNode,Li=!1),ss(s,l,h),Gd(h.stateNode),Ge=v,Li=_;break;case 5:En||ma(h,l);case 6:if(v=Ge,_=Li,Ge=null,ss(s,l,h),Ge=v,Li=_,Ge!==null)if(Li)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(h.stateNode)}catch(S){Ee(h,l,S)}else try{Ge.removeChild(h.stateNode)}catch(S){Ee(h,l,S)}break;case 18:Ge!==null&&(Li?(s=Ge,dC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),Jc(s)):dC(Ge,h.stateNode));break;case 4:v=Ge,_=Li,Ge=h.stateNode.containerInfo,Li=!0,ss(s,l,h),Ge=v,Li=_;break;case 0:case 11:case 14:case 15:ao(2,h,l),En||ao(4,h,l),ss(s,l,h);break;case 1:En||(ma(h,l),v=h.stateNode,typeof v.componentWillUnmount=="function"&&hE(h,l,v)),ss(s,l,h);break;case 21:ss(s,l,h);break;case 22:En=(v=En)||h.memoizedState!==null,ss(s,l,h),En=v;break;default:ss(s,l,h)}}function xE(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Jc(s)}catch(h){Ee(l,l.return,h)}}}function _E(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Jc(s)}catch(h){Ee(l,l.return,h)}}function wB(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new gE),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new gE),l;default:throw Error(i(435,s.tag))}}function Op(s,l){var h=wB(s);l.forEach(function(v){if(!h.has(v)){h.add(v);var _=NB.bind(null,s,v);v.then(_,_)}})}function Ri(s,l){var h=l.deletions;if(h!==null)for(var v=0;v<h.length;v++){var _=h[v],S=s,D=l,F=D;t:for(;F!==null;){switch(F.tag){case 27:if(fo(F.type)){Ge=F.stateNode,Li=!1;break t}break;case 5:Ge=F.stateNode,Li=!1;break t;case 3:case 4:Ge=F.stateNode.containerInfo,Li=!0;break t}F=F.return}if(Ge===null)throw Error(i(160));bE(S,D,_),Ge=null,Li=!1,S=_.alternate,S!==null&&(S.return=null),_.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)wE(l,s),l=l.sibling}var Hr=null;function wE(s,l){var h=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ri(l,s),Ii(s),v&4&&(ao(3,s,s.return),jd(3,s),ao(5,s,s.return));break;case 1:Ri(l,s),Ii(s),v&512&&(En||h===null||ma(h,h.return)),v&64&&as&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var _=Hr;if(Ri(l,s),Ii(s),v&512&&(En||h===null||ma(h,h.return)),v&4){var S=h!==null?h.memoizedState:null;if(v=s.memoizedState,h===null)if(v===null)if(s.stateNode===null){t:{v=s.type,h=s.memoizedProps,_=_.ownerDocument||_;e:switch(v){case"title":S=_.getElementsByTagName("title")[0],(!S||S[Qo]||S[xn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=_.createElement(v),_.head.insertBefore(S,_.querySelector("head > title"))),ii(S,v,h),S[xn]=s,_n(S),v=S;break t;case"link":var D=wC("link","href",_).get(v+(h.href||""));if(D){for(var F=0;F<D.length;F++)if(S=D[F],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(F,1);break e}}S=_.createElement(v),ii(S,v,h),_.head.appendChild(S);break;case"meta":if(D=wC("meta","content",_).get(v+(h.content||""))){for(F=0;F<D.length;F++)if(S=D[F],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(F,1);break e}}S=_.createElement(v),ii(S,v,h),_.head.appendChild(S);break;default:throw Error(i(468,v))}S[xn]=s,_n(S),v=S}s.stateNode=v}else AC(_,s.type,s.stateNode);else s.stateNode=_C(_,v,s.memoizedProps);else S!==v?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,v===null?AC(_,s.type,s.stateNode):_C(_,v,s.memoizedProps)):v===null&&s.stateNode!==null&&u0(s,s.memoizedProps,h.memoizedProps)}break;case 27:Ri(l,s),Ii(s),v&512&&(En||h===null||ma(h,h.return)),h!==null&&v&4&&u0(s,s.memoizedProps,h.memoizedProps);break;case 5:if(Ri(l,s),Ii(s),v&512&&(En||h===null||ma(h,h.return)),s.flags&32){_=s.stateNode;try{cr(_,"")}catch(Mt){Ee(s,s.return,Mt)}}v&4&&s.stateNode!=null&&(_=s.memoizedProps,u0(s,_,h!==null?h.memoizedProps:_)),v&1024&&(f0=!0);break;case 6:if(Ri(l,s),Ii(s),v&4){if(s.stateNode===null)throw Error(i(162));v=s.memoizedProps,h=s.stateNode;try{h.nodeValue=v}catch(Mt){Ee(s,s.return,Mt)}}break;case 3:if(Gp=null,_=Hr,Hr=Hp(l.containerInfo),Ri(l,s),Hr=_,Ii(s),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Jc(l.containerInfo)}catch(Mt){Ee(s,s.return,Mt)}f0&&(f0=!1,AE(s));break;case 4:v=Hr,Hr=Hp(s.stateNode.containerInfo),Ri(l,s),Ii(s),Hr=v;break;case 12:Ri(l,s),Ii(s);break;case 31:Ri(l,s),Ii(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Op(s,v)));break;case 13:Ri(l,s),Ii(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Mp=vi()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Op(s,v)));break;case 22:_=s.memoizedState!==null;var V=h!==null&&h.memoizedState!==null,at=as,ht=En;if(as=at||_,En=ht||V,Ri(l,s),En=ht,as=at,Ii(s),v&8192)t:for(l=s.stateNode,l._visibility=_?l._visibility&-2:l._visibility|1,_&&(h===null||V||as||En||Nl(s)),h=null,l=s;;){if(l.tag===5||l.tag===26){if(h===null){V=h=l;try{if(S=V.stateNode,_)D=S.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{F=V.stateNode;var mt=V.memoizedProps.style,ot=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;F.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(Mt){Ee(V,V.return,Mt)}}}else if(l.tag===6){if(h===null){V=l;try{V.stateNode.nodeValue=_?"":V.memoizedProps}catch(Mt){Ee(V,V.return,Mt)}}}else if(l.tag===18){if(h===null){V=l;try{var lt=V.stateNode;_?hC(lt,!0):hC(V.stateNode,!1)}catch(Mt){Ee(V,V.return,Mt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break t;for(;l.sibling===null;){if(l.return===null||l.return===s)break t;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}v&4&&(v=s.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,Op(s,h))));break;case 19:Ri(l,s),Ii(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,Op(s,v)));break;case 30:break;case 21:break;default:Ri(l,s),Ii(s)}}function Ii(s){var l=s.flags;if(l&2){try{for(var h,v=s.return;v!==null;){if(pE(v)){h=v;break}v=v.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var _=h.stateNode,S=d0(s);Tp(s,S,_);break;case 5:var D=h.stateNode;h.flags&32&&(cr(D,""),h.flags&=-33);var F=d0(s);Tp(s,F,D);break;case 3:case 4:var V=h.stateNode.containerInfo,at=d0(s);h0(s,at,V);break;default:throw Error(i(161))}}catch(ht){Ee(s,s.return,ht)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function AE(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;AE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function os(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)vE(s,l.alternate,l),l=l.sibling}function Nl(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:ao(4,l,l.return),Nl(l);break;case 1:ma(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&hE(l,l.return,h),Nl(l);break;case 27:Gd(l.stateNode);case 26:case 5:ma(l,l.return),Nl(l);break;case 22:l.memoizedState===null&&Nl(l);break;case 30:Nl(l);break;default:Nl(l)}s=s.sibling}}function ls(s,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var v=l.alternate,_=s,S=l,D=S.flags;switch(S.tag){case 0:case 11:case 15:ls(_,S,h),jd(4,S);break;case 1:if(ls(_,S,h),v=S,_=v.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(at){Ee(v,v.return,at)}if(v=S,_=v.updateQueue,_!==null){var F=v.stateNode;try{var V=_.shared.hiddenCallbacks;if(V!==null)for(_.shared.hiddenCallbacks=null,_=0;_<V.length;_++)tS(V[_],F)}catch(at){Ee(v,v.return,at)}}h&&D&64&&dE(S),Ld(S,S.return);break;case 27:mE(S);case 26:case 5:ls(_,S,h),h&&v===null&&D&4&&fE(S),Ld(S,S.return);break;case 12:ls(_,S,h);break;case 31:ls(_,S,h),h&&D&4&&xE(_,S);break;case 13:ls(_,S,h),h&&D&4&&_E(_,S);break;case 22:S.memoizedState===null&&ls(_,S,h),Ld(S,S.return);break;case 30:break;default:ls(_,S,h)}l=l.sibling}}function p0(s,l){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&_d(h))}function m0(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&_d(s))}function $r(s,l,h,v){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)SE(s,l,h,v),l=l.sibling}function SE(s,l,h,v){var _=l.flags;switch(l.tag){case 0:case 11:case 15:$r(s,l,h,v),_&2048&&jd(9,l);break;case 1:$r(s,l,h,v);break;case 3:$r(s,l,h,v),_&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&_d(s)));break;case 12:if(_&2048){$r(s,l,h,v),s=l.stateNode;try{var S=l.memoizedProps,D=S.id,F=S.onPostCommit;typeof F=="function"&&F(D,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Ee(l,l.return,V)}}else $r(s,l,h,v);break;case 31:$r(s,l,h,v);break;case 13:$r(s,l,h,v);break;case 23:break;case 22:S=l.stateNode,D=l.alternate,l.memoizedState!==null?S._visibility&2?$r(s,l,h,v):Rd(s,l):S._visibility&2?$r(s,l,h,v):(S._visibility|=2,Hc(s,l,h,v,(l.subtreeFlags&10256)!==0||!1)),_&2048&&p0(D,l);break;case 24:$r(s,l,h,v),_&2048&&m0(l.alternate,l);break;default:$r(s,l,h,v)}}function Hc(s,l,h,v,_){for(_=_&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var S=s,D=l,F=h,V=v,at=D.flags;switch(D.tag){case 0:case 11:case 15:Hc(S,D,F,V,_),jd(8,D);break;case 23:break;case 22:var ht=D.stateNode;D.memoizedState!==null?ht._visibility&2?Hc(S,D,F,V,_):Rd(S,D):(ht._visibility|=2,Hc(S,D,F,V,_)),_&&at&2048&&p0(D.alternate,D);break;case 24:Hc(S,D,F,V,_),_&&at&2048&&m0(D.alternate,D);break;default:Hc(S,D,F,V,_)}l=l.sibling}}function Rd(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=s,v=l,_=v.flags;switch(v.tag){case 22:Rd(h,v),_&2048&&p0(v.alternate,v);break;case 24:Rd(h,v),_&2048&&m0(v.alternate,v);break;default:Rd(h,v)}l=l.sibling}}var Id=8192;function $c(s,l,h){if(s.subtreeFlags&Id)for(s=s.child;s!==null;)EE(s,l,h),s=s.sibling}function EE(s,l,h){switch(s.tag){case 26:$c(s,l,h),s.flags&Id&&s.memoizedState!==null&&lz(h,Hr,s.memoizedState,s.memoizedProps);break;case 5:$c(s,l,h);break;case 3:case 4:var v=Hr;Hr=Hp(s.stateNode.containerInfo),$c(s,l,h),Hr=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=Id,Id=16777216,$c(s,l,h),Id=v):$c(s,l,h));break;default:$c(s,l,h)}}function CE(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Bd(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];Gn=v,OE(v,s)}CE(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)TE(s),s=s.sibling}function TE(s){switch(s.tag){case 0:case 11:case 15:Bd(s),s.flags&2048&&ao(9,s,s.return);break;case 3:Bd(s);break;case 12:Bd(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Pp(s)):Bd(s);break;default:Bd(s)}}function Pp(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var v=l[h];Gn=v,OE(v,s)}CE(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:ao(8,l,l.return),Pp(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Pp(l));break;default:Pp(l)}s=s.sibling}}function OE(s,l){for(;Gn!==null;){var h=Gn;switch(h.tag){case 0:case 11:case 15:ao(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:_d(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,Gn=v;else t:for(h=s;Gn!==null;){v=Gn;var _=v.sibling,S=v.return;if(yE(v),v===h){Gn=null;break t}if(_!==null){_.return=S,Gn=_;break t}Gn=S}}}var AB={getCacheForType:function(s){var l=ei(wn),h=l.data.get(s);return h===void 0&&(h=s(),l.data.set(s,h)),h},cacheSignal:function(){return ei(wn).controller.signal}},SB=typeof WeakMap=="function"?WeakMap:Map,me=0,je=null,ne=null,ae=0,Se=0,Ji=null,so=!1,Gc=!1,g0=!1,cs=0,sn=0,oo=0,kl=0,v0=0,tr=0,qc=0,zd=null,Bi=null,y0=!1,Mp=0,PE=0,Np=1/0,kp=null,lo=null,Dn=0,co=null,Vc=null,us=0,b0=0,x0=null,ME=null,Fd=0,_0=null;function er(){return(me&2)!==0&&ae!==0?ae&-ae:$.T!==null?T0():Zu()}function NE(){if(tr===0)if((ae&536870912)===0||ee){var s=Ko;Ko<<=1,(Ko&3932160)===0&&(Ko=262144),tr=s}else tr=536870912;return s=Xi.current,s!==null&&(s.flags|=32),tr}function zi(s,l,h){(s===je&&(Se===2||Se===9)||s.cancelPendingCommit!==null)&&(Wc(s,0),uo(s,ae,tr,!1)),$a(s,h),((me&2)===0||s!==je)&&(s===je&&((me&2)===0&&(kl|=h),sn===4&&uo(s,ae,tr,!1)),ga(s))}function kE(s,l,h){if((me&6)!==0)throw Error(i(327));var v=!h&&(l&127)===0&&(l&s.expiredLanes)===0||Xo(s,l),_=v?TB(s,l):A0(s,l,!0),S=v;do{if(_===0){Gc&&!v&&uo(s,l,0,!1);break}else{if(h=s.current.alternate,S&&!EB(h)){_=A0(s,l,!1),S=!1;continue}if(_===2){if(S=l,s.errorRecoveryDisabledLanes&S)var D=0;else D=s.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;t:{var F=s;_=zd;var V=F.current.memoizedState.isDehydrated;if(V&&(Wc(F,D).flags|=256),D=A0(F,D,!1),D!==2){if(g0&&!V){F.errorRecoveryDisabledLanes|=S,kl|=S,_=4;break t}S=Bi,Bi=_,S!==null&&(Bi===null?Bi=S:Bi.push.apply(Bi,S))}_=D}if(S=!1,_!==2)continue}}if(_===1){Wc(s,0),uo(s,l,0,!0);break}t:{switch(v=s,S=_,S){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:uo(v,l,tr,!so);break t;case 2:Bi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(_=Mp+300-vi(),10<_)){if(uo(v,l,tr,!so),fc(v,0,!0)!==0)break t;us=l,v.timeoutHandle=cC(DE.bind(null,v,h,Bi,kp,y0,l,tr,kl,qc,so,S,"Throttled",-0,0),_);break t}DE(v,h,Bi,kp,y0,l,tr,kl,qc,so,S,null,-0,0)}}break}while(!0);ga(s)}function DE(s,l,h,v,_,S,D,F,V,at,ht,mt,ot,lt){if(s.timeoutHandle=-1,mt=l.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},EE(l,S,mt);var Mt=(S&62914560)===S?Mp-vi():(S&4194048)===S?PE-vi():0;if(Mt=cz(mt,Mt),Mt!==null){us=S,s.cancelPendingCommit=Mt(UE.bind(null,s,l,S,h,v,_,D,F,V,ht,mt,null,ot,lt)),uo(s,S,D,!at);return}}UE(s,l,S,h,v,_,D,F,V)}function EB(s){for(var l=s;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var _=h[v],S=_.getSnapshot;_=_.value;try{if(!Hn(S(),_))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function uo(s,l,h,v){l&=~v0,l&=~kl,s.suspendedLanes|=l,s.pingedLanes&=~l,v&&(s.warmLanes|=l),v=s.expirationTimes;for(var _=l;0<_;){var S=31-yi(_),D=1<<S;v[S]=-1,_&=~D}h!==0&&Nf(s,h,l)}function Dp(){return(me&6)===0?(Ud(0),!1):!0}function w0(){if(ne!==null){if(Se===0)var s=ne.return;else s=ne,Ur=pa=null,By(s),Ic=null,Ad=0,s=ne;for(;s!==null;)uE(s.alternate,s),s=s.return;ne=null}}function Wc(s,l){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,qB(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),us=0,w0(),je=s,ne=h=gr(s.current,null),ae=l,Se=0,Ji=null,so=!1,Gc=Xo(s,l),g0=!1,qc=tr=v0=kl=oo=sn=0,Bi=zd=null,y0=!1,(l&8)!==0&&(l|=l&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=l;0<v;){var _=31-yi(v),S=1<<_;l|=s[_],v&=~S}return cs=l,bl(),h}function jE(s,l){Kt=null,$.H=Nd,l===Rc||l===lp?(l=ZA(),Se=3):l===Cy?(l=ZA(),Se=4):Se=l===t0?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ji=l,ne===null&&(sn=1,wp(s,g(l,s.current)))}function LE(){var s=Xi.current;return s===null?!0:(ae&4194048)===ae?vr===null:(ae&62914560)===ae||(ae&536870912)!==0?s===vr:!1}function RE(){var s=$.H;return $.H=Nd,s===null?Nd:s}function IE(){var s=$.A;return $.A=AB,s}function jp(){sn=4,so||(ae&4194048)!==ae&&Xi.current!==null||(Gc=!0),(oo&134217727)===0&&(kl&134217727)===0||je===null||uo(je,ae,tr,!1)}function A0(s,l,h){var v=me;me|=2;var _=RE(),S=IE();(je!==s||ae!==l)&&(kp=null,Wc(s,l)),l=!1;var D=sn;t:do try{if(Se!==0&&ne!==null){var F=ne,V=Ji;switch(Se){case 8:w0(),D=6;break t;case 3:case 2:case 9:case 6:Xi.current===null&&(l=!0);var at=Se;if(Se=0,Ji=null,Yc(s,F,V,at),h&&Gc){D=0;break t}break;default:at=Se,Se=0,Ji=null,Yc(s,F,V,at)}}CB(),D=sn;break}catch(ht){jE(s,ht)}while(!0);return l&&s.shellSuspendCounter++,Ur=pa=null,me=v,$.H=_,$.A=S,ne===null&&(je=null,ae=0,bl()),D}function CB(){for(;ne!==null;)BE(ne)}function TB(s,l){var h=me;me|=2;var v=RE(),_=IE();je!==s||ae!==l?(kp=null,Np=vi()+500,Wc(s,l)):Gc=Xo(s,l);t:do try{if(Se!==0&&ne!==null){l=ne;var S=Ji;e:switch(Se){case 1:Se=0,Ji=null,Yc(s,l,S,1);break;case 2:case 9:if(YA(S)){Se=0,Ji=null,zE(l);break}l=function(){Se!==2&&Se!==9||je!==s||(Se=7),ga(s)},S.then(l,l);break t;case 3:Se=7;break t;case 4:Se=5;break t;case 7:YA(S)?(Se=0,Ji=null,zE(l)):(Se=0,Ji=null,Yc(s,l,S,7));break;case 5:var D=null;switch(ne.tag){case 26:D=ne.memoizedState;case 5:case 27:var F=ne;if(D?SC(D):F.stateNode.complete){Se=0,Ji=null;var V=F.sibling;if(V!==null)ne=V;else{var at=F.return;at!==null?(ne=at,Lp(at)):ne=null}break e}}Se=0,Ji=null,Yc(s,l,S,5);break;case 6:Se=0,Ji=null,Yc(s,l,S,6);break;case 8:w0(),sn=6;break t;default:throw Error(i(462))}}OB();break}catch(ht){jE(s,ht)}while(!0);return Ur=pa=null,$.H=v,$.A=_,me=h,ne!==null?0:(je=null,ae=0,bl(),sn)}function OB(){for(;ne!==null&&!Tf();)BE(ne)}function BE(s){var l=lE(s.alternate,s,cs);s.memoizedProps=s.pendingProps,l===null?Lp(s):ne=l}function zE(s){var l=s,h=l.alternate;switch(l.tag){case 15:case 0:l=nE(h,l,l.pendingProps,l.type,void 0,ae);break;case 11:l=nE(h,l,l.pendingProps,l.type.render,l.ref,ae);break;case 5:By(l);default:uE(h,l),l=ne=gd(l,cs),l=lE(h,l,cs)}s.memoizedProps=s.pendingProps,l===null?Lp(s):ne=l}function Yc(s,l,h,v){Ur=pa=null,By(l),Ic=null,Ad=0;var _=l.return;try{if(gB(s,_,l,h,ae)){sn=1,wp(s,g(h,s.current)),ne=null;return}}catch(S){if(_!==null)throw ne=_,S;sn=1,wp(s,g(h,s.current)),ne=null;return}l.flags&32768?(ee||v===1?s=!0:Gc||(ae&536870912)!==0?s=!1:(so=s=!0,(v===2||v===9||v===3||v===6)&&(v=Xi.current,v!==null&&v.tag===13&&(v.flags|=16384))),FE(l,s)):Lp(l)}function Lp(s){var l=s;do{if((l.flags&32768)!==0){FE(l,so);return}s=l.return;var h=bB(l.alternate,l,cs);if(h!==null){ne=h;return}if(l=l.sibling,l!==null){ne=l;return}ne=l=s}while(l!==null);sn===0&&(sn=5)}function FE(s,l){do{var h=xB(s.alternate,s);if(h!==null){h.flags&=32767,ne=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(s=s.sibling,s!==null)){ne=s;return}ne=s=h}while(s!==null);sn=6,ne=null}function UE(s,l,h,v,_,S,D,F,V){s.cancelPendingCommit=null;do Rp();while(Dn!==0);if((me&6)!==0)throw Error(i(327));if(l!==null){if(l===s.current)throw Error(i(177));if(S=l.lanes|l.childLanes,S|=Pc,ay(s,h,S,D,F,V),s===je&&(ne=je=null,ae=0),Vc=l,co=s,us=h,b0=S,x0=_,ME=v,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,kB(Vo,function(){return VE(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||v){v=$.T,$.T=null,_=Q.p,Q.p=2,D=me,me|=4;try{_B(s,l,h)}finally{me=D,Q.p=_,$.T=v}}Dn=1,HE(),$E(),GE()}}function HE(){if(Dn===1){Dn=0;var s=co,l=Vc,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=$.T,$.T=null;var v=Q.p;Q.p=2;var _=me;me|=4;try{wE(l,s);var S=L0,D=pl(s.containerInfo),F=S.focusedElem,V=S.selectionRange;if(D!==F&&F&&F.ownerDocument&&Ec(F.ownerDocument.documentElement,F)){if(V!==null&&oa(F)){var at=V.start,ht=V.end;if(ht===void 0&&(ht=at),"selectionStart"in F)F.selectionStart=at,F.selectionEnd=Math.min(ht,F.value.length);else{var mt=F.ownerDocument||document,ot=mt&&mt.defaultView||window;if(ot.getSelection){var lt=ot.getSelection(),Mt=F.textContent.length,It=Math.min(V.start,Mt),Me=V.end===void 0?It:Math.min(V.end,Mt);!lt.extend&&It>Me&&(D=Me,Me=It,It=D);var J=fl(F,It),K=fl(F,Me);if(J&&K&&(lt.rangeCount!==1||lt.anchorNode!==J.node||lt.anchorOffset!==J.offset||lt.focusNode!==K.node||lt.focusOffset!==K.offset)){var rt=mt.createRange();rt.setStart(J.node,J.offset),lt.removeAllRanges(),It>Me?(lt.addRange(rt),lt.extend(K.node,K.offset)):(rt.setEnd(K.node,K.offset),lt.addRange(rt))}}}}for(mt=[],lt=F;lt=lt.parentNode;)lt.nodeType===1&&mt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<mt.length;F++){var ft=mt[F];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}Yp=!!j0,L0=j0=null}finally{me=_,Q.p=v,$.T=h}}s.current=l,Dn=2}}function $E(){if(Dn===2){Dn=0;var s=co,l=Vc,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=$.T,$.T=null;var v=Q.p;Q.p=2;var _=me;me|=4;try{vE(s,l.alternate,l)}finally{me=_,Q.p=v,$.T=h}}Dn=3}}function GE(){if(Dn===4||Dn===3){Dn=0,Of();var s=co,l=Vc,h=us,v=ME;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Dn=5:(Dn=0,Vc=co=null,qE(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(lo=null),kt(h),l=l.stateNode,Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(js,l,void 0,(l.current.flags&128)===128)}catch{}if(v!==null){l=$.T,_=Q.p,Q.p=2,$.T=null;try{for(var S=s.onRecoverableError,D=0;D<v.length;D++){var F=v[D];S(F.value,{componentStack:F.stack})}}finally{$.T=l,Q.p=_}}(us&3)!==0&&Rp(),ga(s),_=s.pendingLanes,(h&261930)!==0&&(_&42)!==0?s===_0?Fd++:(Fd=0,_0=s):Fd=0,Ud(0)}}function qE(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,_d(l)))}function Rp(){return HE(),$E(),GE(),VE()}function VE(){if(Dn!==5)return!1;var s=co,l=b0;b0=0;var h=kt(us),v=$.T,_=Q.p;try{Q.p=32>h?32:h,$.T=null,h=x0,x0=null;var S=co,D=us;if(Dn=0,Vc=co=null,us=0,(me&6)!==0)throw Error(i(331));var F=me;if(me|=4,TE(S.current),SE(S,S.current,D,h),me=F,Ud(0,!1),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(js,S)}catch{}return!0}finally{Q.p=_,$.T=v,qE(s,l)}}function WE(s,l,h){l=g(h,l),l=Jy(s.stateNode,l,2),s=no(s,l,2),s!==null&&($a(s,2),ga(s))}function Ee(s,l,h){if(s.tag===3)WE(s,s,h);else for(;l!==null;){if(l.tag===3){WE(l,s,h);break}else if(l.tag===1){var v=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(lo===null||!lo.has(v))){s=g(h,s),h=YS(2),v=no(l,h,2),v!==null&&(KS(h,v,l,s),$a(v,2),ga(v));break}}l=l.return}}function S0(s,l,h){var v=s.pingCache;if(v===null){v=s.pingCache=new SB;var _=new Set;v.set(l,_)}else _=v.get(l),_===void 0&&(_=new Set,v.set(l,_));_.has(h)||(g0=!0,_.add(h),s=PB.bind(null,s,l,h),l.then(s,s))}function PB(s,l,h){var v=s.pingCache;v!==null&&v.delete(l),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,je===s&&(ae&h)===h&&(sn===4||sn===3&&(ae&62914560)===ae&&300>vi()-Mp?(me&2)===0&&Wc(s,0):v0|=h,qc===ae&&(qc=0)),ga(s)}function YE(s,l){l===0&&(l=Mf()),s=mr(s,l),s!==null&&($a(s,l),ga(s))}function MB(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),YE(s,h)}function NB(s,l){var h=0;switch(s.tag){case 31:case 13:var v=s.stateNode,_=s.memoizedState;_!==null&&(h=_.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(i(314))}v!==null&&v.delete(l),YE(s,h)}function kB(s,l){return dc(s,l)}var Ip=null,Kc=null,E0=!1,Bp=!1,C0=!1,ho=0;function ga(s){s!==Kc&&s.next===null&&(Kc===null?Ip=Kc=s:Kc=Kc.next=s),Bp=!0,E0||(E0=!0,jB())}function Ud(s,l){if(!C0&&Bp){C0=!0;do for(var h=!1,v=Ip;v!==null;){if(s!==0){var _=v.pendingLanes;if(_===0)var S=0;else{var D=v.suspendedLanes,F=v.pingedLanes;S=(1<<31-yi(42|s)+1)-1,S&=_&~(D&~F),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,QE(v,S))}else S=ae,S=fc(v,v===je?S:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(S&3)===0||Xo(v,S)||(h=!0,QE(v,S));v=v.next}while(h);C0=!1}}function DB(){KE()}function KE(){Bp=E0=!1;var s=0;ho!==0&&GB()&&(s=ho);for(var l=vi(),h=null,v=Ip;v!==null;){var _=v.next,S=ZE(v,l);S===0?(v.next=null,h===null?Ip=_:h.next=_,_===null&&(Kc=h)):(h=v,(s!==0||(S&3)!==0)&&(Bp=!0)),v=_}Dn!==0&&Dn!==5||Ud(s),ho!==0&&(ho=0)}function ZE(s,l){for(var h=s.suspendedLanes,v=s.pingedLanes,_=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var D=31-yi(S),F=1<<D,V=_[D];V===-1?((F&h)===0||(F&v)!==0)&&(_[D]=ry(F,l)):V<=l&&(s.expiredLanes|=F),S&=~F}if(l=je,h=ae,h=fc(s,s===l?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,h===0||s===l&&(Se===2||Se===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&qo(v),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||Xo(s,h)){if(l=h&-h,l===s.callbackPriority)return l;switch(v!==null&&qo(v),kt(h)){case 2:case 8:h=Wu;break;case 32:h=Vo;break;case 268435456:h=Yu;break;default:h=Vo}return v=XE.bind(null,s),h=dc(h,v),s.callbackPriority=l,s.callbackNode=h,l}return v!==null&&v!==null&&qo(v),s.callbackPriority=2,s.callbackNode=null,2}function XE(s,l){if(Dn!==0&&Dn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Rp()&&s.callbackNode!==h)return null;var v=ae;return v=fc(s,s===je?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(kE(s,v,l),ZE(s,vi()),s.callbackNode!=null&&s.callbackNode===h?XE.bind(null,s):null)}function QE(s,l){if(Rp())return null;kE(s,l,!0)}function jB(){VB(function(){(me&6)!==0?dc(hc,DB):KE()})}function T0(){if(ho===0){var s=jc;s===0&&(s=Yo,Yo<<=1,(Yo&261888)===0&&(Yo=256)),ho=s}return ho}function JE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fs(""+s)}function tC(s,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,s.id&&h.setAttribute("form",s.id),l.parentNode.insertBefore(h,l),s=new FormData(s),h.parentNode.removeChild(h),s}function LB(s,l,h,v,_){if(l==="submit"&&h&&h.stateNode===_){var S=JE((_[Un]||null).action),D=v.submitter;D&&(l=(l=D[Un]||null)?JE(l.formAction):D.getAttribute("formAction"),l!==null&&(S=l,D=null));var F=new yc("action","action",null,v,_);s.push({event:F,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ho!==0){var V=D?tC(_,D):new FormData(_);Wy(h,{pending:!0,data:V,method:_.method,action:S},null,V)}}else typeof S=="function"&&(F.preventDefault(),V=D?tC(_,D):new FormData(_),Wy(h,{pending:!0,data:V,method:_.method,action:S},S,V))},currentTarget:_}]})}}for(var O0=0;O0<ua.length;O0++){var P0=ua[O0],RB=P0.toLowerCase(),IB=P0[0].toUpperCase()+P0.slice(1);ki(RB,"on"+IB)}ki(gl,"onAnimationEnd"),ki(np,"onAnimationIteration"),ki(vl,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(yy,"onTransitionRun"),ki(ip,"onTransitionStart"),ki(by,"onTransitionCancel"),ki(Xs,"onTransitionEnd"),ia("onMouseEnter",["mouseout","mouseover"]),ia("onMouseLeave",["mouseout","mouseover"]),ia("onPointerEnter",["pointerout","pointerover"]),ia("onPointerLeave",["pointerout","pointerover"]),Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Va("onBeforeInput",["compositionend","keypress","textInput","paste"]),Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hd));function eC(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var v=s[h],_=v.event;v=v.listeners;t:{var S=void 0;if(l)for(var D=v.length-1;0<=D;D--){var F=v[D],V=F.instance,at=F.currentTarget;if(F=F.listener,V!==S&&_.isPropagationStopped())break t;S=F,_.currentTarget=at;try{S(_)}catch(ht){yl(ht)}_.currentTarget=null,S=V}else for(D=0;D<v.length;D++){if(F=v[D],V=F.instance,at=F.currentTarget,F=F.listener,V!==S&&_.isPropagationStopped())break t;S=F,_.currentTarget=at;try{S(_)}catch(ht){yl(ht)}_.currentTarget=null,S=V}}}}function ie(s,l){var h=l[ea];h===void 0&&(h=l[ea]=new Set);var v=s+"__bubble";h.has(v)||(nC(l,s,2,!1),h.add(v))}function M0(s,l,h){var v=0;l&&(v|=4),nC(h,s,v,l)}var zp="_reactListening"+Math.random().toString(36).slice(2);function N0(s){if(!s[zp]){s[zp]=!0,Rf.forEach(function(h){h!=="selectionchange"&&(BB.has(h)||M0(h,!1,s),M0(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[zp]||(l[zp]=!0,M0("selectionchange",!1,l))}}function nC(s,l,h,v){switch(NC(l)){case 2:var _=hz;break;case 8:_=fz;break;default:_=V0}h=_.bind(null,l,h,s),_=void 0,!rl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),v?_!==void 0?s.addEventListener(l,h,{capture:!0,passive:_}):s.addEventListener(l,h,!0):_!==void 0?s.addEventListener(l,h,{passive:_}):s.addEventListener(l,h,!1)}function k0(s,l,h,v,_){var S=v;if((l&1)===0&&(l&2)===0&&v!==null)t:for(;;){if(v===null)return;var D=v.tag;if(D===3||D===4){var F=v.stateNode.containerInfo;if(F===_)break;if(D===4)for(D=v.return;D!==null;){var V=D.tag;if((V===3||V===4)&&D.stateNode.containerInfo===_)return;D=D.return}for(;F!==null;){if(D=qa(F),D===null)return;if(V=D.tag,V===5||V===6||V===26||V===27){v=S=D;continue t}F=F.parentNode}}v=v.return}ad(function(){var at=S,ht=il(h),mt=[];t:{var ot=rp.get(s);if(ot!==void 0){var lt=yc,Mt=s;switch(s){case"keypress":if(al(h)===0)break t;case"keydown":case"keyup":lt=Gf;break;case"focusin":Mt="focus",lt=ld;break;case"focusout":Mt="blur",lt=ld;break;case"beforeblur":case"afterblur":lt=ld;break;case"click":if(h.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=oy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=hy;break;case gl:case np:case vl:lt=cd;break;case Xs:lt=Wf;break;case"scroll":case"scrollend":lt=re;break;case"wheel":lt=Za;break;case"copy":case"cut":case"paste":lt=dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=qf;break;case"toggle":case"beforetoggle":lt=ll}var It=(l&4)!==0,Me=!It&&(s==="scroll"||s==="scrollend"),J=It?ot!==null?ot+"Capture":null:ot;It=[];for(var K=at,rt;K!==null;){var ft=K;if(rt=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||rt===null||J===null||(ft=Ya(K,J),ft!=null&&It.push($d(K,ft,rt))),Me)break;K=K.return}0<It.length&&(ot=new lt(ot,Mt,null,h,ht),mt.push({event:ot,listeners:It}))}}if((l&7)===0){t:{if(ot=s==="mouseover"||s==="pointerover",lt=s==="mouseout"||s==="pointerout",ot&&h!==vc&&(Mt=h.relatedTarget||h.fromElement)&&(qa(Mt)||Mt[Ga]))break t;if((lt||ot)&&(ot=ht.window===ht?ht:(ot=ht.ownerDocument)?ot.defaultView||ot.parentWindow:window,lt?(Mt=h.relatedTarget||h.toElement,lt=at,Mt=Mt?qa(Mt):null,Mt!==null&&(Me=a(Mt),It=Mt.tag,Mt!==Me||It!==5&&It!==27&&It!==6)&&(Mt=null)):(lt=null,Mt=at),lt!==Mt)){if(It=zf,ft="onMouseLeave",J="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(It=qf,ft="onPointerLeave",J="onPointerEnter",K="pointer"),Me=lt==null?ot:na(lt),rt=Mt==null?ot:na(Mt),ot=new It(ft,K+"leave",lt,h,ht),ot.target=Me,ot.relatedTarget=rt,ft=null,qa(ht)===at&&(It=new It(J,K+"enter",Mt,h,ht),It.target=rt,It.relatedTarget=Me,ft=It),Me=ft,lt&&Mt)e:{for(It=zB,J=lt,K=Mt,rt=0,ft=J;ft;ft=It(ft))rt++;ft=0;for(var jt=K;jt;jt=It(jt))ft++;for(;0<rt-ft;)J=It(J),rt--;for(;0<ft-rt;)K=It(K),ft--;for(;rt--;){if(J===K||K!==null&&J===K.alternate){It=J;break e}J=It(J),K=It(K)}It=null}else It=null;lt!==null&&iC(mt,ot,lt,It,!1),Mt!==null&&Me!==null&&iC(mt,Me,Mt,It,!0)}}t:{if(ot=at?na(at):window,lt=ot.nodeName&&ot.nodeName.toLowerCase(),lt==="select"||lt==="input"&&ot.type==="file")var he=hl;else if(hr(ot))if(Xf)he=vy;else{he=gy;var Nt=Br}else lt=ot.nodeName,!lt||lt.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?at&&nl(at.elementType)&&(he=hl):he=Ws;if(he&&(he=he(s,at))){Zf(mt,he,h,ht);break t}Nt&&Nt(s,ot,at),s==="focusout"&&at&&ot.type==="number"&&at.memoizedProps.value!=null&&Lr(ot,"number",ot.value)}switch(Nt=at?na(at):window,s){case"focusin":(hr(Nt)||Nt.contentEditable==="true")&&(la=Nt,Tc=at,ml=null);break;case"focusout":ml=Tc=la=null;break;case"mousedown":Ks=!0;break;case"contextmenu":case"mouseup":case"dragend":Ks=!1,tp(mt,h,ht);break;case"selectionchange":if(Cc)break;case"keydown":case"keyup":tp(mt,h,ht)}var Xt;if(xc)t:{switch(s){case"compositionstart":var se="onCompositionStart";break t;case"compositionend":se="onCompositionEnd";break t;case"compositionupdate":se="onCompositionUpdate";break t}se=void 0}else Gs?Kf(s,h)&&(se="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(se="onCompositionStart");se&&(_c&&h.locale!=="ko"&&(Gs||se!=="onCompositionStart"?se==="onCompositionEnd"&&Gs&&(Xt=aa()):(ur=ht,Ka="value"in ur?ur.value:ur.textContent,Gs=!0)),Nt=Fp(at,se),0<Nt.length&&(se=new ud(se,s,null,h,ht),mt.push({event:se,listeners:Nt}),Xt?se.data=Xt:(Xt=pd(h),Xt!==null&&(se.data=Xt)))),(Xt=py?Zi(s,h):qs(s,h))&&(se=Fp(at,"onBeforeInput"),0<se.length&&(Nt=new ud("onBeforeInput","beforeinput",null,h,ht),mt.push({event:Nt,listeners:se}),Nt.data=Xt)),LB(mt,s,at,h,ht)}eC(mt,l)})}function $d(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Fp(s,l){for(var h=l+"Capture",v=[];s!==null;){var _=s,S=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||S===null||(_=Ya(s,h),_!=null&&v.unshift($d(s,_,S)),_=Ya(s,l),_!=null&&v.push($d(s,_,S))),s.tag===3)return v;s=s.return}return[]}function zB(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function iC(s,l,h,v,_){for(var S=l._reactName,D=[];h!==null&&h!==v;){var F=h,V=F.alternate,at=F.stateNode;if(F=F.tag,V!==null&&V===v)break;F!==5&&F!==26&&F!==27||at===null||(V=at,_?(at=Ya(h,S),at!=null&&D.unshift($d(h,at,V))):_||(at=Ya(h,S),at!=null&&D.push($d(h,at,V)))),h=h.return}D.length!==0&&s.push({event:l,listeners:D})}var FB=/\r\n?/g,UB=/\u0000|\uFFFD/g;function rC(s){return(typeof s=="string"?s:""+s).replace(FB,`
`).replace(UB,"")}function aC(s,l){return l=rC(l),rC(s)===l}function Pe(s,l,h,v,_,S){switch(h){case"children":typeof v=="string"?l==="body"||l==="textarea"&&v===""||cr(s,v):(typeof v=="number"||typeof v=="bigint")&&l!=="body"&&cr(s,""+v);break;case"className":Te(s,"class",v);break;case"tabIndex":Te(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Te(s,h,v);break;case"style":mc(s,v,S);break;case"data":if(l!=="object"){Te(s,"data",v);break}case"src":case"href":if(v===""&&(l!=="a"||h!=="href")){s.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(h);break}v=Fs(""+v),s.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(l!=="input"&&Pe(s,l,"name",_.name,_,null),Pe(s,l,"formEncType",_.formEncType,_,null),Pe(s,l,"formMethod",_.formMethod,_,null),Pe(s,l,"formTarget",_.formTarget,_,null)):(Pe(s,l,"encType",_.encType,_,null),Pe(s,l,"method",_.method,_,null),Pe(s,l,"target",_.target,_,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(h);break}v=Fs(""+v),s.setAttribute(h,v);break;case"onClick":v!=null&&(s.onclick=Mi);break;case"onScroll":v!=null&&ie("scroll",s);break;case"onScrollEnd":v!=null&&ie("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(h=v.__html,h!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=h}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}h=Fs(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,""+v):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":v===!0?s.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(h,v):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(h,v):s.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(h):s.setAttribute(h,v);break;case"popover":ie("beforetoggle",s),ie("toggle",s),te(s,"popover",v);break;case"xlinkActuate":Pi(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Pi(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Pi(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Pi(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Pi(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Pi(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Pi(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Pi(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Pi(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":te(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=gc.get(h)||h,te(s,h,v))}}function D0(s,l,h,v,_,S){switch(h){case"style":mc(s,v,S);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(i(61));if(h=v.__html,h!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=h}}break;case"children":typeof v=="string"?cr(s,v):(typeof v=="number"||typeof v=="bigint")&&cr(s,""+v);break;case"onScroll":v!=null&&ie("scroll",s);break;case"onScrollEnd":v!=null&&ie("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!If.hasOwnProperty(h))t:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),l=h.slice(2,_?h.length-7:void 0),S=s[Un]||null,S=S!=null?S[h]:null,typeof S=="function"&&s.removeEventListener(l,S,_),typeof v=="function")){typeof S!="function"&&S!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(l,v,_);break t}h in s?s[h]=v:v===!0?s.setAttribute(h,""):te(s,h,v)}}}function ii(s,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",s),ie("load",s);var v=!1,_=!1,S;for(S in h)if(h.hasOwnProperty(S)){var D=h[S];if(D!=null)switch(S){case"src":v=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Pe(s,l,S,D,h,null)}}_&&Pe(s,l,"srcSet",h.srcSet,h,null),v&&Pe(s,l,"src",h.src,h,null);return;case"input":ie("invalid",s);var F=S=D=_=null,V=null,at=null;for(v in h)if(h.hasOwnProperty(v)){var ht=h[v];if(ht!=null)switch(v){case"name":_=ht;break;case"type":D=ht;break;case"checked":V=ht;break;case"defaultChecked":at=ht;break;case"value":S=ht;break;case"defaultValue":F=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,l));break;default:Pe(s,l,v,ht,h,null)}}el(s,S,F,V,at,D,_,!1);return;case"select":ie("invalid",s),v=D=S=null;for(_ in h)if(h.hasOwnProperty(_)&&(F=h[_],F!=null))switch(_){case"value":S=F;break;case"defaultValue":D=F;break;case"multiple":v=F;default:Pe(s,l,_,F,h,null)}l=S,h=D,s.multiple=!!v,l!=null?De(s,!!v,l,!1):h!=null&&De(s,!!v,h,!0);return;case"textarea":ie("invalid",s),S=_=v=null;for(D in h)if(h.hasOwnProperty(D)&&(F=h[D],F!=null))switch(D){case"value":v=F;break;case"defaultValue":_=F;break;case"children":S=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:Pe(s,l,D,F,h,null)}Bs(s,v,_,S);return;case"option":for(V in h)h.hasOwnProperty(V)&&(v=h[V],v!=null)&&(V==="selected"?s.selected=v&&typeof v!="function"&&typeof v!="symbol":Pe(s,l,V,v,h,null));return;case"dialog":ie("beforetoggle",s),ie("toggle",s),ie("cancel",s),ie("close",s);break;case"iframe":case"object":ie("load",s);break;case"video":case"audio":for(v=0;v<Hd.length;v++)ie(Hd[v],s);break;case"image":ie("error",s),ie("load",s);break;case"details":ie("toggle",s);break;case"embed":case"source":case"link":ie("error",s),ie("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in h)if(h.hasOwnProperty(at)&&(v=h[at],v!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Pe(s,l,at,v,h,null)}return;default:if(nl(l)){for(ht in h)h.hasOwnProperty(ht)&&(v=h[ht],v!==void 0&&D0(s,l,ht,v,h,void 0));return}}for(F in h)h.hasOwnProperty(F)&&(v=h[F],v!=null&&Pe(s,l,F,v,h,null))}function HB(s,l,h,v){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,S=null,D=null,F=null,V=null,at=null,ht=null;for(lt in h){var mt=h[lt];if(h.hasOwnProperty(lt)&&mt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":V=mt;default:v.hasOwnProperty(lt)||Pe(s,l,lt,null,v,mt)}}for(var ot in v){var lt=v[ot];if(mt=h[ot],v.hasOwnProperty(ot)&&(lt!=null||mt!=null))switch(ot){case"type":S=lt;break;case"name":_=lt;break;case"checked":at=lt;break;case"defaultChecked":ht=lt;break;case"value":D=lt;break;case"defaultValue":F=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,l));break;default:lt!==mt&&Pe(s,l,ot,lt,v,mt)}}nd(s,D,F,V,at,ht,S,_);return;case"select":lt=D=F=ot=null;for(S in h)if(V=h[S],h.hasOwnProperty(S)&&V!=null)switch(S){case"value":break;case"multiple":lt=V;default:v.hasOwnProperty(S)||Pe(s,l,S,null,v,V)}for(_ in v)if(S=v[_],V=h[_],v.hasOwnProperty(_)&&(S!=null||V!=null))switch(_){case"value":ot=S;break;case"defaultValue":F=S;break;case"multiple":D=S;default:S!==V&&Pe(s,l,_,S,v,V)}l=F,h=D,v=lt,ot!=null?De(s,!!h,ot,!1):!!v!=!!h&&(l!=null?De(s,!!h,l,!0):De(s,!!h,h?[]:"",!1));return;case"textarea":lt=ot=null;for(F in h)if(_=h[F],h.hasOwnProperty(F)&&_!=null&&!v.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Pe(s,l,F,null,v,_)}for(D in v)if(_=v[D],S=h[D],v.hasOwnProperty(D)&&(_!=null||S!=null))switch(D){case"value":ot=_;break;case"defaultValue":lt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==S&&Pe(s,l,D,_,v,S)}ra(s,ot,lt);return;case"option":for(var Mt in h)ot=h[Mt],h.hasOwnProperty(Mt)&&ot!=null&&!v.hasOwnProperty(Mt)&&(Mt==="selected"?s.selected=!1:Pe(s,l,Mt,null,v,ot));for(V in v)ot=v[V],lt=h[V],v.hasOwnProperty(V)&&ot!==lt&&(ot!=null||lt!=null)&&(V==="selected"?s.selected=ot&&typeof ot!="function"&&typeof ot!="symbol":Pe(s,l,V,ot,v,lt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in h)ot=h[It],h.hasOwnProperty(It)&&ot!=null&&!v.hasOwnProperty(It)&&Pe(s,l,It,null,v,ot);for(at in v)if(ot=v[at],lt=h[at],v.hasOwnProperty(at)&&ot!==lt&&(ot!=null||lt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,l));break;default:Pe(s,l,at,ot,v,lt)}return;default:if(nl(l)){for(var Me in h)ot=h[Me],h.hasOwnProperty(Me)&&ot!==void 0&&!v.hasOwnProperty(Me)&&D0(s,l,Me,void 0,v,ot);for(ht in v)ot=v[ht],lt=h[ht],!v.hasOwnProperty(ht)||ot===lt||ot===void 0&&lt===void 0||D0(s,l,ht,ot,v,lt);return}}for(var J in h)ot=h[J],h.hasOwnProperty(J)&&ot!=null&&!v.hasOwnProperty(J)&&Pe(s,l,J,null,v,ot);for(mt in v)ot=v[mt],lt=h[mt],!v.hasOwnProperty(mt)||ot===lt||ot==null&&lt==null||Pe(s,l,mt,ot,v,lt)}function sC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $B(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var _=h[v],S=_.transferSize,D=_.initiatorType,F=_.duration;if(S&&F&&sC(D)){for(D=0,F=_.responseEnd,v+=1;v<h.length;v++){var V=h[v],at=V.startTime;if(at>F)break;var ht=V.transferSize,mt=V.initiatorType;ht&&sC(mt)&&(V=V.responseEnd,D+=ht*(V<F?1:(F-at)/(V-at)))}if(--v,l+=8*(S+D)/(_.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var j0=null,L0=null;function Up(s){return s.nodeType===9?s:s.ownerDocument}function oC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lC(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function R0(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var I0=null;function GB(){var s=window.event;return s&&s.type==="popstate"?s===I0?!1:(I0=s,!0):(I0=null,!1)}var cC=typeof setTimeout=="function"?setTimeout:void 0,qB=typeof clearTimeout=="function"?clearTimeout:void 0,uC=typeof Promise=="function"?Promise:void 0,VB=typeof queueMicrotask=="function"?queueMicrotask:typeof uC<"u"?function(s){return uC.resolve(null).then(s).catch(WB)}:cC;function WB(s){setTimeout(function(){throw s})}function fo(s){return s==="head"}function dC(s,l){var h=l,v=0;do{var _=h.nextSibling;if(s.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"||h==="/&"){if(v===0){s.removeChild(_),Jc(l);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")Gd(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Gd(h);for(var S=h.firstChild;S;){var D=S.nextSibling,F=S.nodeName;S[Qo]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=D}}else h==="body"&&Gd(s.ownerDocument.body);h=_}while(h);Jc(l)}function hC(s,l){var h=s;s=0;do{var v=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=v}while(h)}function B0(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":B0(h),Qu(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function YB(s,l,h,v){for(;s.nodeType===1;){var _=h;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[Qo])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var S=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=yr(s.nextSibling),s===null)break}return null}function KB(s,l,h){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=yr(s.nextSibling),s===null))return null;return s}function fC(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=yr(s.nextSibling),s===null))return null;return s}function z0(s){return s.data==="$?"||s.data==="$~"}function F0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function ZB(s,l){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||h.readyState!=="loading")l();else{var v=function(){l(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function yr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var U0=null;function pC(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(l===0)return yr(s.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}s=s.nextSibling}return null}function mC(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return s;l--}else h!=="/$"&&h!=="/&"||l++}s=s.previousSibling}return null}function gC(s,l,h){switch(l=Up(h),s){case"html":if(s=l.documentElement,!s)throw Error(i(452));return s;case"head":if(s=l.head,!s)throw Error(i(453));return s;case"body":if(s=l.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Gd(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Qu(s)}var br=new Map,vC=new Set;function Hp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ds=Q.d;Q.d={f:XB,r:QB,D:JB,C:tz,L:ez,m:nz,X:rz,S:iz,M:az};function XB(){var s=ds.f(),l=Dp();return s||l}function QB(s){var l=Ls(s);l!==null&&l.tag===5&&l.type==="form"?jS(l):ds.r(s)}var Zc=typeof document>"u"?null:document;function yC(s,l,h){var v=Zc;if(v&&typeof l=="string"&&l){var _=Be(l);_='link[rel="'+s+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),vC.has(_)||(vC.add(_),s={rel:s,crossOrigin:h,href:l},v.querySelector(_)===null&&(l=v.createElement("link"),ii(l,"link",s),_n(l),v.head.appendChild(l)))}}function JB(s){ds.D(s),yC("dns-prefetch",s,null)}function tz(s,l){ds.C(s,l),yC("preconnect",s,l)}function ez(s,l,h){ds.L(s,l,h);var v=Zc;if(v&&s&&l){var _='link[rel="preload"][as="'+Be(l)+'"]';l==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+Be(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+Be(h.imageSizes)+'"]')):_+='[href="'+Be(s)+'"]';var S=_;switch(l){case"style":S=Xc(s);break;case"script":S=Qc(s)}br.has(S)||(s=m({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:s,as:l},h),br.set(S,s),v.querySelector(_)!==null||l==="style"&&v.querySelector(qd(S))||l==="script"&&v.querySelector(Vd(S))||(l=v.createElement("link"),ii(l,"link",s),_n(l),v.head.appendChild(l)))}}function nz(s,l){ds.m(s,l);var h=Zc;if(h&&s){var v=l&&typeof l.as=="string"?l.as:"script",_='link[rel="modulepreload"][as="'+Be(v)+'"][href="'+Be(s)+'"]',S=_;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Qc(s)}if(!br.has(S)&&(s=m({rel:"modulepreload",href:s},l),br.set(S,s),h.querySelector(_)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Vd(S)))return}v=h.createElement("link"),ii(v,"link",s),_n(v),h.head.appendChild(v)}}}function iz(s,l,h){ds.S(s,l,h);var v=Zc;if(v&&s){var _=Rs(v).hoistableStyles,S=Xc(s);l=l||"default";var D=_.get(S);if(!D){var F={loading:0,preload:null};if(D=v.querySelector(qd(S)))F.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":l},h),(h=br.get(S))&&H0(s,h);var V=D=v.createElement("link");_n(V),ii(V,"link",s),V._p=new Promise(function(at,ht){V.onload=at,V.onerror=ht}),V.addEventListener("load",function(){F.loading|=1}),V.addEventListener("error",function(){F.loading|=2}),F.loading|=4,$p(D,l,v)}D={type:"stylesheet",instance:D,count:1,state:F},_.set(S,D)}}}function rz(s,l){ds.X(s,l);var h=Zc;if(h&&s){var v=Rs(h).hoistableScripts,_=Qc(s),S=v.get(_);S||(S=h.querySelector(Vd(_)),S||(s=m({src:s,async:!0},l),(l=br.get(_))&&$0(s,l),S=h.createElement("script"),_n(S),ii(S,"link",s),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},v.set(_,S))}}function az(s,l){ds.M(s,l);var h=Zc;if(h&&s){var v=Rs(h).hoistableScripts,_=Qc(s),S=v.get(_);S||(S=h.querySelector(Vd(_)),S||(s=m({src:s,async:!0,type:"module"},l),(l=br.get(_))&&$0(s,l),S=h.createElement("script"),_n(S),ii(S,"link",s),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},v.set(_,S))}}function bC(s,l,h,v){var _=(_=wt.current)?Hp(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Xc(h.href),h=Rs(_).hoistableStyles,v=h.get(l),v||(v={type:"style",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Xc(h.href);var S=Rs(_).hoistableStyles,D=S.get(s);if(D||(_=_.ownerDocument||_,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,D),(S=_.querySelector(qd(s)))&&!S._p&&(D.instance=S,D.state.loading=5),br.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},br.set(s,h),S||sz(_,s,h,D.state))),l&&v===null)throw Error(i(528,""));return D}if(l&&v!==null)throw Error(i(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Qc(h),h=Rs(_).hoistableScripts,v=h.get(l),v||(v={type:"script",instance:null,count:0,state:null},h.set(l,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Xc(s){return'href="'+Be(s)+'"'}function qd(s){return'link[rel="stylesheet"]['+s+"]"}function xC(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function sz(s,l,h,v){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?v.loading=1:(l=s.createElement("link"),v.preload=l,l.addEventListener("load",function(){return v.loading|=1}),l.addEventListener("error",function(){return v.loading|=2}),ii(l,"link",h),_n(l),s.head.appendChild(l))}function Qc(s){return'[src="'+Be(s)+'"]'}function Vd(s){return"script[async]"+s}function _C(s,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var v=s.querySelector('style[data-href~="'+Be(h.href)+'"]');if(v)return l.instance=v,_n(v),v;var _=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),_n(v),ii(v,"style",_),$p(v,h.precedence,s),l.instance=v;case"stylesheet":_=Xc(h.href);var S=s.querySelector(qd(_));if(S)return l.state.loading|=4,l.instance=S,_n(S),S;v=xC(h),(_=br.get(_))&&H0(v,_),S=(s.ownerDocument||s).createElement("link"),_n(S);var D=S;return D._p=new Promise(function(F,V){D.onload=F,D.onerror=V}),ii(S,"link",v),l.state.loading|=4,$p(S,h.precedence,s),l.instance=S;case"script":return S=Qc(h.src),(_=s.querySelector(Vd(S)))?(l.instance=_,_n(_),_):(v=h,(_=br.get(S))&&(v=m({},h),$0(v,_)),s=s.ownerDocument||s,_=s.createElement("script"),_n(_),ii(_,"link",v),s.head.appendChild(_),l.instance=_);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(v=l.instance,l.state.loading|=4,$p(v,h.precedence,s));return l.instance}function $p(s,l,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=v.length?v[v.length-1]:null,S=_,D=0;D<v.length;D++){var F=v[D];if(F.dataset.precedence===l)S=F;else if(S!==_)break}S?S.parentNode.insertBefore(s,S.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(s,l.firstChild))}function H0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function $0(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Gp=null;function wC(s,l,h){if(Gp===null){var v=new Map,_=Gp=new Map;_.set(h,v)}else _=Gp,v=_.get(h),v||(v=new Map,_.set(h,v));if(v.has(s))return v;for(v.set(s,null),h=h.getElementsByTagName(s),_=0;_<h.length;_++){var S=h[_];if(!(S[Qo]||S[xn]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var D=S.getAttribute(l)||"";D=s+D;var F=v.get(D);F?F.push(S):v.set(D,[S])}}return v}function AC(s,l,h){s=s.ownerDocument||s,s.head.insertBefore(h,l==="title"?s.querySelector("head > title"):null)}function oz(s,l,h){if(h===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(s=l.disabled,typeof l.precedence=="string"&&s==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function SC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function lz(s,l,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var _=Xc(v.href),S=l.querySelector(qd(_));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=qp.bind(s),l.then(s,s)),h.state.loading|=4,h.instance=S,_n(S);return}S=l.ownerDocument||l,v=xC(v),(_=br.get(_))&&H0(v,_),S=S.createElement("link"),_n(S);var D=S;D._p=new Promise(function(F,V){D.onload=F,D.onerror=V}),ii(S,"link",v),h.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=qp.bind(s),l.addEventListener("load",h),l.addEventListener("error",h))}}var G0=0;function cz(s,l){return s.stylesheets&&s.count===0&&Wp(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var v=setTimeout(function(){if(s.stylesheets&&Wp(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+l);0<s.imgBytes&&G0===0&&(G0=62500*$B());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Wp(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>G0?50:800)+l);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(_)}}:null}function qp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vp=null;function Wp(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vp=new Map,l.forEach(uz,s),Vp=null,qp.call(s))}function uz(s,l){if(!(l.state.loading&4)){var h=Vp.get(s);if(h)var v=h.get(null);else{h=new Map,Vp.set(s,h);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<_.length;S++){var D=_[S];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),v=D)}v&&h.set(null,v)}_=l.instance,D=_.getAttribute("data-precedence"),S=h.get(D)||v,S===v&&h.set(null,_),h.set(D,_),this.count++,v=qp.bind(this),_.addEventListener("load",v),_.addEventListener("error",v),S?S.parentNode.insertBefore(_,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),l.state.loading|=4}}var Wd={$$typeof:M,Provider:null,Consumer:null,_currentValue:nt,_currentValue2:nt,_threadCount:0};function dz(s,l,h,v,_,S,D,F,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ku(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ku(0),this.hiddenUpdates=Ku(null),this.identifierPrefix=v,this.onUncaughtError=_,this.onCaughtError=S,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function EC(s,l,h,v,_,S,D,F,V,at,ht,mt){return s=new dz(s,l,h,D,V,at,ht,mt,F),l=1,S===!0&&(l|=24),S=di(3,null,null,l),s.current=S,S.stateNode=s,l=Ay(),l.refCount++,s.pooledCache=l,l.refCount++,S.memoizedState={element:v,isDehydrated:h,cache:l},Ty(S),s}function CC(s){return s?(s=Xa,s):Xa}function TC(s,l,h,v,_,S){_=CC(_),v.context===null?v.context=_:v.pendingContext=_,v=eo(l),v.payload={element:h},S=S===void 0?null:S,S!==null&&(v.callback=S),h=no(s,v,l),h!==null&&(zi(h,s,l),Ed(h,s,l))}function OC(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function q0(s,l){OC(s,l),(s=s.alternate)&&OC(s,l)}function PC(s){if(s.tag===13||s.tag===31){var l=mr(s,67108864);l!==null&&zi(l,s,67108864),q0(s,67108864)}}function MC(s){if(s.tag===13||s.tag===31){var l=er();l=Oi(l);var h=mr(s,l);h!==null&&zi(h,s,l),q0(s,l)}}var Yp=!0;function hz(s,l,h,v){var _=$.T;$.T=null;var S=Q.p;try{Q.p=2,V0(s,l,h,v)}finally{Q.p=S,$.T=_}}function fz(s,l,h,v){var _=$.T;$.T=null;var S=Q.p;try{Q.p=8,V0(s,l,h,v)}finally{Q.p=S,$.T=_}}function V0(s,l,h,v){if(Yp){var _=W0(v);if(_===null)k0(s,l,v,Kp,h),kC(s,v);else if(mz(_,s,l,h,v))v.stopPropagation();else if(kC(s,v),l&4&&-1<pz.indexOf(s)){for(;_!==null;){var S=Ls(_);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var D=Ha(S.pendingLanes);if(D!==0){var F=S;for(F.pendingLanes|=2,F.entangledLanes|=2;D;){var V=1<<31-yi(D);F.entanglements[1]|=V,D&=~V}ga(S),(me&6)===0&&(Np=vi()+500,Ud(0))}}break;case 31:case 13:F=mr(S,2),F!==null&&zi(F,S,2),Dp(),q0(S,2)}if(S=W0(v),S===null&&k0(s,l,v,Kp,h),S===_)break;_=S}_!==null&&v.stopPropagation()}else k0(s,l,v,null,h)}}function W0(s){return s=il(s),Y0(s)}var Kp=null;function Y0(s){if(Kp=null,s=qa(s),s!==null){var l=a(s);if(l===null)s=null;else{var h=l.tag;if(h===13){if(s=o(l),s!==null)return s;s=null}else if(h===31){if(s=c(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Kp=s,null}function NC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jv()){case hc:return 2;case Wu:return 8;case Vo:case ty:return 32;case Yu:return 268435456;default:return 32}default:return 32}}var K0=!1,po=null,mo=null,go=null,Yd=new Map,Kd=new Map,vo=[],pz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kC(s,l){switch(s){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Yd.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kd.delete(l.pointerId)}}function Zd(s,l,h,v,_,S){return s===null||s.nativeEvent!==S?(s={blockedOn:l,domEventName:h,eventSystemFlags:v,nativeEvent:S,targetContainers:[_]},l!==null&&(l=Ls(l),l!==null&&PC(l)),s):(s.eventSystemFlags|=v,l=s.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),s)}function mz(s,l,h,v,_){switch(l){case"focusin":return po=Zd(po,s,l,h,v,_),!0;case"dragenter":return mo=Zd(mo,s,l,h,v,_),!0;case"mouseover":return go=Zd(go,s,l,h,v,_),!0;case"pointerover":var S=_.pointerId;return Yd.set(S,Zd(Yd.get(S)||null,s,l,h,v,_)),!0;case"gotpointercapture":return S=_.pointerId,Kd.set(S,Zd(Kd.get(S)||null,s,l,h,v,_)),!0}return!1}function DC(s){var l=qa(s.target);if(l!==null){var h=a(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){s.blockedOn=l,Xu(s.priority,function(){MC(h)});return}}else if(l===31){if(l=c(h),l!==null){s.blockedOn=l,Xu(s.priority,function(){MC(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Zp(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=W0(s.nativeEvent);if(h===null){h=s.nativeEvent;var v=new h.constructor(h.type,h);vc=v,h.target.dispatchEvent(v),vc=null}else return l=Ls(h),l!==null&&PC(l),s.blockedOn=h,!1;l.shift()}return!0}function jC(s,l,h){Zp(s)&&h.delete(l)}function gz(){K0=!1,po!==null&&Zp(po)&&(po=null),mo!==null&&Zp(mo)&&(mo=null),go!==null&&Zp(go)&&(go=null),Yd.forEach(jC),Kd.forEach(jC)}function Xp(s,l){s.blockedOn===l&&(s.blockedOn=null,K0||(K0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gz)))}var Qp=null;function LC(s){Qp!==s&&(Qp=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Qp===s&&(Qp=null);for(var l=0;l<s.length;l+=3){var h=s[l],v=s[l+1],_=s[l+2];if(typeof v!="function"){if(Y0(v||h)===null)continue;break}var S=Ls(h);S!==null&&(s.splice(l,3),l-=3,Wy(S,{pending:!0,data:_,method:h.method,action:v},v,_))}}))}function Jc(s){function l(V){return Xp(V,s)}po!==null&&Xp(po,s),mo!==null&&Xp(mo,s),go!==null&&Xp(go,s),Yd.forEach(l),Kd.forEach(l);for(var h=0;h<vo.length;h++){var v=vo[h];v.blockedOn===s&&(v.blockedOn=null)}for(;0<vo.length&&(h=vo[0],h.blockedOn===null);)DC(h),h.blockedOn===null&&vo.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var _=h[v],S=h[v+1],D=_[Un]||null;if(typeof S=="function")D||LC(h);else if(D){var F=null;if(S&&S.hasAttribute("formAction")){if(_=S,D=S[Un]||null)F=D.formAction;else if(Y0(_)!==null)continue}else F=D.action;typeof F=="function"?h[v+1]=F:(h.splice(v,3),v-=3),LC(h)}}}function RC(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(D){return _=D})},focusReset:"manual",scroll:"manual"})}function l(){_!==null&&(_(),_=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),_!==null&&(_(),_=null)}}}function Z0(s){this._internalRoot=s}Jp.prototype.render=Z0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(i(409));var h=l.current,v=er();TC(h,v,s,l,null,null)},Jp.prototype.unmount=Z0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;TC(s.current,2,null,s,null,null),Dp(),l[Ga]=null}};function Jp(s){this._internalRoot=s}Jp.prototype.unstable_scheduleHydration=function(s){if(s){var l=Zu();s={blockedOn:null,target:s,priority:l};for(var h=0;h<vo.length&&l!==0&&l<vo[h].priority;h++);vo.splice(h,0,s),h===0&&DC(s)}};var IC=t.version;if(IC!=="19.2.4")throw Error(i(527,IC,"19.2.4"));Q.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var vz={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tm.isDisabled&&tm.supportsFiber)try{js=tm.inject(vz),Jn=tm}catch{}}return Qd.createRoot=function(s,l){if(!r(s))throw Error(i(299));var h=!1,v="",_=GS,S=qS,D=VS;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError)),l=EC(s,1,!1,null,null,h,v,null,_,S,D,RC),s[Ga]=l.current,N0(s),new Z0(l)},Qd.hydrateRoot=function(s,l,h){if(!r(s))throw Error(i(299));var v=!1,_="",S=GS,D=qS,F=VS,V=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(F=h.onRecoverableError),h.formState!==void 0&&(V=h.formState)),l=EC(s,1,!0,l,h??null,v,_,V,S,D,F,RC),l.context=CC(null),h=l.current,v=er(),v=Oi(v),_=eo(v),_.callback=null,no(h,_,v),h=v,l.current.lanes=h,$a(l,h),ga(l),s[Ga]=l.current,N0(s),new Jp(l)},Qd.version="19.2.4",Qd}var KC;function Oz(){if(KC)return tb.exports;KC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tb.exports=Tz(),tb.exports}var Pz=Oz();const Mz=Ia(Pz),ZC=e=>{let t;const n=new Set,i=(f,p)=>{const m=typeof f=="function"?f(t):f;if(!Object.is(m,t)){const y=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(b=>b(t,y))}},r=()=>t,c={setState:i,getState:r,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f))},d=t=e(i,r,c);return c},Nz=(e=>e?ZC(e):ZC),kz=e=>e;function Dz(e,t=kz){const n=Yr.useSyncExternalStore(e.subscribe,Yr.useCallback(()=>t(e.getState()),[e,t]),Yr.useCallback(()=>t(e.getInitialState()),[e,t]));return Yr.useDebugValue(n),n}const jz=e=>{const t=Nz(e),n=i=>Dz(t,i);return Object.assign(n,t),n},Lz=(e=>jz);function GN(e,t){let n;try{n=e()}catch{return}return{getItem:r=>{var a;const o=d=>d===null?null:JSON.parse(d,void 0),c=(a=n.getItem(r))!=null?a:null;return c instanceof Promise?c.then(o):o(c)},setItem:(r,a)=>n.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>n.removeItem(r)}}const Xx=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return Xx(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return Xx(i)(n)}}}},Rz=(e,t)=>(n,i,r)=>{let a={storage:GN(()=>window.localStorage),partialize:C=>C,version:0,merge:(C,O)=>({...O,...C}),...t},o=!1,c=0;const d=new Set,f=new Set;let p=a.storage;if(!p)return e((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...C)},i,r);const m=()=>{const C=a.partialize({...i()});return p.setItem(a.name,{state:C,version:a.version})},y=r.setState;r.setState=(C,O)=>(y(C,O),m());const b=e((...C)=>(n(...C),m()),i,r);r.getInitialState=()=>b;let A;const w=()=>{var C,O;if(!p)return;const k=++c;o=!1,d.forEach(j=>{var I;return j((I=i())!=null?I:b)});const M=((O=a.onRehydrateStorage)==null?void 0:O.call(a,(C=i())!=null?C:b))||void 0;return Xx(p.getItem.bind(p))(a.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==a.version){if(a.migrate){const I=a.migrate(j.state,j.version);return I instanceof Promise?I.then(R=>[!0,R]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var I;if(k!==c)return;const[R,z]=j;if(A=a.merge(z,(I=i())!=null?I:b),n(A,!0),R)return m()}).then(()=>{k===c&&(M?.(A,void 0),A=i(),o=!0,f.forEach(j=>j(A)))}).catch(j=>{k===c&&M?.(void 0,j)})};return r.persist={setOptions:C=>{a={...a,...C},C.storage&&(p=C.storage)},clearStorage:()=>{p?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:C=>(d.add(C),()=>{d.delete(C)}),onFinishHydration:C=>(f.add(C),()=>{f.delete(C)})},a.skipHydration||w(),A||b},Iz=Rz,XC={title:"",mode:"land_new",property:{address:"",landAreaMode:"public",landAreaPublic:0,landAreaM2:0,latitude:null,longitude:null,frontage:0,depth:0,roadWidth1:6,roadType1:"",roadDirection1:"",urbanizationArea:"urbanization",zoning:"",coverageRate:60,floorAreaRate:200,structure:"RC",totalUnits:10,buildingAreaM2:0,totalFloorAreaM2:0,floorAreas:[0,0,0],documents:[]},budget:{landPrice:0,demolitionCost:0,buildingWorksCost:0,stampDuty:0,registrationTax:0,acquisitionTax:0,fireInsurancePrepaid:0,waterContribution:0,brokerageFee:0,otherInitialCost:0,constructionInterest:0},funding:{ownCapital:0,loans:[{id:"1",name:"",amount:0,rate:1.5,duration:35}],cooperationMoney:0,securityDepositIn:0},rentRoll:{roomTypes:[{id:"1",name:"1K",count:0,areaM2:25,rent:6e4,commonFee:5e3}],parkingCount:0,parkingFee:0,solarPowerIncome:0,otherRevenue:0,occupancyRate:95,securityDepositMonth:1,keyMoneyMonth:1,renewalFeeMonth:1},expenses:{managementFeeMode:"ratio",managementFeeRatio:5,managementFeeFixed:0,maintenanceReserve:0,buildingMaintenance:0,fixedAssetTaxLand:0,cityPlanningTaxLand:0,fixedAssetTaxBuilding:0,cityPlanningTaxBuilding:0,fireInsuranceAnnual:0,otherExpenses:0},advancedSettings:{rentDeclineRate:1,vacancyRiseRate:.5,repairAccumulationRate:0,interestRateRise:0,taxMode:"individual",otherIncome:0,equipmentRatio:.2,buildingAge:0,exitCapRate:6}},Bo=Lz()(Iz((e,t)=>({data:XC,activeStep:0,updateData:n=>e(i=>({data:{...i.data,...n}})),updateProperty:n=>e(i=>({data:{...i.data,property:{...i.data.property,...n}}})),updateBudget:n=>e(i=>({data:{...i.data,budget:{...i.data.budget,...n}}})),updateFunding:n=>e(i=>({data:{...i.data,funding:{...i.data.funding,...n}}})),updateRentRoll:n=>e(i=>({data:{...i.data,rentRoll:{...i.data.rentRoll,...n}}})),updateExpenses:n=>e(i=>({data:{...i.data,expenses:{...i.data.expenses,...n}}})),updateAdvancedSettings:n=>e(i=>({data:{...i.data,advancedSettings:{...i.data.advancedSettings,...n}}})),setStep:n=>e({activeStep:n}),nextStep:()=>e(n=>({activeStep:Math.min(n.activeStep+1,5)})),prevStep:()=>e(n=>({activeStep:Math.max(n.activeStep-1,0)})),reset:()=>e({data:XC,activeStep:0}),getProgress:()=>{const n=t().data;let i=0,r=4;return n.property.landAreaM2>0&&(i+=1),(n.budget.landPrice>0||n.budget.buildingWorksCost>0)&&(i+=1),n.funding.ownCapital+n.funding.loans.reduce((c,d)=>c+d.amount,0)>0&&(i+=1),(n.rentRoll.roomTypes.reduce((c,d)=>c+d.count,0)>0||n.rentRoll.parkingCount>0)&&(i+=1),Math.round(i/r*100)}}),{name:"yashima-sim-storage",storage:GN(()=>localStorage)}));const qN=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();const Bz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const zz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase());const QC=e=>{const t=zz(e);return t.charAt(0).toUpperCase()+t.slice(1)};var Fz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Uz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Hz=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:a,iconNode:o,...c},d)=>P.createElement("svg",{ref:d,...Fz,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:qN("lucide",r),...!a&&!Uz(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,p])=>P.createElement(f,p)),...Array.isArray(a)?a:[a]]));const Mn=(e,t)=>{const n=P.forwardRef(({className:i,...r},a)=>P.createElement(Hz,{ref:a,iconNode:t,className:qN(`lucide-${Bz(QC(e))}`,`lucide-${e}`,i),...r}));return n.displayName=QC(e),n};const $z=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Kh=Mn("arrow-left",$z);const Gz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qz=Mn("arrow-right",Gz);const Vz=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Wz=Mn("building-2",Vz);const Yz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Kz=Mn("chart-line",Yz);const Zz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xz=Mn("check",Zz);const Qz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zh=Mn("chevron-right",Qz);const Jz=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],t3=Mn("circle-play",Jz);const e3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],n3=Mn("circle-question-mark",e3);const i3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],r3=Mn("download",i3);const a3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],s3=Mn("eye",a3);const o3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],VN=Mn("file-braces",o3);const l3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],WN=Mn("file-text",l3);const c3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],JC=Mn("loader-circle",c3);const u3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gw=Mn("plus",u3);const d3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],h3=Mn("refresh-cw",d3);const f3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],p3=Mn("save",f3);const m3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],g3=Mn("search",m3);const v3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vw=Mn("trash-2",v3);const y3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rb=Mn("trending-up",y3);const b3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],YN=Mn("upload",b3),yw="-",x3=e=>{const t=w3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:o=>{const c=o.split(yw);return c[0]===""&&c.length!==1&&c.shift(),KN(c,t)||_3(o)},getConflictingClassGroupIds:(o,c)=>{const d=n[o]||[];return c&&i[o]?[...d,...i[o]]:d}}},KN=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),r=i?KN(e.slice(1),i):void 0;if(r)return r;if(t.validators.length===0)return;const a=e.join(yw);return t.validators.find(({validator:o})=>o(a))?.classGroupId},tT=/^\[(.+)\]$/,_3=e=>{if(tT.test(e)){const t=tT.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},w3=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return S3(Object.entries(e.classGroups),n).forEach(([a,o])=>{Qx(o,i,a,t)}),i},Qx=(e,t,n,i)=>{e.forEach(r=>{if(typeof r=="string"){const a=r===""?t:eT(t,r);a.classGroupId=n;return}if(typeof r=="function"){if(A3(r)){Qx(r(i),t,n,i);return}t.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([a,o])=>{Qx(o,eT(t,a),n,i)})})},eT=(e,t)=>{let n=e;return t.split(yw).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},A3=e=>e.isThemeGetter,S3=(e,t)=>t?e.map(([n,i])=>{const r=i.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,c])=>[t+o,c])):a);return[n,r]}):e,E3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const r=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,i=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=i.get(a))!==void 0)return r(a,o),o},set(a,o){n.has(a)?n.set(a,o):r(a,o)}}},ZN="!",C3=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,r=t[0],a=t.length,o=c=>{const d=[];let f=0,p=0,m;for(let C=0;C<c.length;C++){let O=c[C];if(f===0){if(O===r&&(i||c.slice(C,C+a)===t)){d.push(c.slice(p,C)),p=C+a;continue}if(O==="/"){m=C;continue}}O==="["?f++:O==="]"&&f--}const y=d.length===0?c:c.substring(p),b=y.startsWith(ZN),A=b?y.substring(1):y,w=m&&m>p?m-p:void 0;return{modifiers:d,hasImportantModifier:b,baseClassName:A,maybePostfixModifierPosition:w}};return n?c=>n({className:c,parseClassName:o}):o},T3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},O3=e=>({cache:E3(e.cacheSize),parseClassName:C3(e),...x3(e)}),P3=/\s+/,M3=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=t,a=[],o=e.trim().split(P3);let c="";for(let d=o.length-1;d>=0;d-=1){const f=o[d],{modifiers:p,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:b}=n(f);let A=!!b,w=i(A?y.substring(0,b):y);if(!w){if(!A){c=f+(c.length>0?" "+c:c);continue}if(w=i(y),!w){c=f+(c.length>0?" "+c:c);continue}A=!1}const C=T3(p).join(":"),O=m?C+ZN:C,k=O+w;if(a.includes(k))continue;a.push(k);const M=r(w,A);for(let j=0;j<M.length;++j){const I=M[j];a.push(O+I)}c=f+(c.length>0?" "+c:c)}return c};function N3(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=XN(t))&&(i&&(i+=" "),i+=n);return i}const XN=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=XN(e[i]))&&(n&&(n+=" "),n+=t);return n};function k3(e,...t){let n,i,r,a=o;function o(d){const f=t.reduce((p,m)=>m(p),e());return n=O3(f),i=n.cache.get,r=n.cache.set,a=c,c(d)}function c(d){const f=i(d);if(f)return f;const p=M3(d,n);return r(d,p),p}return function(){return a(N3.apply(null,arguments))}}const Fe=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},QN=/^\[(?:([a-z-]+):)?(.+)\]$/i,D3=/^\d+\/\d+$/,j3=new Set(["px","full","screen"]),L3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,B3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,z3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hs=e=>mu(e)||j3.has(e)||D3.test(e),bo=e=>ju(e,"length",W3),mu=e=>!!e&&!Number.isNaN(Number(e)),ab=e=>ju(e,"number",mu),Jd=e=>!!e&&Number.isInteger(Number(e)),F3=e=>e.endsWith("%")&&mu(e.slice(0,-1)),Qt=e=>QN.test(e),xo=e=>L3.test(e),U3=new Set(["length","size","percentage"]),H3=e=>ju(e,U3,JN),$3=e=>ju(e,"position",JN),G3=new Set(["image","url"]),q3=e=>ju(e,G3,K3),V3=e=>ju(e,"",Y3),th=()=>!0,ju=(e,t,n)=>{const i=QN.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},W3=e=>R3.test(e)&&!I3.test(e),JN=()=>!1,Y3=e=>B3.test(e),K3=e=>z3.test(e),Z3=()=>{const e=Fe("colors"),t=Fe("spacing"),n=Fe("blur"),i=Fe("brightness"),r=Fe("borderColor"),a=Fe("borderRadius"),o=Fe("borderSpacing"),c=Fe("borderWidth"),d=Fe("contrast"),f=Fe("grayscale"),p=Fe("hueRotate"),m=Fe("invert"),y=Fe("gap"),b=Fe("gradientColorStops"),A=Fe("gradientColorStopPositions"),w=Fe("inset"),C=Fe("margin"),O=Fe("opacity"),k=Fe("padding"),M=Fe("saturate"),j=Fe("scale"),I=Fe("sepia"),R=Fe("skew"),z=Fe("space"),H=Fe("translate"),W=()=>["auto","contain","none"],et=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",Qt,t],q=()=>[Qt,t],yt=()=>["",hs,bo],ct=()=>["auto",mu,Qt],xt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],nt=()=>["start","end","center","between","around","evenly","stretch"],bt=()=>["","0",Qt],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[mu,Qt];return{cacheSize:500,separator:":",theme:{colors:[th],spacing:[hs,bo],blur:["none","",xo,Qt],brightness:U(),borderColor:[e],borderRadius:["none","","full",xo,Qt],borderSpacing:q(),borderWidth:yt(),contrast:U(),grayscale:bt(),hueRotate:U(),invert:bt(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[F3,bo],inset:Y(),margin:Y(),opacity:U(),padding:q(),saturate:U(),scale:U(),sepia:bt(),skew:U(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Qt]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xt(),Qt]}],overflow:[{overflow:et()}],"overflow-x":[{"overflow-x":et()}],"overflow-y":[{"overflow-y":et()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jd,Qt]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qt]}],grow:[{grow:bt()}],shrink:[{shrink:bt()}],order:[{order:["first","last","none",Jd,Qt]}],"grid-cols":[{"grid-cols":[th]}],"col-start-end":[{col:["auto",{span:["full",Jd,Qt]},Qt]}],"col-start":[{"col-start":ct()}],"col-end":[{"col-end":ct()}],"grid-rows":[{"grid-rows":[th]}],"row-start-end":[{row:["auto",{span:[Jd,Qt]},Qt]}],"row-start":[{"row-start":ct()}],"row-end":[{"row-end":ct()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...nt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...nt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...nt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qt,t]}],"min-w":[{"min-w":[Qt,t,"min","max","fit"]}],"max-w":[{"max-w":[Qt,t,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[Qt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ab]}],"font-family":[{font:[th]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qt]}],"line-clamp":[{"line-clamp":["none",mu,ab]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hs,Qt]}],"list-image":[{"list-image":["none",Qt]}],"list-style-type":[{list:["none","disc","decimal",Qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hs,bo]}],"underline-offset":[{"underline-offset":["auto",hs,Qt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xt(),$3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},q3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:$()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[hs,Qt]}],"outline-w":[{outline:[hs,bo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:yt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[hs,bo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xo,V3]}],"shadow-color":[{shadow:[th]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",xo,Qt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[M]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Qt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Jd,Qt]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hs,bo,ab]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Su=k3(Z3),on=({children:e,className:t,title:n,description:i})=>E.jsxs("div",{className:Su("glass-panel rounded-xl transition-all duration-300 hover:shadow-lg p-6",t),children:[(n||i)&&E.jsxs("div",{className:"mb-6",children:[n&&E.jsx("h3",{className:"text-lg font-bold text-slate-800",children:n}),i&&E.jsx("p",{className:"mt-1 text-sm text-slate-500",children:i})]}),e]}),hn=({children:e,className:t,variant:n="primary",size:i="md",isLoading:r,disabled:a,...o})=>{const c="inline-flex items-center justify-center rounded-lg font-medium transition-all focus:outline-none focus:ring-2 focus:ring-offset-1 disabled:opacity-50 disabled:pointer-events-none active:scale-[0.98]",d={primary:"bg-indigo-600 text-white hover:bg-indigo-700 hover:scale-[1.02] focus:ring-indigo-500 shadow-md hover:shadow-lg border border-transparent active:scale-[0.98]",secondary:"bg-white text-slate-700 hover:bg-slate-50 border border-slate-200 shadow-sm hover:shadow focus:ring-slate-500",outline:"border border-slate-300 bg-transparent text-slate-700 hover:bg-white/50 focus:ring-slate-500",ghost:"text-slate-600 hover:bg-slate-100/50 hover:text-indigo-600 focus:ring-slate-500",danger:"bg-rose-600 text-white hover:bg-rose-700 focus:ring-rose-500 shadow-sm border border-transparent"},f={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-6 py-3.5 text-lg"};return E.jsxs("button",{className:Su(c,d[n],f[i],t),disabled:r||a,...o,children:[r?E.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,e]})},X3=e=>{const t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(n),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download",`real_estate_sim_${new Date().toISOString().slice(0,10)}.json`),document.body.appendChild(r),r.click(),document.body.removeChild(r)},tk=e=>new Promise((t,n)=>{const i=new FileReader;i.onload=r=>{try{const a=JSON.parse(r.target?.result);if(!a.mode||!a.property)throw new Error("Invalid project file");t(a)}catch(a){n(a)}},i.onerror=n,i.readAsText(e)}),ek=(e,t)=>new Promise((n,i)=>{const r=new FileReader;r.onload=a=>{const c=(a.target?.result).split(`
`).map(f=>f.split(",").map(p=>p.replace(/^"|"$/g,"")));c.shift();const d=JSON.parse(JSON.stringify(t));c.forEach(f=>{const[p,m,y]=f;if(!p||!m)return;const b=y,A=parseFloat(b);try{p==="Property"?(m==="Mode"&&(d.mode=b),m==="Land Area (M2)"&&(d.property.landAreaM2=A),m==="Bulding Structure"&&(d.property.structure=b)):p==="Budget"&&(m==="Land Price"&&(d.budget.landPrice=A),m==="Construction Cost"&&(d.budget.buildingWorksCost=A))}catch(w){console.warn(`Failed to parse row: ${f}`,w)}}),n(d)},r.onerror=i,r.readAsText(e)}),Q3={title:":  RC",mode:"land_new",property:{address:"",landAreaMode:"actual",landAreaPublic:165.29,landAreaM2:165.29,frontage:8.5,depth:19.4,roadWidth1:5.4,roadType1:"",roadDirection1:"",urbanizationArea:"urbanization",zoning:"",coverageRate:60,floorAreaRate:200,structure:"RC",totalUnits:9,buildingAreaM2:95,totalFloorAreaM2:280.5,floorAreas:[95,95,90.5],documents:[],latitude:null,longitude:null},budget:{landPrice:8500,demolitionCost:200,buildingWorksCost:12e3,stampDuty:10,registrationTax:50,acquisitionTax:120,fireInsurancePrepaid:80,waterContribution:30,brokerageFee:280,otherInitialCost:100,constructionInterest:50},funding:{ownCapital:1e3,loans:[{id:"1",name:"",amount:20420,rate:1.8,duration:35}],cooperationMoney:0,securityDepositIn:0},rentRoll:{roomTypes:[{id:"1",name:"1K (25)",count:6,areaM2:25,rent:89e3,commonFee:5e3},{id:"2",name:"1LDK (40)",count:3,areaM2:40,rent:135e3,commonFee:8e3}],parkingCount:5,parkingFee:1e4,solarPowerIncome:0,otherRevenue:0,occupancyRate:95,securityDepositMonth:1,keyMoneyMonth:1,renewalFeeMonth:1},expenses:{managementFeeMode:"ratio",managementFeeRatio:5,managementFeeFixed:0,maintenanceReserve:15e3,buildingMaintenance:3e4,fixedAssetTaxLand:25e4,cityPlanningTaxLand:5e4,fixedAssetTaxBuilding:3e5,cityPlanningTaxBuilding:6e4,fireInsuranceAnnual:0,otherExpenses:5e4},advancedSettings:{rentDeclineRate:1,vacancyRiseRate:.5,repairAccumulationRate:0,interestRateRise:0,taxMode:"individual",otherIncome:5e6,equipmentRatio:.2,buildingAge:0,exitCapRate:6}},nT=({title:e,description:t,icon:n,onClick:i,active:r})=>E.jsx("button",{onClick:i,className:`w-full group relative overflow-hidden text-left transition-all duration-300 hover:scale-[1.02] ${r?"ring-2 ring-indigo-500 shadow-lg scale-[1.02]":"hover:shadow-md"}`,children:E.jsxs(on,{className:`h-full border-2 ${r?"border-indigo-500 bg-indigo-50/50":"border-slate-100"}`,children:[E.jsx("div",{className:`mb-6 inline-flex h-16 w-16 items-center justify-center rounded-2xl ${r?"bg-indigo-600 text-white":"bg-slate-100 text-slate-600 group-hover:bg-indigo-600 group-hover:text-white transition-colors duration-300"}`,children:E.jsx(n,{className:"h-8 w-8"})}),E.jsx("h3",{className:`mb-3 text-2xl font-bold ${r?"text-indigo-900":"text-slate-900"}`,children:e}),E.jsx("p",{className:"text-slate-500 leading-relaxed mb-8",children:t}),E.jsxs("div",{className:`flex items-center text-sm font-bold uppercase tracking-wider ${r?"text-indigo-600":"text-slate-400 group-hover:text-indigo-600"}`,children:["Select Mode ",E.jsx(qz,{className:"ml-2 h-4 w-4"})]})]})}),iT=()=>{const{data:e,updateData:t,nextStep:n,setStep:i}=Bo(),r=P.useRef(null),a=P.useRef(null),o=p=>{t({mode:p}),n()},c=async p=>{const m=p.target.files?.[0];if(m){try{const y=await tk(m);t(y),i(5),alert("")}catch(y){console.error(y),alert("")}r.current&&(r.current.value="")}},d=async p=>{const m=p.target.files?.[0];if(m){try{const y=await ek(m,e);t(y),i(1),alert("CSV")}catch(y){console.error(y),alert("CSV")}a.current&&(a.current.value="")}},f=()=>{confirm(`
`)&&(t(Q3),i(5))};return E.jsxs("div",{className:"flex h-full flex-col justify-center px-4 max-w-5xl mx-auto w-full animate-in",children:[E.jsxs("div",{className:"flex flex-col items-center justify-center mb-12 text-center",children:[E.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mb-4 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-indigo-400",children:""}),E.jsx("p",{className:"text-lg text-slate-500 mb-8",children:""}),E.jsxs("div",{className:"flex gap-4",children:[E.jsx("input",{type:"file",ref:r,onChange:c,accept:".json",className:"hidden"}),E.jsx("input",{type:"file",ref:a,onChange:d,accept:".csv",className:"hidden"}),E.jsxs(hn,{variant:"outline",onClick:()=>r.current?.click(),className:"flex items-center gap-2",children:[E.jsx(YN,{className:"h-4 w-4"}),"  (JSON)"]}),E.jsxs(hn,{variant:"ghost",onClick:()=>a.current?.click(),className:"flex items-center gap-2 text-slate-500",children:[E.jsx(VN,{className:"h-4 w-4"})," CSV"]}),E.jsxs(hn,{variant:"ghost",onClick:f,className:"flex items-center gap-2 text-slate-500 hover:text-indigo-600",children:[E.jsx(t3,{className:"h-4 w-4"})," "]})]})]}),E.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[E.jsx(nT,{title:" ()",description:"",icon:Wz,onClick:()=>o("land_new"),active:e.mode==="land_new"}),E.jsx(nT,{title:" ()",description:"",icon:g3,onClick:()=>o("investment_used"),active:e.mode==="investment_used"})]})]})},Ut=({label:e,unit:t,error:n,help:i,className:r,...a})=>{const[o,c]=P.useState(!1);return E.jsxs("div",{className:Su("flex flex-col gap-1.5",r),children:[E.jsxs("label",{className:"text-sm font-semibold text-slate-600 flex items-center gap-1.5",children:[e,i&&E.jsxs("span",{className:"relative inline-flex",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[E.jsx(n3,{className:"h-3.5 w-3.5 text-slate-400 hover:text-indigo-500 cursor-help transition-colors"}),o&&E.jsx("span",{className:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-1.5 text-xs font-normal text-white bg-slate-800 rounded-lg shadow-lg whitespace-nowrap max-w-[260px] text-wrap leading-relaxed animate-in fade-in",children:i})]})]}),E.jsxs("div",{className:"relative flex items-center",children:[E.jsx("input",{className:Su("flex-1 glass-input rounded-lg px-4 py-2.5 text-base text-slate-900 shadow-sm","focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20","disabled:bg-slate-50/50 disabled:text-slate-500",t?"rounded-r-none border-r-0":"",n?"border-rose-500 focus:border-rose-500 focus:ring-rose-500/20":""),...a}),t&&E.jsx("div",{className:"flex select-none items-center justify-center rounded-r-lg border border-l-0 border-slate-300 bg-slate-50/50 px-3 text-sm font-medium text-slate-500",children:t})]}),n&&E.jsx("p",{className:"text-sm text-red-500 animate-pulse",children:n})]})},eh={REGISTRATION_LICENSE:{LAND_OWNERSHIP_TRANSFER:.015,BUILDING_PRESERVATION:.004},REAL_ESTATE_ACQUISITION:{LAND:.03,BUILDING:.03}},Jx=(e,t,n)=>{if(t===0)return Math.round(e/(n*12));const i=t/100/12,r=n*12,a=Math.pow(1+i,r),o=e*i*a/(a-1);return Math.round(o)},J3=3.30578,tF=e=>{const t={};return e.property.structure||(t["property.structure"]=""),(!e.property.landAreaM2||e.property.landAreaM2<=0)&&(t["property.landAreaM2"]=""),t};function nk(e,t){const n=P.useRef(t);P.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function eF(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}var Ug=$N();const nF=1;function iF(e){return Object.freeze({__version:nF,map:e})}function ik(e,t){return Object.freeze({...e,...t})}const bw=P.createContext(null);function Hg(){const e=P.use(bw);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function rk(e){function t(n,i){const{instance:r,context:a}=e(n).current;P.useImperativeHandle(i,()=>r);const{children:o}=n;return o==null?null:Yr.createElement(bw,{value:a},o)}return P.forwardRef(t)}function rF(e){function t(n,i){const[r,a]=P.useState(!1),{instance:o}=e(n,a).current;P.useImperativeHandle(i,()=>o),P.useEffect(function(){r&&o.update()},[o,r,n.children]);const c=o._contentNode;return c?Ug.createPortal(n.children,c):null}return P.forwardRef(t)}function aF(e){function t(n,i){const{instance:r}=e(n).current;return P.useImperativeHandle(i,()=>r),null}return P.forwardRef(t)}function xw(e,t){const n=P.useRef(void 0);P.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function $g(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function sF(e,t){return function(i,r){const a=Hg(),o=e($g(i,a),a);return nk(a.map,i.attribution),xw(o.current,i.eventHandlers),t(o.current,a,i,r),o}}var vh={exports:{}};var oF=vh.exports,rT;function lF(){return rT||(rT=1,(function(e,t){(function(n,i){i(t)})(oF,(function(n){var i="1.9.4";function r(u){var g,x,T,N;for(x=1,T=arguments.length;x<T;x++){N=arguments[x];for(g in N)u[g]=N[g]}return u}var a=Object.create||(function(){function u(){}return function(g){return u.prototype=g,new u}})();function o(u,g){var x=Array.prototype.slice;if(u.bind)return u.bind.apply(u,x.call(arguments,1));var T=x.call(arguments,2);return function(){return u.apply(g,T.length?T.concat(x.call(arguments)):arguments)}}var c=0;function d(u){return"_leaflet_id"in u||(u._leaflet_id=++c),u._leaflet_id}function f(u,g,x){var T,N,B,G;return G=function(){T=!1,N&&(B.apply(x,N),N=!1)},B=function(){T?N=arguments:(u.apply(x,arguments),setTimeout(G,g),T=!0)},B}function p(u,g,x){var T=g[1],N=g[0],B=T-N;return u===T&&x?u:((u-N)%B+B)%B+N}function m(){return!1}function y(u,g){if(g===!1)return u;var x=Math.pow(10,g===void 0?6:g);return Math.round(u*x)/x}function b(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function A(u){return b(u).split(/\s+/)}function w(u,g){Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?a(u.options):{});for(var x in g)u.options[x]=g[x];return u.options}function C(u,g,x){var T=[];for(var N in u)T.push(encodeURIComponent(x?N.toUpperCase():N)+"="+encodeURIComponent(u[N]));return(!g||g.indexOf("?")===-1?"?":"&")+T.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function k(u,g){return u.replace(O,function(x,T){var N=g[T];if(N===void 0)throw new Error("No value provided for variable "+x);return typeof N=="function"&&(N=N(g)),N})}var M=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function j(u,g){for(var x=0;x<u.length;x++)if(u[x]===g)return x;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var z=0;function H(u){var g=+new Date,x=Math.max(0,16-(g-z));return z=g+x,window.setTimeout(u,x)}var W=window.requestAnimationFrame||R("RequestAnimationFrame")||H,et=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function Y(u,g,x){if(x&&W===H)u.call(g);else return W.call(window,o(u,g))}function q(u){u&&et.call(window,u)}var yt={__proto__:null,extend:r,create:a,bind:o,get lastId(){return c},stamp:d,throttle:f,wrapNum:p,falseFn:m,formatNum:y,trim:b,splitWords:A,setOptions:w,getParamString:C,template:k,isArray:M,indexOf:j,emptyImageUrl:I,requestFn:W,cancelFn:et,requestAnimFrame:Y,cancelAnimFrame:q};function ct(){}ct.extend=function(u){var g=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=g.__super__=this.prototype,T=a(x);T.constructor=g,g.prototype=T;for(var N in this)Object.prototype.hasOwnProperty.call(this,N)&&N!=="prototype"&&N!=="__super__"&&(g[N]=this[N]);return u.statics&&r(g,u.statics),u.includes&&(xt(u.includes),r.apply(null,[T].concat(u.includes))),r(T,u),delete T.statics,delete T.includes,T.options&&(T.options=x.options?a(x.options):{},r(T.options,u.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var B=0,G=T._initHooks.length;B<G;B++)T._initHooks[B].call(this)}},g},ct.include=function(u){var g=this.prototype.options;return r(this.prototype,u),u.options&&(this.prototype.options=g,this.mergeOptions(u.options)),this},ct.mergeOptions=function(u){return r(this.prototype.options,u),this},ct.addInitHook=function(u){var g=Array.prototype.slice.call(arguments,1),x=typeof u=="function"?u:function(){this[u].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};function xt(u){if(!(typeof L>"u"||!L||!L.Mixin)){u=M(u)?u:[u];for(var g=0;g<u.length;g++)u[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(u,g,x){if(typeof u=="object")for(var T in u)this._on(T,u[T],g);else{u=A(u);for(var N=0,B=u.length;N<B;N++)this._on(u[N],g,x)}return this},off:function(u,g,x){if(!arguments.length)delete this._events;else if(typeof u=="object")for(var T in u)this._off(T,u[T],g);else{u=A(u);for(var N=arguments.length===1,B=0,G=u.length;B<G;B++)N?this._off(u[B]):this._off(u[B],g,x)}return this},_on:function(u,g,x,T){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(u,g,x)===!1){x===this&&(x=void 0);var N={fn:g,ctx:x};T&&(N.once=!0),this._events=this._events||{},this._events[u]=this._events[u]||[],this._events[u].push(N)}},_off:function(u,g,x){var T,N,B;if(this._events&&(T=this._events[u],!!T)){if(arguments.length===1){if(this._firingCount)for(N=0,B=T.length;N<B;N++)T[N].fn=m;delete this._events[u];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var G=this._listens(u,g,x);if(G!==!1){var tt=T[G];this._firingCount&&(tt.fn=m,this._events[u]=T=T.slice()),T.splice(G,1)}}},fire:function(u,g,x){if(!this.listens(u,x))return this;var T=r({},g,{type:u,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var N=this._events[u];if(N){this._firingCount=this._firingCount+1||1;for(var B=0,G=N.length;B<G;B++){var tt=N[B],st=tt.fn;tt.once&&this.off(u,st,tt.ctx),st.call(tt.ctx||this,T)}this._firingCount--}}return x&&this._propagateEvent(T),this},listens:function(u,g,x,T){typeof u!="string"&&console.warn('"string" type argument expected');var N=g;typeof g!="function"&&(T=!!g,N=void 0,x=void 0);var B=this._events&&this._events[u];if(B&&B.length&&this._listens(u,N,x)!==!1)return!0;if(T){for(var G in this._eventParents)if(this._eventParents[G].listens(u,g,x,T))return!0}return!1},_listens:function(u,g,x){if(!this._events)return!1;var T=this._events[u]||[];if(!g)return!!T.length;x===this&&(x=void 0);for(var N=0,B=T.length;N<B;N++)if(T[N].fn===g&&T[N].ctx===x)return N;return!1},once:function(u,g,x){if(typeof u=="object")for(var T in u)this._on(T,u[T],g,!0);else{u=A(u);for(var N=0,B=u.length;N<B;N++)this._on(u[N],g,x,!0)}return this},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[d(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[d(u)],this},_propagateEvent:function(u){for(var g in this._eventParents)this._eventParents[g].fire(u.type,r({layer:u.target,propagatedFrom:u.target},u),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var Q=ct.extend($);function nt(u,g,x){this.x=x?Math.round(u):u,this.y=x?Math.round(g):g}var bt=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};nt.prototype={clone:function(){return new nt(this.x,this.y)},add:function(u){return this.clone()._add(Z(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(Z(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new nt(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new nt(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=bt(this.x),this.y=bt(this.y),this},distanceTo:function(u){u=Z(u);var g=u.x-this.x,x=u.y-this.y;return Math.sqrt(g*g+x*x)},equals:function(u){return u=Z(u),u.x===this.x&&u.y===this.y},contains:function(u){return u=Z(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Z(u,g,x){return u instanceof nt?u:M(u)?new nt(u[0],u[1]):u==null?u:typeof u=="object"&&"x"in u&&"y"in u?new nt(u.x,u.y):new nt(u,g,x)}function U(u,g){if(u)for(var x=g?[u,g]:u,T=0,N=x.length;T<N;T++)this.extend(x[T])}U.prototype={extend:function(u){var g,x;if(!u)return this;if(u instanceof nt||typeof u[0]=="number"||"x"in u)g=x=Z(u);else if(u=X(u),g=u.min,x=u.max,!g||!x)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=x.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)),this},getCenter:function(u){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var g,x;return typeof u[0]=="number"||u instanceof nt?u=Z(u):u=X(u),u instanceof U?(g=u.min,x=u.max):g=x=u,g.x>=this.min.x&&x.x<=this.max.x&&g.y>=this.min.y&&x.y<=this.max.y},intersects:function(u){u=X(u);var g=this.min,x=this.max,T=u.min,N=u.max,B=N.x>=g.x&&T.x<=x.x,G=N.y>=g.y&&T.y<=x.y;return B&&G},overlaps:function(u){u=X(u);var g=this.min,x=this.max,T=u.min,N=u.max,B=N.x>g.x&&T.x<x.x,G=N.y>g.y&&T.y<x.y;return B&&G},isValid:function(){return!!(this.min&&this.max)},pad:function(u){var g=this.min,x=this.max,T=Math.abs(g.x-x.x)*u,N=Math.abs(g.y-x.y)*u;return X(Z(g.x-T,g.y-N),Z(x.x+T,x.y+N))},equals:function(u){return u?(u=X(u),this.min.equals(u.getTopLeft())&&this.max.equals(u.getBottomRight())):!1}};function X(u,g){return!u||u instanceof U?u:new U(u,g)}function ut(u,g){if(u)for(var x=g?[u,g]:u,T=0,N=x.length;T<N;T++)this.extend(x[T])}ut.prototype={extend:function(u){var g=this._southWest,x=this._northEast,T,N;if(u instanceof _t)T=u,N=u;else if(u instanceof ut){if(T=u._southWest,N=u._northEast,!T||!N)return this}else return u?this.extend(wt(u)||gt(u)):this;return!g&&!x?(this._southWest=new _t(T.lat,T.lng),this._northEast=new _t(N.lat,N.lng)):(g.lat=Math.min(T.lat,g.lat),g.lng=Math.min(T.lng,g.lng),x.lat=Math.max(N.lat,x.lat),x.lng=Math.max(N.lng,x.lng)),this},pad:function(u){var g=this._southWest,x=this._northEast,T=Math.abs(g.lat-x.lat)*u,N=Math.abs(g.lng-x.lng)*u;return new ut(new _t(g.lat-T,g.lng-N),new _t(x.lat+T,x.lng+N))},getCenter:function(){return new _t((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new _t(this.getNorth(),this.getWest())},getSouthEast:function(){return new _t(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){typeof u[0]=="number"||u instanceof _t||"lat"in u?u=wt(u):u=gt(u);var g=this._southWest,x=this._northEast,T,N;return u instanceof ut?(T=u.getSouthWest(),N=u.getNorthEast()):T=N=u,T.lat>=g.lat&&N.lat<=x.lat&&T.lng>=g.lng&&N.lng<=x.lng},intersects:function(u){u=gt(u);var g=this._southWest,x=this._northEast,T=u.getSouthWest(),N=u.getNorthEast(),B=N.lat>=g.lat&&T.lat<=x.lat,G=N.lng>=g.lng&&T.lng<=x.lng;return B&&G},overlaps:function(u){u=gt(u);var g=this._southWest,x=this._northEast,T=u.getSouthWest(),N=u.getNorthEast(),B=N.lat>g.lat&&T.lat<x.lat,G=N.lng>g.lng&&T.lng<x.lng;return B&&G},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,g){return u?(u=gt(u),this._southWest.equals(u.getSouthWest(),g)&&this._northEast.equals(u.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(u,g){return u instanceof ut?u:new ut(u,g)}function _t(u,g,x){if(isNaN(u)||isNaN(g))throw new Error("Invalid LatLng object: ("+u+", "+g+")");this.lat=+u,this.lng=+g,x!==void 0&&(this.alt=+x)}_t.prototype={equals:function(u,g){if(!u)return!1;u=wt(u);var x=Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng));return x<=(g===void 0?1e-9:g)},toString:function(u){return"LatLng("+y(this.lat,u)+", "+y(this.lng,u)+")"},distanceTo:function(u){return Yt.distance(this,wt(u))},wrap:function(){return Yt.wrapLatLng(this)},toBounds:function(u){var g=180*u/40075017,x=g/Math.cos(Math.PI/180*this.lat);return gt([this.lat-g,this.lng-x],[this.lat+g,this.lng+x])},clone:function(){return new _t(this.lat,this.lng,this.alt)}};function wt(u,g,x){return u instanceof _t?u:M(u)&&typeof u[0]!="object"?u.length===3?new _t(u[0],u[1],u[2]):u.length===2?new _t(u[0],u[1]):null:u==null?u:typeof u=="object"&&"lat"in u?new _t(u.lat,"lng"in u?u.lng:u.lon,u.alt):g===void 0?null:new _t(u,g,x)}var At={latLngToPoint:function(u,g){var x=this.projection.project(u),T=this.scale(g);return this.transformation._transform(x,T)},pointToLatLng:function(u,g){var x=this.scale(g),T=this.transformation.untransform(u,x);return this.projection.unproject(T)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var g=this.projection.bounds,x=this.scale(u),T=this.transformation.transform(g.min,x),N=this.transformation.transform(g.max,x);return new U(T,N)},infinite:!1,wrapLatLng:function(u){var g=this.wrapLng?p(u.lng,this.wrapLng,!0):u.lng,x=this.wrapLat?p(u.lat,this.wrapLat,!0):u.lat,T=u.alt;return new _t(x,g,T)},wrapLatLngBounds:function(u){var g=u.getCenter(),x=this.wrapLatLng(g),T=g.lat-x.lat,N=g.lng-x.lng;if(T===0&&N===0)return u;var B=u.getSouthWest(),G=u.getNorthEast(),tt=new _t(B.lat-T,B.lng-N),st=new _t(G.lat-T,G.lng-N);return new ut(tt,st)}},Yt=r({},At,{wrapLng:[-180,180],R:6371e3,distance:function(u,g){var x=Math.PI/180,T=u.lat*x,N=g.lat*x,B=Math.sin((g.lat-u.lat)*x/2),G=Math.sin((g.lng-u.lng)*x/2),tt=B*B+Math.cos(T)*Math.cos(N)*G*G,st=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*st}}),dt=6378137,Rt={R:dt,MAX_LATITUDE:85.0511287798,project:function(u){var g=Math.PI/180,x=this.MAX_LATITUDE,T=Math.max(Math.min(x,u.lat),-x),N=Math.sin(T*g);return new nt(this.R*u.lng*g,this.R*Math.log((1+N)/(1-N))/2)},unproject:function(u){var g=180/Math.PI;return new _t((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*g,u.x*g/this.R)},bounds:(function(){var u=dt*Math.PI;return new U([-u,-u],[u,u])})()};function Bt(u,g,x,T){if(M(u)){this._a=u[0],this._b=u[1],this._c=u[2],this._d=u[3];return}this._a=u,this._b=g,this._c=x,this._d=T}Bt.prototype={transform:function(u,g){return this._transform(u.clone(),g)},_transform:function(u,g){return g=g||1,u.x=g*(this._a*u.x+this._b),u.y=g*(this._c*u.y+this._d),u},untransform:function(u,g){return g=g||1,new nt((u.x/g-this._b)/this._a,(u.y/g-this._d)/this._c)}};function vt(u,g,x,T){return new Bt(u,g,x,T)}var He=r({},Yt,{code:"EPSG:3857",projection:Rt,transformation:(function(){var u=.5/(Math.PI*Rt.R);return vt(u,.5,-u,.5)})()}),Jt=r({},He,{code:"EPSG:900913"});function yn(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function bn(u,g){var x="",T,N,B,G,tt,st;for(T=0,B=u.length;T<B;T++){for(tt=u[T],N=0,G=tt.length;N<G;N++)st=tt[N],x+=(N?"L":"M")+st.x+" "+st.y;x+=g?kt.svg?"z":"x":""}return x||"M0 0"}var Vi=document.documentElement.style,ta="ActiveXObject"in window,Vu=ta&&!document.addEventListener,dc="msLaunchUri"in navigator&&!("documentMode"in document),qo=Oi("webkit"),Tf=Oi("android"),Of=Oi("android 2")||Oi("android 3"),vi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jv=Tf&&Oi("Google")&&vi<537&&!("AudioNode"in window),hc=!!window.opera,Wu=!dc&&Oi("chrome"),Vo=Oi("gecko")&&!qo&&!hc&&!ta,ty=!Wu&&Oi("safari"),Yu=Oi("phantom"),Pf="OTransition"in Vi,ey=navigator.platform.indexOf("Win")===0,js=ta&&"transition"in Vi,Jn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Of,Dr="MozPerspective"in Vi,yi=!window.L_DISABLE_3D&&(js||Jn||Dr)&&!Pf&&!Yu,Wo=typeof orientation<"u"||Oi("mobile"),ny=Wo&&qo,iy=Wo&&Jn,Yo=!window.PointerEvent&&window.MSPointerEvent,Ko=!!(window.PointerEvent||Yo),Zo="ontouchstart"in window||!!window.TouchEvent,Ha=!window.L_NO_TOUCH&&(Zo||Ko),fc=Wo&&hc,Xo=Wo&&Vo,ry=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mf=(function(){var u=!1;try{var g=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",m,g),window.removeEventListener("testPassiveEventSupport",m,g)}catch{}return u})(),Ku=(function(){return!!document.createElement("canvas").getContext})(),$a=!!(document.createElementNS&&yn("svg").createSVGRect),ay=!!$a&&(function(){var u=document.createElement("div");return u.innerHTML="<svg/>",(u.firstChild&&u.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Nf=!$a&&(function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var g=u.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),kf=navigator.platform.indexOf("Mac")===0,Df=navigator.platform.indexOf("Linux")===0;function Oi(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var kt={ie:ta,ielt9:Vu,edge:dc,webkit:qo,android:Tf,android23:Of,androidStock:Jv,opera:hc,chrome:Wu,gecko:Vo,safari:ty,phantom:Yu,opera12:Pf,win:ey,ie3d:js,webkit3d:Jn,gecko3d:Dr,any3d:yi,mobile:Wo,mobileWebkit:ny,mobileWebkit3d:iy,msPointer:Yo,pointer:Ko,touch:Ha,touchNative:Zo,mobileOpera:fc,mobileGecko:Xo,retina:ry,passiveEvents:Mf,canvas:Ku,svg:$a,vml:Nf,inlineSvg:ay,mac:kf,linux:Df},Zu=kt.msPointer?"MSPointerDown":"pointerdown",Xu=kt.msPointer?"MSPointerMove":"pointermove",jr=kt.msPointer?"MSPointerUp":"pointerup",xn=kt.msPointer?"MSPointerCancel":"pointercancel",Un={touchstart:Zu,touchmove:Xu,touchend:jr,touchcancel:xn},Ga={touchstart:Rs,touchmove:na,touchend:na,touchcancel:na},ea={},jf=!1;function sy(u,g,x){return g==="touchstart"&&Ls(),Ga[g]?(x=Ga[g].bind(this,x),u.addEventListener(Un[g],x,!1),x):(console.warn("wrong event specified:",g),m)}function Lf(u,g,x){if(!Un[g]){console.warn("wrong event specified:",g);return}u.removeEventListener(Un[g],x,!1)}function Qo(u){ea[u.pointerId]=u}function Qu(u){ea[u.pointerId]&&(ea[u.pointerId]=u)}function qa(u){delete ea[u.pointerId]}function Ls(){jf||(document.addEventListener(Zu,Qo,!0),document.addEventListener(Xu,Qu,!0),document.addEventListener(jr,qa,!0),document.addEventListener(xn,qa,!0),jf=!0)}function na(u,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var x in ea)g.touches.push(ea[x]);g.changedTouches=[g],u(g)}}function Rs(u,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&nn(g),na(u,g)}function _n(u){var g={},x,T;for(T in u)x=u[T],g[T]=x&&x.bind?x.bind(u):x;return u=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Rf=200;function If(u,g){u.addEventListener("dblclick",g);var x=0,T;function N(B){if(B.detail!==1){T=B.detail;return}if(!(B.pointerType==="mouse"||B.sourceCapabilities&&!B.sourceCapabilities.firesTouchEvents)){var G=al(B);if(!(G.some(function(st){return st instanceof HTMLLabelElement&&st.attributes.for})&&!G.some(function(st){return st instanceof HTMLInputElement||st instanceof HTMLSelectElement}))){var tt=Date.now();tt-x<=Rf?(T++,T===2&&g(_n(B))):T=1,x=tt}}}return u.addEventListener("click",N),{dblclick:g,simDblclick:N}}function Va(u,g){u.removeEventListener("dblclick",g.dblclick),u.removeEventListener("click",g.simDblclick)}var ia=el(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jo=el(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ju=Jo==="webkitTransition"||Jo==="OTransition"?Jo+"End":"transitionend";function td(u){return typeof u=="string"?document.getElementById(u):u}function tl(u,g){var x=u.style[g]||u.currentStyle&&u.currentStyle[g];if((!x||x==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(u,null);x=T?T[g]:null}return x==="auto"?null:x}function te(u,g,x){var T=document.createElement(u);return T.className=g||"",x&&x.appendChild(T),T}function Te(u){var g=u.parentNode;g&&g.removeChild(u)}function Pi(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Nn(u){var g=u.parentNode;g&&g.lastChild!==u&&g.appendChild(u)}function Wa(u){var g=u.parentNode;g&&g.firstChild!==u&&g.insertBefore(u,g.firstChild)}function ed(u,g){if(u.classList!==void 0)return u.classList.contains(g);var x=pc(u);return x.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(x)}function qt(u,g){if(u.classList!==void 0)for(var x=A(g),T=0,N=x.length;T<N;T++)u.classList.add(x[T]);else if(!ed(u,g)){var B=pc(u);Is(u,(B?B+" ":"")+g)}}function $e(u,g){u.classList!==void 0?u.classList.remove(g):Is(u,b((" "+pc(u)+" ").replace(" "+g+" "," ")))}function Is(u,g){u.className.baseVal===void 0?u.className=g:u.className.baseVal=g}function pc(u){return u.correspondingElement&&(u=u.correspondingElement),u.className.baseVal===void 0?u.className:u.className.baseVal}function Be(u,g){"opacity"in u.style?u.style.opacity=g:"filter"in u.style&&nd(u,g)}function nd(u,g){var x=!1,T="DXImageTransform.Microsoft.Alpha";try{x=u.filters.item(T)}catch{if(g===1)return}g=Math.round(g*100),x?(x.Enabled=g!==100,x.Opacity=g):u.style.filter+=" progid:"+T+"(opacity="+g+")"}function el(u){for(var g=document.documentElement.style,x=0;x<u.length;x++)if(u[x]in g)return u[x];return!1}function Lr(u,g,x){var T=g||new nt(0,0);u.style[ia]=(kt.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(x?" scale("+x+")":"")}function De(u,g){u._leaflet_pos=g,kt.any3d?Lr(u,g):(u.style.left=g.x+"px",u.style.top=g.y+"px")}function ra(u){return u._leaflet_pos||new nt(0,0)}var Bs,cr,id;if("onselectstart"in document)Bs=function(){zt(window,"selectstart",nn)},cr=function(){_e(window,"selectstart",nn)};else{var zs=el(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bs=function(){if(zs){var u=document.documentElement.style;id=u[zs],u[zs]="none"}},cr=function(){zs&&(document.documentElement.style[zs]=id,id=void 0)}}function mc(){zt(window,"dragstart",nn)}function nl(){_e(window,"dragstart",nn)}var gc,rd;function Fs(u){for(;u.tabIndex===-1;)u=u.parentNode;u.style&&(Mi(),gc=u,rd=u.style.outlineStyle,u.style.outlineStyle="none",zt(window,"keydown",Mi))}function Mi(){gc&&(gc.style.outlineStyle=rd,gc=void 0,rd=void 0,_e(window,"keydown",Mi))}function vc(u){do u=u.parentNode;while((!u.offsetWidth||!u.offsetHeight)&&u!==document.body);return u}function il(u){var g=u.getBoundingClientRect();return{x:g.width/u.offsetWidth||1,y:g.height/u.offsetHeight||1,boundingClientRect:g}}var Us={__proto__:null,TRANSFORM:ia,TRANSITION:Jo,TRANSITION_END:Ju,get:td,getStyle:tl,create:te,remove:Te,empty:Pi,toFront:Nn,toBack:Wa,hasClass:ed,addClass:qt,removeClass:$e,setClass:Is,getClass:pc,setOpacity:Be,testProp:el,setTransform:Lr,setPosition:De,getPosition:ra,get disableTextSelection(){return Bs},get enableTextSelection(){return cr},disableImageDrag:mc,enableImageDrag:nl,preventOutline:Fs,restoreOutline:Mi,getSizedParentNode:vc,getScale:il};function zt(u,g,x,T){if(g&&typeof g=="object")for(var N in g)Yi(u,N,g[N],x);else{g=A(g);for(var B=0,G=g.length;B<G;B++)Yi(u,g[B],x,T)}return this}var Wi="_leaflet_events";function _e(u,g,x,T){if(arguments.length===1)ad(u),delete u[Wi];else if(g&&typeof g=="object")for(var N in g)rl(u,N,g[N],x);else if(g=A(g),arguments.length===2)ad(u,function(tt){return j(g,tt)!==-1});else for(var B=0,G=g.length;B<G;B++)rl(u,g[B],x,T);return this}function ad(u,g){for(var x in u[Wi]){var T=x.split(/\d/)[0];(!g||g(T))&&rl(u,T,null,null,x)}}var Ya={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Yi(u,g,x,T){var N=g+d(x)+(T?"_"+d(T):"");if(u[Wi]&&u[Wi][N])return this;var B=function(tt){return x.call(T||u,tt||window.event)},G=B;!kt.touchNative&&kt.pointer&&g.indexOf("touch")===0?B=sy(u,g,B):kt.touch&&g==="dblclick"?B=If(u,B):"addEventListener"in u?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?u.addEventListener(Ya[g]||g,B,kt.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(B=function(tt){tt=tt||window.event,Rr(u,tt)&&G(tt)},u.addEventListener(Ya[g],B,!1)):u.addEventListener(g,G,!1):u.attachEvent("on"+g,B),u[Wi]=u[Wi]||{},u[Wi][N]=B}function rl(u,g,x,T,N){N=N||g+d(x)+(T?"_"+d(T):"");var B=u[Wi]&&u[Wi][N];if(!B)return this;!kt.touchNative&&kt.pointer&&g.indexOf("touch")===0?Lf(u,g,B):kt.touch&&g==="dblclick"?Va(u,B):"removeEventListener"in u?u.removeEventListener(Ya[g]||g,B,!1):u.detachEvent("on"+g,B),u[Wi][N]=null}function Ki(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,this}function ur(u){return Yi(u,"wheel",Ki),this}function Ka(u){return zt(u,"mousedown touchstart dblclick contextmenu",Ki),u._leaflet_disable_click=!0,this}function nn(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function aa(u){return nn(u),Ki(u),this}function al(u){if(u.composedPath)return u.composedPath();for(var g=[],x=u.target;x;)g.push(x),x=x.parentNode;return g}function sl(u,g){if(!g)return new nt(u.clientX,u.clientY);var x=il(g),T=x.boundingClientRect;return new nt((u.clientX-T.left)/x.x-g.clientLeft,(u.clientY-T.top)/x.y-g.clientTop)}var Bf=kt.linux&&kt.chrome?window.devicePixelRatio:kt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ti(u){return kt.edge?u.wheelDeltaY/2:u.deltaY&&u.deltaMode===0?-u.deltaY/Bf:u.deltaY&&u.deltaMode===1?-u.deltaY*20:u.deltaY&&u.deltaMode===2?-u.deltaY*60:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?-u.detail*20:u.detail?u.detail/-32765*60:0}function Rr(u,g){var x=g.relatedTarget;if(!x)return!0;try{for(;x&&x!==u;)x=x.parentNode}catch{return!1}return x!==u}var yc={__proto__:null,on:zt,off:_e,stopPropagation:Ki,disableScrollPropagation:ur,disableClickPropagation:Ka,preventDefault:nn,stop:aa,getPropagationPath:al,getMousePosition:sl,getWheelDelta:ti,isExternalTarget:Rr,addListener:zt,removeListener:_e},Hs=Q.extend({run:function(u,g,x,T){this.stop(),this._el=u,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=ra(u),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(u){var g=+new Date-this._startTime,x=this._duration*1e3;g<x?this._runFrame(this._easeOut(g/x),u):(this._runFrame(1),this._complete())},_runFrame:function(u,g){var x=this._startPos.add(this._offset.multiplyBy(u));g&&x._round(),De(this._el,x),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),re=Q.extend({options:{crs:He,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,g){g=w(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(wt(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jo&&kt.any3d&&!kt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,Ju,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,g,x){if(g=g===void 0?this._zoom:this._limitZoom(g),u=this._limitCenter(wt(u),g,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&x!==!0){x.animate!==void 0&&(x.zoom=r({animate:x.animate},x.zoom),x.pan=r({animate:x.animate,duration:x.duration},x.pan));var T=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,g,x.zoom):this._tryAnimatedPan(u,x.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(u,g,x.pan&&x.pan.noMoveStart),this},setZoom:function(u,g){return this._loaded?this.setView(this.getCenter(),u,{zoom:g}):(this._zoom=u,this)},zoomIn:function(u,g){return u=u||(kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+u,g)},zoomOut:function(u,g){return u=u||(kt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-u,g)},setZoomAround:function(u,g,x){var T=this.getZoomScale(g),N=this.getSize().divideBy(2),B=u instanceof nt?u:this.latLngToContainerPoint(u),G=B.subtract(N).multiplyBy(1-1/T),tt=this.containerPointToLatLng(N.add(G));return this.setView(tt,g,{zoom:x})},_getBoundsCenterZoom:function(u,g){g=g||{},u=u.getBounds?u.getBounds():gt(u);var x=Z(g.paddingTopLeft||g.padding||[0,0]),T=Z(g.paddingBottomRight||g.padding||[0,0]),N=this.getBoundsZoom(u,!1,x.add(T));if(N=typeof g.maxZoom=="number"?Math.min(g.maxZoom,N):N,N===1/0)return{center:u.getCenter(),zoom:N};var B=T.subtract(x).divideBy(2),G=this.project(u.getSouthWest(),N),tt=this.project(u.getNorthEast(),N),st=this.unproject(G.add(tt).divideBy(2).add(B),N);return{center:st,zoom:N}},fitBounds:function(u,g){if(u=gt(u),!u.isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(u,g);return this.setView(x.center,x.zoom,g)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,g){return this.setView(u,this._zoom,{pan:g})},panBy:function(u,g){if(u=Z(u).round(),g=g||{},!u.x&&!u.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Hs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,x,g.duration||.25,g.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,g,x){if(x=x||{},x.animate===!1||!kt.any3d)return this.setView(u,g,x);this._stop();var T=this.project(this.getCenter()),N=this.project(u),B=this.getSize(),G=this._zoom;u=wt(u),g=g===void 0?G:g;var tt=Math.max(B.x,B.y),st=tt*this.getZoomScale(G,g),pt=N.distanceTo(T)||1,St=1.42,Dt=St*St;function Zt(Ze){var Fr=Ze?-1:1,Ja=Ze?st:tt,xd=st*st-tt*tt+Fr*Dt*Dt*pt*pt,wl=2*Ja*Dt*pt,Al=xd/wl,pa=Math.sqrt(Al*Al+1)-Al,Ur=pa<1e-9?-18:Math.log(pa);return Ur}function kn(Ze){return(Math.exp(Ze)-Math.exp(-Ze))/2}function rn(Ze){return(Math.exp(Ze)+Math.exp(-Ze))/2}function xi(Ze){return kn(Ze)/rn(Ze)}var ue=Zt(0);function de(Ze){return tt*(rn(ue)/rn(ue+St*Ze))}function ee(Ze){return tt*(rn(ue)*xi(ue+St*Ze)-kn(ue))/Dt}function ha(Ze){return 1-Math.pow(1-Ze,1.5)}var ji=Date.now(),kc=(Zt(1)-ue)/St,fa=x.duration?1e3*x.duration:1e3*kc*.8;function bd(){var Ze=(Date.now()-ji)/fa,Fr=ha(Ze)*kc;Ze<=1?(this._flyToFrame=Y(bd,this),this._move(this.unproject(T.add(N.subtract(T).multiplyBy(ee(Fr)/pt)),G),this.getScaleZoom(tt/de(Fr),G),{flyTo:!0})):this._move(u,g)._moveEnd(!0)}return this._moveStart(!0,x.noMoveStart),bd.call(this),this},flyToBounds:function(u,g){var x=this._getBoundsCenterZoom(u,g);return this.flyTo(x.center,x.zoom,g)},setMaxBounds:function(u){return u=gt(u),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),u.isValid()?(this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(u){var g=this.options.minZoom;return this.options.minZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var g=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&g!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,g){this._enforcingBounds=!0;var x=this.getCenter(),T=this._limitCenter(x,this._zoom,gt(u));return x.equals(T)||this.panTo(T,g),this._enforcingBounds=!1,this},panInside:function(u,g){g=g||{};var x=Z(g.paddingTopLeft||g.padding||[0,0]),T=Z(g.paddingBottomRight||g.padding||[0,0]),N=this.project(this.getCenter()),B=this.project(u),G=this.getPixelBounds(),tt=X([G.min.add(x),G.max.subtract(T)]),st=tt.getSize();if(!tt.contains(B)){this._enforcingBounds=!0;var pt=B.subtract(tt.getCenter()),St=tt.extend(B).getSize().subtract(st);N.x+=pt.x<0?-St.x:St.x,N.y+=pt.y<0?-St.y:St.y,this.panTo(this.unproject(N),g),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=r({animate:!1,pan:!0},u===!0?{animate:!0}:u);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),T=g.divideBy(2).round(),N=x.divideBy(2).round(),B=T.subtract(N);return!B.x&&!B.y?this:(u.animate&&u.pan?this.panBy(B):(u.pan&&this._rawPanBy(B),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:x}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=r({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),x=o(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,x,u):navigator.geolocation.getCurrentPosition(g,x,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){if(this._container._leaflet_id){var g=u.code,x=u.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(u){if(this._container._leaflet_id){var g=u.coords.latitude,x=u.coords.longitude,T=new _t(g,x),N=T.toBounds(u.coords.accuracy*2),B=this._locateOptions;if(B.setView){var G=this.getBoundsZoom(N);this.setView(T,B.maxZoom?Math.min(G,B.maxZoom):G)}var tt={latlng:T,bounds:N,timestamp:u.timestamp};for(var st in u.coords)typeof u.coords[st]=="number"&&(tt[st]=u.coords[st]);this.fire("locationfound",tt)}},addHandler:function(u,g){if(!g)return this;var x=this[u]=new g(this);return this._handlers.push(x),this.options[u]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var u;for(u in this._layers)this._layers[u].remove();for(u in this._panes)Te(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,g){var x="leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),T=te("div",x,g||this._mapPane);return u&&(this._panes[u]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds(),g=this.unproject(u.getBottomLeft()),x=this.unproject(u.getTopRight());return new ut(g,x)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,g,x){u=gt(u),x=Z(x||[0,0]);var T=this.getZoom()||0,N=this.getMinZoom(),B=this.getMaxZoom(),G=u.getNorthWest(),tt=u.getSouthEast(),st=this.getSize().subtract(x),pt=X(this.project(tt,T),this.project(G,T)).getSize(),St=kt.any3d?this.options.zoomSnap:1,Dt=st.x/pt.x,Zt=st.y/pt.y,kn=g?Math.max(Dt,Zt):Math.min(Dt,Zt);return T=this.getScaleZoom(kn,T),St&&(T=Math.round(T/(St/100))*(St/100),T=g?Math.ceil(T/St)*St:Math.floor(T/St)*St),Math.max(N,Math.min(B,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new nt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,g){var x=this._getTopLeftPoint(u,g);return new U(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(u===void 0?this.getZoom():u)},getPane:function(u){return typeof u=="string"?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,g){var x=this.options.crs;return g=g===void 0?this._zoom:g,x.scale(u)/x.scale(g)},getScaleZoom:function(u,g){var x=this.options.crs;g=g===void 0?this._zoom:g;var T=x.zoom(u*x.scale(g));return isNaN(T)?1/0:T},project:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(wt(u),g)},unproject:function(u,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(Z(u),g)},layerPointToLatLng:function(u){var g=Z(u).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(u){var g=this.project(wt(u))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(wt(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(gt(u))},distance:function(u,g){return this.options.crs.distance(wt(u),wt(g))},containerPointToLayerPoint:function(u){return Z(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return Z(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var g=this.containerPointToLayerPoint(Z(u));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(u)))},mouseEventToContainerPoint:function(u){return sl(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var g=this._container=td(u);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(g,"scroll",this._onScroll,this),this._containerId=d(g)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&kt.any3d,qt(u,"leaflet-container"+(kt.touch?" leaflet-touch":"")+(kt.retina?" leaflet-retina":"")+(kt.ielt9?" leaflet-oldie":"")+(kt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=tl(u,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),De(this._mapPane,new nt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(u.markerPane,"leaflet-zoom-hide"),qt(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,g,x){De(this._mapPane,new nt(0,0));var T=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var N=this._zoom!==g;this._moveStart(N,x)._move(u,g)._moveEnd(N),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(u,g){return u&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(u,g,x,T){g===void 0&&(g=this._zoom);var N=this._zoom!==g;return this._zoom=g,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),T?x&&x.pinch&&this.fire("zoom",x):((N||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){De(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[d(this._container)]=this;var g=u?_e:zt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),kt.any3d&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,g){for(var x=[],T,N=g==="mouseout"||g==="mouseover",B=u.target||u.srcElement,G=!1;B;){if(T=this._targets[d(B)],T&&(g==="click"||g==="preclick")&&this._draggableMoved(T)){G=!0;break}if(T&&T.listens(g,!0)&&(N&&!Rr(B,u)||(x.push(T),N))||B===this._container)break;B=B.parentNode}return!x.length&&!G&&!N&&this.listens(g,!0)&&(x=[this]),x},_isClickDisabled:function(u){for(;u&&u!==this._container;){if(u._leaflet_disable_click)return!0;u=u.parentNode}},_handleDOMEvent:function(u){var g=u.target||u.srcElement;if(!(!this._loaded||g._leaflet_disable_events||u.type==="click"&&this._isClickDisabled(g))){var x=u.type;x==="mousedown"&&Fs(g),this._fireDOMEvent(u,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,g,x){if(u.type==="click"){var T=r({},u);T.type="preclick",this._fireDOMEvent(T,T.type,x)}var N=this._findEventTargets(u,g);if(x){for(var B=[],G=0;G<x.length;G++)x[G].listens(g,!0)&&B.push(x[G]);N=B.concat(N)}if(N.length){g==="contextmenu"&&nn(u);var tt=N[0],st={originalEvent:u};if(u.type!=="keypress"&&u.type!=="keydown"&&u.type!=="keyup"){var pt=tt.getLatLng&&(!tt._radius||tt._radius<=10);st.containerPoint=pt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(u),st.layerPoint=this.containerPointToLayerPoint(st.containerPoint),st.latlng=pt?tt.getLatLng():this.layerPointToLatLng(st.layerPoint)}for(G=0;G<N.length;G++)if(N[G].fire(g,st,!0),st.originalEvent._stopped||N[G].options.bubblingMouseEvents===!1&&j(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(u){return u=u.dragging&&u.dragging.enabled()?u:this,u.dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,g=this._handlers.length;u<g;u++)this._handlers[u].disable()},whenReady:function(u,g){return this._loaded?u.call(g||this,{target:this}):this.on("load",u,g),this},_getMapPanePos:function(){return ra(this._mapPane)||new nt(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,g){var x=u&&g!==void 0?this._getNewPixelOrigin(u,g):this.getPixelOrigin();return x.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,g){var x=this.getSize()._divideBy(2);return this.project(u,g)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,g,x){var T=this._getNewPixelOrigin(x,g);return this.project(u,g)._subtract(T)},_latLngBoundsToNewLayerBounds:function(u,g,x){var T=this._getNewPixelOrigin(x,g);return X([this.project(u.getSouthWest(),g)._subtract(T),this.project(u.getNorthWest(),g)._subtract(T),this.project(u.getSouthEast(),g)._subtract(T),this.project(u.getNorthEast(),g)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,g,x){if(!x)return u;var T=this.project(u,g),N=this.getSize().divideBy(2),B=new U(T.subtract(N),T.add(N)),G=this._getBoundsOffset(B,x,g);return Math.abs(G.x)<=1&&Math.abs(G.y)<=1?u:this.unproject(T.add(G),g)},_limitOffset:function(u,g){if(!g)return u;var x=this.getPixelBounds(),T=new U(x.min.add(u),x.max.add(u));return u.add(this._getBoundsOffset(T,g))},_getBoundsOffset:function(u,g,x){var T=X(this.project(g.getNorthEast(),x),this.project(g.getSouthWest(),x)),N=T.min.subtract(u.min),B=T.max.subtract(u.max),G=this._rebound(N.x,-B.x),tt=this._rebound(N.y,-B.y);return new nt(G,tt)},_rebound:function(u,g){return u+g>0?Math.round(u-g)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(g))},_limitZoom:function(u){var g=this.getMinZoom(),x=this.getMaxZoom(),T=kt.any3d?this.options.zoomSnap:1;return T&&(u=Math.round(u/T)*T),Math.max(g,Math.min(x,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,g){var x=this._getCenterOffset(u)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(x)?!1:(this.panBy(x,g),!0)},_createAnimProxy:function(){var u=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(g){var x=ia,T=this._proxy.style[x];Lr(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),T===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),g=this.getZoom();Lr(this._proxy,this.project(u,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,g,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||x.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(g),N=this._getCenterOffset(u)._divideBy(1-1/T);return x.animate!==!0&&!this.getSize().contains(N)?!1:(Y(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(u,g,!0)},this),!0)},_animateZoom:function(u,g,x,T){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=g,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:g,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function sd(u,g){return new re(u,g)}var bi=ct.extend({options:{position:"topright"},initialize:function(u){w(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var g=this._map;return g&&g.removeControl(this),this.options.position=u,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var g=this._container=this.onAdd(u),x=this.getPosition(),T=u._controlCorners[x];return qt(g,"leaflet-control"),x.indexOf("bottom")!==-1?T.insertBefore(g,T.firstChild):T.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),Ir=function(u){return new bi(u)};re.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},g="leaflet-",x=this._controlContainer=te("div",g+"control-container",this._container);function T(N,B){var G=g+N+" "+g+B;u[N+B]=te("div",G,x)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Te(this._controlCorners[u]);Te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ol=bi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,g,x,T){return x<T?-1:T<x?1:0}},initialize:function(u,g,x){w(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in u)this._addLayer(u[T],T);for(T in g)this._addLayer(g[T],T,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return bi.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,g){return this._addLayer(u,g),this._map?this._update():this},addOverlay:function(u,g){return this._addLayer(u,g,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var g=this._getLayer(d(u));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):$e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",g=this._container=te("div",u),x=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Ka(g),ur(g);var T=this._section=te("section",u+"-list");x&&(this._map.on("click",this.collapse,this),zt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var N=this._layersLink=te("a",u+"-toggle",g);N.href="#",N.title="Layers",N.setAttribute("role","button"),zt(N,{keydown:function(B){B.keyCode===13&&this._expandSafely()},click:function(B){nn(B),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=te("div",u+"-base",T),this._separator=te("div",u+"-separator",T),this._overlaysList=te("div",u+"-overlays",T),g.appendChild(T)},_getLayer:function(u){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&d(this._layers[g].layer)===u)return this._layers[g]},_addLayer:function(u,g,x){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:g,overlay:x}),this.options.sortLayers&&this._layers.sort(o(function(T,N){return this.options.sortFunction(T.layer,N.layer,T.name,N.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pi(this._baseLayersList),Pi(this._overlaysList),this._layerControlInputs=[];var u,g,x,T,N=0;for(x=0;x<this._layers.length;x++)T=this._layers[x],this._addItem(T),g=g||T.overlay,u=u||!T.overlay,N+=T.overlay?0:1;return this.options.hideSingleBase&&(u=u&&N>1,this._baseLayersList.style.display=u?"":"none"),this._separator.style.display=g&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var g=this._getLayer(d(u.target)),x=g.overlay?u.type==="add"?"overlayadd":"overlayremove":u.type==="add"?"baselayerchange":null;x&&this._map.fire(x,g)},_createRadioElement:function(u,g){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(g?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=x,T.firstChild},_addItem:function(u){var g=document.createElement("label"),x=this._map.hasLayer(u.layer),T;u.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=x):T=this._createRadioElement("leaflet-base-layers_"+d(this),x),this._layerControlInputs.push(T),T.layerId=d(u.layer),zt(T,"click",this._onInputClick,this);var N=document.createElement("span");N.innerHTML=" "+u.name;var B=document.createElement("span");g.appendChild(B),B.appendChild(T),B.appendChild(N);var G=u.overlay?this._overlaysList:this._baseLayersList;return G.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var u=this._layerControlInputs,g,x,T=[],N=[];this._handlingClick=!0;for(var B=u.length-1;B>=0;B--)g=u[B],x=this._getLayer(g.layerId).layer,g.checked?T.push(x):g.checked||N.push(x);for(B=0;B<N.length;B++)this._map.hasLayer(N[B])&&this._map.removeLayer(N[B]);for(B=0;B<T.length;B++)this._map.hasLayer(T[B])||this._map.addLayer(T[B]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var u=this._layerControlInputs,g,x,T=this._map.getZoom(),N=u.length-1;N>=0;N--)g=u[N],x=this._getLayer(g.layerId).layer,g.disabled=x.options.minZoom!==void 0&&T<x.options.minZoom||x.options.maxZoom!==void 0&&T>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var u=this._section;this._preventClick=!0,zt(u,"click",nn),this.expand();var g=this;setTimeout(function(){_e(u,"click",nn),g._preventClick=!1})}}),zf=function(u,g,x){return new ol(u,g,x)},od=bi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(u){var g="leaflet-control-zoom",x=te("div",g+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,g+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,g+"-out",x,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,g,x,T,N){var B=te("a",x,T);return B.innerHTML=u,B.href="#",B.title=g,B.setAttribute("role","button"),B.setAttribute("aria-label",g),Ka(B),zt(B,"click",aa),zt(B,"click",N,this),zt(B,"click",this._refocusOnMap,this),B},_updateDisabled:function(){var u=this._map,g="leaflet-disabled";$e(this._zoomInButton,g),$e(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||u._zoom===u.getMinZoom())&&(qt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||u._zoom===u.getMaxZoom())&&(qt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new od,this.addControl(this.zoomControl))});var oy=function(u){return new od(u)},Ff=bi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var g="leaflet-control-scale",x=te("div",g),T=this.options;return this._addScales(T,g+"-line",x),u.on(T.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),x},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,g,x){u.metric&&(this._mScale=te("div",g,x)),u.imperial&&(this._iScale=te("div",g,x))},_update:function(){var u=this._map,g=u.getSize().y/2,x=u.distance(u.containerPointToLatLng([0,g]),u.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(x)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var g=this._getRoundNum(u),x=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,x,g/u)},_updateImperial:function(u){var g=u*3.2808399,x,T,N;g>5280?(x=g/5280,T=this._getRoundNum(x),this._updateScale(this._iScale,T+" mi",T/x)):(N=this._getRoundNum(g),this._updateScale(this._iScale,N+" ft",N/g))},_updateScale:function(u,g,x){u.style.width=Math.round(this.options.maxWidth*x)+"px",u.innerHTML=g},_getRoundNum:function(u){var g=Math.pow(10,(Math.floor(u)+"").length-1),x=u/g;return x=x>=10?10:x>=5?5:x>=3?3:x>=2?2:1,g*x}}),ld=function(u){return new Ff(u)},ly='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',cd=bi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(kt.inlineSvg?ly+" ":"")+"Leaflet</a>"},initialize:function(u){w(this,u),this._attributions={}},onAdd:function(u){u.attributionControl=this,this._container=te("div","leaflet-control-attribution"),Ka(this._container);for(var g in u._layers)u._layers[g].getAttribution&&this.addAttribution(u._layers[g].getAttribution());return this._update(),u.on("layeradd",this._addAttribution,this),this._container},onRemove:function(u){u.off("layeradd",this._addAttribution,this)},_addAttribution:function(u){u.layer.getAttribution&&(this.addAttribution(u.layer.getAttribution()),u.layer.once("remove",function(){this.removeAttribution(u.layer.getAttribution())},this))},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var g in this._attributions)this._attributions[g]&&u.push(g);var x=[];this.options.prefix&&x.push(this.options.prefix),u.length&&x.push(u.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new cd().addTo(this)});var cy=function(u){return new cd(u)};bi.Layers=ol,bi.Zoom=od,bi.Scale=Ff,bi.Attribution=cd,Ir.layers=zf,Ir.zoom=oy,Ir.scale=ld,Ir.attribution=cy;var dr=ct.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dr.addTo=function(u,g){return u.addHandler(g,this),this};var uy={Events:$},ud=kt.touch?"touchstart mousedown":"mousedown",sa=Q.extend({options:{clickTolerance:3},initialize:function(u,g,x,T){w(this,T),this._element=u,this._dragStartTarget=g||u,this._preventOutline=x},enable:function(){this._enabled||(zt(this._dragStartTarget,ud,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sa._dragging===this&&this.finishDrag(!0),_e(this._dragStartTarget,ud,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(this._enabled&&(this._moved=!1,!ed(this._element,"leaflet-zoom-anim"))){if(u.touches&&u.touches.length!==1){sa._dragging===this&&this.finishDrag();return}if(!(sa._dragging||u.shiftKey||u.which!==1&&u.button!==1&&!u.touches)&&(sa._dragging=this,this._preventOutline&&Fs(this._element),mc(),Bs(),!this._moving)){this.fire("down");var g=u.touches?u.touches[0]:u,x=vc(this._element);this._startPoint=new nt(g.clientX,g.clientY),this._startPos=ra(this._element),this._parentScale=il(x);var T=u.type==="mousedown";zt(document,T?"mousemove":"touchmove",this._onMove,this),zt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(u){if(this._enabled){if(u.touches&&u.touches.length>1){this._moved=!0;return}var g=u.touches&&u.touches.length===1?u.touches[0]:u,x=new nt(g.clientX,g.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,nn(u),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=u,this._updatePosition())}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),De(this._element,this._newPos),this.fire("drag",u)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(u){$e(document.body,"leaflet-dragging"),this._lastTarget&&($e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),_e(document,"mousemove touchmove",this._onMove,this),_e(document,"mouseup touchend touchcancel",this._onUp,this),nl(),cr();var g=this._moved&&this._moving;this._moving=!1,sa._dragging=!1,g&&this.fire("dragend",{noInertia:u,distance:this._newPos.distanceTo(this._startPos)})}});function Uf(u,g,x){var T,N=[1,4,2,8],B,G,tt,st,pt,St,Dt,Zt;for(B=0,St=u.length;B<St;B++)u[B]._code=Za(u[B],g);for(tt=0;tt<4;tt++){for(Dt=N[tt],T=[],B=0,St=u.length,G=St-1;B<St;G=B++)st=u[B],pt=u[G],st._code&Dt?pt._code&Dt||(Zt=bc(pt,st,Dt,g,x),Zt._code=Za(Zt,g),T.push(Zt)):(pt._code&Dt&&(Zt=bc(pt,st,Dt,g,x),Zt._code=Za(Zt,g),T.push(Zt)),T.push(st));u=T}return u}function Hf(u,g){var x,T,N,B,G,tt,st,pt,St;if(!u||u.length===0)throw new Error("latlngs not passed");Ni(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var Dt=wt([0,0]),Zt=gt(u),kn=Zt.getNorthWest().distanceTo(Zt.getSouthWest())*Zt.getNorthEast().distanceTo(Zt.getNorthWest());kn<1700&&(Dt=dd(u));var rn=u.length,xi=[];for(x=0;x<rn;x++){var ue=wt(u[x]);xi.push(g.project(wt([ue.lat-Dt.lat,ue.lng-Dt.lng])))}for(tt=st=pt=0,x=0,T=rn-1;x<rn;T=x++)N=xi[x],B=xi[T],G=N.y*B.x-B.y*N.x,st+=(N.x+B.x)*G,pt+=(N.y+B.y)*G,tt+=G*3;tt===0?St=xi[0]:St=[st/tt,pt/tt];var de=g.unproject(Z(St));return wt([de.lat+Dt.lat,de.lng+Dt.lng])}function dd(u){for(var g=0,x=0,T=0,N=0;N<u.length;N++){var B=wt(u[N]);g+=B.lat,x+=B.lng,T++}return wt([g/T,x/T])}var hd={__proto__:null,clipPolygon:Uf,polygonCenter:Hf,centroid:dd};function $f(u,g){if(!g||!u.length)return u.slice();var x=g*g;return u=hy(u,x),u=qf(u,x),u}function Gf(u,g,x){return Math.sqrt(ll(u,g,x,!0))}function dy(u,g,x){return ll(u,g,x)}function qf(u,g){var x=u.length,T=typeof Uint8Array<"u"?Uint8Array:Array,N=new T(x);N[0]=N[x-1]=1,fd(u,N,g,0,x-1);var B,G=[];for(B=0;B<x;B++)N[B]&&G.push(u[B]);return G}function fd(u,g,x,T,N){var B=0,G,tt,st;for(tt=T+1;tt<=N-1;tt++)st=ll(u[tt],u[T],u[N],!0),st>B&&(G=tt,B=st);B>x&&(g[G]=1,fd(u,g,x,T,G),fd(u,g,x,G,N))}function hy(u,g){for(var x=[u[0]],T=1,N=0,B=u.length;T<B;T++)fy(u[T],u[N])>g&&(x.push(u[T]),N=T);return N<B-1&&x.push(u[B-1]),x}var Vf;function Wf(u,g,x,T,N){var B=T?Vf:Za(u,x),G=Za(g,x),tt,st,pt;for(Vf=G;;){if(!(B|G))return[u,g];if(B&G)return!1;tt=B||G,st=bc(u,g,tt,x,N),pt=Za(st,x),tt===B?(u=st,B=pt):(g=st,G=pt)}}function bc(u,g,x,T,N){var B=g.x-u.x,G=g.y-u.y,tt=T.min,st=T.max,pt,St;return x&8?(pt=u.x+B*(st.y-u.y)/G,St=st.y):x&4?(pt=u.x+B*(tt.y-u.y)/G,St=tt.y):x&2?(pt=st.x,St=u.y+G*(st.x-u.x)/B):x&1&&(pt=tt.x,St=u.y+G*(tt.x-u.x)/B),new nt(pt,St,N)}function Za(u,g){var x=0;return u.x<g.min.x?x|=1:u.x>g.max.x&&(x|=2),u.y<g.min.y?x|=4:u.y>g.max.y&&(x|=8),x}function fy(u,g){var x=g.x-u.x,T=g.y-u.y;return x*x+T*T}function ll(u,g,x,T){var N=g.x,B=g.y,G=x.x-N,tt=x.y-B,st=G*G+tt*tt,pt;return st>0&&(pt=((u.x-N)*G+(u.y-B)*tt)/st,pt>1?(N=x.x,B=x.y):pt>0&&(N+=G*pt,B+=tt*pt)),G=u.x-N,tt=u.y-B,T?G*G+tt*tt:new nt(N,B)}function Ni(u){return!M(u[0])||typeof u[0][0]!="object"&&typeof u[0][0]<"u"}function xc(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ni(u)}function $s(u,g){var x,T,N,B,G,tt,st,pt;if(!u||u.length===0)throw new Error("latlngs not passed");Ni(u)||(console.warn("latlngs are not flat! Only the first ring will be used"),u=u[0]);var St=wt([0,0]),Dt=gt(u),Zt=Dt.getNorthWest().distanceTo(Dt.getSouthWest())*Dt.getNorthEast().distanceTo(Dt.getNorthWest());Zt<1700&&(St=dd(u));var kn=u.length,rn=[];for(x=0;x<kn;x++){var xi=wt(u[x]);rn.push(g.project(wt([xi.lat-St.lat,xi.lng-St.lng])))}for(x=0,T=0;x<kn-1;x++)T+=rn[x].distanceTo(rn[x+1])/2;if(T===0)pt=rn[0];else for(x=0,B=0;x<kn-1;x++)if(G=rn[x],tt=rn[x+1],N=G.distanceTo(tt),B+=N,B>T){st=(B-T)/N,pt=[tt.x-st*(tt.x-G.x),tt.y-st*(tt.y-G.y)];break}var ue=g.unproject(Z(pt));return wt([ue.lat+St.lat,ue.lng+St.lng])}var py={__proto__:null,simplify:$f,pointToSegmentDistance:Gf,closestPointOnSegment:dy,clipSegment:Wf,_getEdgeIntersection:bc,_getBitCode:Za,_sqClosestPointOnSegment:ll,isFlat:Ni,_flat:xc,polylineCenter:$s},_c={project:function(u){return new nt(u.lng,u.lat)},unproject:function(u){return new _t(u.y,u.x)},bounds:new U([-180,-90],[180,90])},wc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new U([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(u){var g=Math.PI/180,x=this.R,T=u.lat*g,N=this.R_MINOR/x,B=Math.sqrt(1-N*N),G=B*Math.sin(T),tt=Math.tan(Math.PI/4-T/2)/Math.pow((1-G)/(1+G),B/2);return T=-x*Math.log(Math.max(tt,1e-10)),new nt(u.lng*g*x,T)},unproject:function(u){for(var g=180/Math.PI,x=this.R,T=this.R_MINOR/x,N=Math.sqrt(1-T*T),B=Math.exp(-u.y/x),G=Math.PI/2-2*Math.atan(B),tt=0,st=.1,pt;tt<15&&Math.abs(st)>1e-7;tt++)pt=N*Math.sin(G),pt=Math.pow((1-pt)/(1+pt),N/2),st=Math.PI/2-2*Math.atan(B*pt)-G,G+=st;return new _t(G*g,u.x*g/x)}},Yf={__proto__:null,LonLat:_c,Mercator:wc,SphericalMercator:Rt},Kf=r({},Yt,{code:"EPSG:3395",projection:wc,transformation:(function(){var u=.5/(Math.PI*wc.R);return vt(u,.5,-u,.5)})()}),pd=r({},Yt,{code:"EPSG:4326",projection:_c,transformation:vt(1/180,1,-1/180,.5)}),Gs=r({},At,{projection:_c,transformation:vt(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,g){var x=g.lng-u.lng,T=g.lat-u.lat;return Math.sqrt(x*x+T*T)},infinite:!0});At.Earth=Yt,At.EPSG3395=Kf,At.EPSG3857=He,At.EPSG900913=Jt,At.EPSG4326=pd,At.Simple=Gs;var Zi=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[d(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[d(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var g=u.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var x=this.getEvents();g.on(x,this),this.once("remove",function(){g.off(x,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});re.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var g=d(u);return this._layers[g]?this:(this._layers[g]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u),this)},removeLayer:function(u){var g=d(u);return this._layers[g]?(this._loaded&&u.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return d(u)in this._layers},eachLayer:function(u,g){for(var x in this._layers)u.call(g,this._layers[x]);return this},_addLayers:function(u){u=u?M(u)?u:[u]:[];for(var g=0,x=u.length;g<x;g++)this.addLayer(u[g])},_addZoomLimit:function(u){(!isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[d(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var g=d(u);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,g=-1/0,x=this._getZoomSpan();for(var T in this._zoomBoundLayers){var N=this._zoomBoundLayers[T].options;u=N.minZoom===void 0?u:Math.min(u,N.minZoom),g=N.maxZoom===void 0?g:Math.max(g,N.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=u===1/0?void 0:u,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qs=Zi.extend({initialize:function(u,g){w(this,g),this._layers={};var x,T;if(u)for(x=0,T=u.length;x<T;x++)this.addLayer(u[x])},addLayer:function(u){var g=this.getLayerId(u);return this._layers[g]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var g=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(u){var g=typeof u=="number"?u:this.getLayerId(u);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var g=Array.prototype.slice.call(arguments,1),x,T;for(x in this._layers)T=this._layers[x],T[u]&&T[u].apply(T,g);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,g){for(var x in this._layers)u.call(g,this._layers[x]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return d(u)}}),my=function(u,g){return new qs(u,g)},hr=qs.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),qs.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),qs.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new ut;for(var g in this._layers){var x=this._layers[g];u.extend(x.getBounds?x.getBounds():x.getLatLng())}return u}}),Zf=function(u,g){return new hr(u,g)},fr=ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(u){w(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,g){var x=this._getIconUrl(u);if(!x){if(u==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(x,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(T,u),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(u,g){var x=this.options,T=x[g+"Size"];typeof T=="number"&&(T=[T,T]);var N=Z(T),B=Z(g==="shadow"&&x.shadowAnchor||x.iconAnchor||N&&N.divideBy(2,!0));u.className="leaflet-marker-"+g+" "+(x.className||""),B&&(u.style.marginLeft=-B.x+"px",u.style.marginTop=-B.y+"px"),N&&(u.style.width=N.x+"px",u.style.height=N.y+"px")},_createImg:function(u,g){return g=g||document.createElement("img"),g.src=u,g},_getIconUrl:function(u){return kt.retina&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});function cl(u){return new fr(u)}var ul=fr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return typeof ul.imagePath!="string"&&(ul.imagePath=this._detectIconPath()),(this.options.imagePath||ul.imagePath)+fr.prototype._getIconUrl.call(this,u)},_stripUrl:function(u){var g=function(x,T,N){var B=T.exec(x);return B&&B[N]};return u=g(u,/^url\((['"])?(.+)\1\)$/,2),u&&g(u,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var u=te("div","leaflet-default-icon-path",document.body),g=tl(u,"background-image")||tl(u,"backgroundImage");if(document.body.removeChild(u),g=this._stripUrl(g),g)return g;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),dl=dr.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new sa(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var g=this._marker,x=g._map,T=this._marker.options.autoPanSpeed,N=this._marker.options.autoPanPadding,B=ra(g._icon),G=x.getPixelBounds(),tt=x.getPixelOrigin(),st=X(G.min._subtract(tt).add(N),G.max._subtract(tt).subtract(N));if(!st.contains(B)){var pt=Z((Math.max(st.max.x,B.x)-st.max.x)/(G.max.x-st.max.x)-(Math.min(st.min.x,B.x)-st.min.x)/(G.min.x-st.min.x),(Math.max(st.max.y,B.y)-st.max.y)/(G.max.y-st.max.y)-(Math.min(st.min.y,B.y)-st.min.y)/(G.min.y-st.min.y)).multiplyBy(T);x.panBy(pt,{animate:!1}),this._draggable._newPos._add(pt),this._draggable._startPos._add(pt),De(g._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=Y(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,u)))},_onDrag:function(u){var g=this._marker,x=g._shadow,T=ra(g._icon),N=g._map.layerPointToLatLng(T);x&&De(x,T),g._latlng=N,u.latlng=N,u.oldLatLng=this._oldLatLng,g.fire("move",u).fire("drag",u)},_onDragEnd:function(u){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),hl=Zi.extend({options:{icon:new ul,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,g){w(this,g),this._latlng=wt(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var g=this._latlng;return this._latlng=wt(u),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=u.icon.createIcon(this._icon),T=!1;x!==this._icon&&(this._icon&&this._removeIcon(),T=!0,u.title&&(x.title=u.title),x.tagName==="IMG"&&(x.alt=u.alt||"")),qt(x,g),u.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(x,"focus",this._panOnFocus,this);var N=u.icon.createShadow(this._shadow),B=!1;N!==this._shadow&&(this._removeShadow(),B=!0),N&&(qt(N,g),N.alt=""),this._shadow=N,u.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),N&&B&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(this._icon,"focus",this._panOnFocus,this),Te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Te(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&De(this._icon,u),this._shadow&&De(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),dl)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new dl(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&Be(this._icon,u),this._shadow&&Be(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var u=this._map;if(u){var g=this.options.icon.options,x=g.iconSize?Z(g.iconSize):Z(0,0),T=g.iconAnchor?Z(g.iconAnchor):Z(0,0);u.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:x.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xf(u,g){return new hl(u,g)}var pr=Zi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return w(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vs=pr.extend({options:{fill:!0,radius:10},initialize:function(u,g){w(this,g),this._latlng=wt(u),this._radius=this.options.radius},setLatLng:function(u){var g=this._latlng;return this._latlng=wt(u),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var g=u&&u.radius||this._radius;return pr.prototype.setStyle.call(this,u),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,g=this._radiusY||u,x=this._clickTolerance(),T=[u+x,g+x];this._pxBounds=new U(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qf(u,g){return new Vs(u,g)}var Ac=Vs.extend({initialize:function(u,g,x){if(typeof g=="number"&&(g=r({},x,{radius:g})),w(this,g),this._latlng=wt(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new ut(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:pr.prototype.setStyle,_project:function(){var u=this._latlng.lng,g=this._latlng.lat,x=this._map,T=x.options.crs;if(T.distance===Yt.distance){var N=Math.PI/180,B=this._mRadius/Yt.R/N,G=x.project([g+B,u]),tt=x.project([g-B,u]),st=G.add(tt).divideBy(2),pt=x.unproject(st).lat,St=Math.acos((Math.cos(B*N)-Math.sin(g*N)*Math.sin(pt*N))/(Math.cos(g*N)*Math.cos(pt*N)))/N;(isNaN(St)||St===0)&&(St=B/Math.cos(Math.PI/180*g)),this._point=st.subtract(x.getPixelOrigin()),this._radius=isNaN(St)?0:st.x-x.project([pt,u-St]).x,this._radiusY=st.y-G.y}else{var Dt=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(Dt).x}this._updateBounds()}});function Jf(u,g,x){return new Ac(u,g,x)}var Br=pr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,g){w(this,g),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var g=1/0,x=null,T=ll,N,B,G=0,tt=this._parts.length;G<tt;G++)for(var st=this._parts[G],pt=1,St=st.length;pt<St;pt++){N=st[pt-1],B=st[pt];var Dt=T(u,N,B,!0);Dt<g&&(g=Dt,x=T(u,N,B))}return x&&(x.distance=Math.sqrt(g)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $s(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(u,g){return g=g||this._defaultShape(),u=wt(u),g.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new ut,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Ni(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var g=[],x=Ni(u),T=0,N=u.length;T<N;T++)x?(g[T]=wt(u[T]),this._bounds.extend(g[T])):g[T]=this._convertLatLngs(u[T]);return g},_project:function(){var u=new U;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),g=new nt(u,u);this._rawPxBounds&&(this._pxBounds=new U([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(u,g,x){var T=u[0]instanceof _t,N=u.length,B,G;if(T){for(G=[],B=0;B<N;B++)G[B]=this._map.latLngToLayerPoint(u[B]),x.extend(G[B]);g.push(G)}else for(B=0;B<N;B++)this._projectLatlngs(u[B],g,x)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,x,T,N,B,G,tt,st;for(x=0,N=0,B=this._rings.length;x<B;x++)for(st=this._rings[x],T=0,G=st.length;T<G-1;T++)tt=Wf(st[T],st[T+1],u,T,!0),tt&&(g[N]=g[N]||[],g[N].push(tt[0]),(tt[1]!==st[T+1]||T===G-2)&&(g[N].push(tt[1]),N++))}},_simplifyPoints:function(){for(var u=this._parts,g=this.options.smoothFactor,x=0,T=u.length;x<T;x++)u[x]=$f(u[x],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,g){var x,T,N,B,G,tt,st=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(x=0,B=this._parts.length;x<B;x++)for(tt=this._parts[x],T=0,G=tt.length,N=G-1;T<G;N=T++)if(!(!g&&T===0)&&Gf(u,tt[N],tt[T])<=st)return!0;return!1}});function gy(u,g){return new Br(u,g)}Br._flat=xc;var Ws=Br.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(u){var g=Br.prototype._convertLatLngs.call(this,u),x=g.length;return x>=2&&g[0]instanceof _t&&g[0].equals(g[x-1])&&g.pop(),g},_setLatLngs:function(u){Br.prototype._setLatLngs.call(this,u),Ni(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ni(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,g=this.options.weight,x=new nt(g,g);if(u=new U(u.min.subtract(x),u.max.add(x)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(u))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,N=this._rings.length,B;T<N;T++)B=Uf(this._rings[T],u,!0),B.length&&this._parts.push(B)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var g=!1,x,T,N,B,G,tt,st,pt;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(B=0,st=this._parts.length;B<st;B++)for(x=this._parts[B],G=0,pt=x.length,tt=pt-1;G<pt;tt=G++)T=x[G],N=x[tt],T.y>u.y!=N.y>u.y&&u.x<(N.x-T.x)*(u.y-T.y)/(N.y-T.y)+T.x&&(g=!g);return g||Br.prototype._containsPoint.call(this,u,!0)}});function vy(u,g){return new Ws(u,g)}var zr=hr.extend({initialize:function(u,g){w(this,g),this._layers={},u&&this.addData(u)},addData:function(u){var g=M(u)?u:u.features,x,T,N;if(g){for(x=0,T=g.length;x<T;x++)N=g[x],(N.geometries||N.geometry||N.features||N.coordinates)&&this.addData(N);return this}var B=this.options;if(B.filter&&!B.filter(u))return this;var G=Hn(u,B);return G?(G.feature=Cc(u),G.defaultOptions=G.options,this.resetStyle(G),B.onEachFeature&&B.onEachFeature(u,G),this.addLayer(G)):this},resetStyle:function(u){return u===void 0?this.eachLayer(this.resetStyle,this):(u.options=r({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(g){this._setLayerStyle(g,u)},this)},_setLayerStyle:function(u,g){u.setStyle&&(typeof g=="function"&&(g=g(u.feature)),u.setStyle(g))}});function Hn(u,g){var x=u.type==="Feature"?u.geometry:u,T=x?x.coordinates:null,N=[],B=g&&g.pointToLayer,G=g&&g.coordsToLatLng||Sc,tt,st,pt,St;if(!T&&!x)return null;switch(x.type){case"Point":return tt=G(T),Ys(B,u,tt,g);case"MultiPoint":for(pt=0,St=T.length;pt<St;pt++)tt=G(T[pt]),N.push(Ys(B,u,tt,g));return new hr(N);case"LineString":case"MultiLineString":return st=fl(T,x.type==="LineString"?0:1,G),new Br(st,g);case"Polygon":case"MultiPolygon":return st=fl(T,x.type==="Polygon"?1:2,G),new Ws(st,g);case"GeometryCollection":for(pt=0,St=x.geometries.length;pt<St;pt++){var Dt=Hn({geometry:x.geometries[pt],type:"Feature",properties:u.properties},g);Dt&&N.push(Dt)}return new hr(N);case"FeatureCollection":for(pt=0,St=x.features.length;pt<St;pt++){var Zt=Hn(x.features[pt],g);Zt&&N.push(Zt)}return new hr(N);default:throw new Error("Invalid GeoJSON object.")}}function Ys(u,g,x,T){return u?u(g,x):new hl(x,T&&T.markersInheritOptions&&T)}function Sc(u){return new _t(u[1],u[0],u[2])}function fl(u,g,x){for(var T=[],N=0,B=u.length,G;N<B;N++)G=g?fl(u[N],g-1,x):(x||Sc)(u[N]),T.push(G);return T}function Ec(u,g){return u=wt(u),u.alt!==void 0?[y(u.lng,g),y(u.lat,g),y(u.alt,g)]:[y(u.lng,g),y(u.lat,g)]}function pl(u,g,x,T){for(var N=[],B=0,G=u.length;B<G;B++)N.push(g?pl(u[B],Ni(u[B])?0:g-1,x,T):Ec(u[B],T));return!g&&x&&N.length>0&&N.push(N[0].slice()),N}function oa(u,g){return u.feature?r({},u.feature,{geometry:g}):Cc(g)}function Cc(u){return u.type==="Feature"||u.type==="FeatureCollection"?u:{type:"Feature",properties:{},geometry:u}}var la={toGeoJSON:function(u){return oa(this,{type:"Point",coordinates:Ec(this.getLatLng(),u)})}};hl.include(la),Ac.include(la),Vs.include(la),Br.include({toGeoJSON:function(u){var g=!Ni(this._latlngs),x=pl(this._latlngs,g?1:0,!1,u);return oa(this,{type:(g?"Multi":"")+"LineString",coordinates:x})}}),Ws.include({toGeoJSON:function(u){var g=!Ni(this._latlngs),x=g&&!Ni(this._latlngs[0]),T=pl(this._latlngs,x?2:g?1:0,!0,u);return g||(T=[T]),oa(this,{type:(x?"Multi":"")+"Polygon",coordinates:T})}}),qs.include({toMultiPoint:function(u){var g=[];return this.eachLayer(function(x){g.push(x.toGeoJSON(u).geometry.coordinates)}),oa(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(u){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(u);var x=g==="GeometryCollection",T=[];return this.eachLayer(function(N){if(N.toGeoJSON){var B=N.toGeoJSON(u);if(x)T.push(B.geometry);else{var G=Cc(B);G.type==="FeatureCollection"?T.push.apply(T,G.features):T.push(G)}}}),x?oa(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function Tc(u,g){return new zr(u,g)}var ml=Tc,Ks=Zi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,g,x){this._url=u,this._bounds=gt(g),w(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Nn(this._image),this},bringToBack:function(){return this._map&&Wa(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=gt(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u=this._url.tagName==="IMG",g=this._image=u?this._url:te("img");if(qt(g,"leaflet-image-layer"),this._zoomAnimated&&qt(g,"leaflet-zoom-animated"),this.options.className&&qt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(u){var g=this._map.getZoomScale(u.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;Lr(this._image,x,g)},_reset:function(){var u=this._image,g=new U(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=g.getSize();De(u,g.min),u.style.width=x.x+"px",u.style.height=x.y+"px"},_updateOpacity:function(){Be(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)},getCenter:function(){return this._bounds.getCenter()}}),tp=function(u,g,x){return new Ks(u,g,x)},ca=Ks.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var u=this._url.tagName==="VIDEO",g=this._image=u?this._url:te("video");if(qt(g,"leaflet-image-layer"),this._zoomAnimated&&qt(g,"leaflet-zoom-animated"),this.options.className&&qt(g,this.options.className),g.onselectstart=m,g.onmousemove=m,g.onloadeddata=o(this.fire,this,"load"),u){for(var x=g.getElementsByTagName("source"),T=[],N=0;N<x.length;N++)T.push(x[N].src);this._url=x.length>0?T:[g.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var B=0;B<this._url.length;B++){var G=te("source");G.src=this._url[B],g.appendChild(G)}}});function Zs(u,g,x){return new ca(u,g,x)}var Oc=Ks.extend({_initImage:function(){var u=this._image=this._url;qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=m,u.onmousemove=m}});function ep(u,g,x){return new Oc(u,g,x)}var $n=Zi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(u,g){u&&(u instanceof _t||M(u))?(this._latlng=wt(u),w(this,g)):(w(this,u),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(u){return u=arguments.length?u:this._source._map,u.hasLayer(this)||u.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(u){return this._map?this.close():(arguments.length?this._source=u:u=this._source,this._prepareOpen(),this.openOn(u._map)),this},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&Be(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&Be(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(u){u._fadeAnimated?(Be(this._container,0),this._removeTimeout=setTimeout(o(Te,void 0,this._container),200)):Te(this._container),this.options.interactive&&($e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=wt(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Nn(this._container),this},bringToBack:function(){return this._map&&Wa(this._container),this},_prepareOpen:function(u){var g=this._source;if(!g._map)return!1;if(g instanceof hr){g=null;var x=this._source._layers;for(var T in x)if(x[T]._map){g=x[T];break}if(!g)return!1;this._source=g}if(!u)if(g.getCenter)u=g.getCenter();else if(g.getLatLng)u=g.getLatLng();else if(g.getBounds)u=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(u),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var u=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")u.innerHTML=g;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),g=Z(this.options.offset),x=this._getAnchor();this._zoomAnimated?De(this._container,u.add(x)):g=g.add(u).add(x);var T=this._containerBottom=-g.y,N=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=T+"px",this._container.style.left=N+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(u,g,x,T){var N=g;return N instanceof u||(N=new u(T).setContent(g)),x&&N.setLatLng(x),N}}),Zi.include({_initOverlay:function(u,g,x,T){var N=x;return N instanceof u?(w(N,T),N._source=this):(N=g&&!T?g:new u(T,this),N.setContent(x)),N}});var gl=$n.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u=arguments.length?u:this._source._map,!u.hasLayer(this)&&u._popup&&u._popup.options.autoClose&&u.removeLayer(u._popup),u._popup=this,$n.prototype.openOn.call(this,u)},onAdd:function(u){$n.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof pr||this._source.on("preclick",Ki))},onRemove:function(u){$n.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof pr||this._source.off("preclick",Ki))},getEvents:function(){var u=$n.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this.close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_initLayout:function(){var u="leaflet-popup",g=this._container=te("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=te("div",u+"-content-wrapper",g);if(this._contentNode=te("div",u+"-content",x),Ka(g),ur(this._contentNode),zt(g,"contextmenu",Ki),this._tipContainer=te("div",u+"-tip-container",g),this._tip=te("div",u+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=te("a",u+"-close-button",g);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',zt(T,"click",function(N){nn(N),this.close()},this)}},_updateLayout:function(){var u=this._contentNode,g=u.style;g.width="",g.whiteSpace="nowrap";var x=u.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),g.width=x+1+"px",g.whiteSpace="",g.height="";var T=u.offsetHeight,N=this.options.maxHeight,B="leaflet-popup-scrolled";N&&T>N?(g.height=N+"px",qt(u,B)):$e(u,B),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),x=this._getAnchor();De(this._container,g.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var u=this._map,g=parseInt(tl(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+g,T=this._containerWidth,N=new nt(this._containerLeft,-x-this._containerBottom);N._add(ra(this._container));var B=u.layerPointToContainerPoint(N),G=Z(this.options.autoPanPadding),tt=Z(this.options.autoPanPaddingTopLeft||G),st=Z(this.options.autoPanPaddingBottomRight||G),pt=u.getSize(),St=0,Dt=0;B.x+T+st.x>pt.x&&(St=B.x+T-pt.x+st.x),B.x-St-tt.x<0&&(St=B.x-tt.x),B.y+x+st.y>pt.y&&(Dt=B.y+x-pt.y+st.y),B.y-Dt-tt.y<0&&(Dt=B.y-tt.y),(St||Dt)&&(this.options.keepInView&&(this._autopanning=!0),u.fire("autopanstart").panBy([St,Dt]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),np=function(u,g){return new gl(u,g)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(u,g,x){return this._initOverlay(gl,u,g,x).openOn(this),this},closePopup:function(u){return u=arguments.length?u:this._popup,u&&u.close(),this}}),Zi.include({bindPopup:function(u,g){return this._popup=this._initOverlay(gl,this._popup,u,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u){return this._popup&&(this instanceof hr||(this._popup._source=this),this._popup._prepareOpen(u||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){if(!(!this._popup||!this._map)){aa(u);var g=u.layer||u.target;if(this._popup._source===g&&!(g instanceof pr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(u.latlng);return}this._popup._source=g,this.openPopup(u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){u.originalEvent.keyCode===13&&this._openPopup(u)}});var vl=$n.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(u){$n.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(u){$n.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var u=$n.prototype.getEvents.call(this);return this.options.permanent||(u.preclick=this.close),u},_initLayout:function(){var u="leaflet-tooltip",g=u+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var g,x,T=this._map,N=this._container,B=T.latLngToContainerPoint(T.getCenter()),G=T.layerPointToContainerPoint(u),tt=this.options.direction,st=N.offsetWidth,pt=N.offsetHeight,St=Z(this.options.offset),Dt=this._getAnchor();tt==="top"?(g=st/2,x=pt):tt==="bottom"?(g=st/2,x=0):tt==="center"?(g=st/2,x=pt/2):tt==="right"?(g=0,x=pt/2):tt==="left"?(g=st,x=pt/2):G.x<B.x?(tt="right",g=0,x=pt/2):(tt="left",g=st+(St.x+Dt.x)*2,x=pt/2),u=u.subtract(Z(g,x,!0)).add(St).add(Dt),$e(N,"leaflet-tooltip-right"),$e(N,"leaflet-tooltip-left"),$e(N,"leaflet-tooltip-top"),$e(N,"leaflet-tooltip-bottom"),qt(N,"leaflet-tooltip-"+tt),De(N,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&Be(this._container,u)},_animateZoom:function(u){var g=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(g)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),yy=function(u,g){return new vl(u,g)};re.include({openTooltip:function(u,g,x){return this._initOverlay(vl,u,g,x).openOn(this),this},closeTooltip:function(u){return u.close(),this}}),Zi.include({bindTooltip:function(u,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vl,this._tooltip,u,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(!(!u&&this._tooltipHandlersAdded)){var g=u?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[g](x),this._tooltipHandlersAdded=!u}},openTooltip:function(u){return this._tooltip&&(this instanceof hr||(this._tooltip._source=this),this._tooltip._prepareOpen(u)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&(zt(g,"focus",function(){this._tooltip._source=u,this.openTooltip()},this),zt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(u){var g=typeof u.getElement=="function"&&u.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(u){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(u)});return}this._tooltip._source=u.layer||u.target,this.openTooltip(this._tooltip.options.sticky?u.latlng:void 0)}},_moveTooltip:function(u){var g=u.latlng,x,T;this._tooltip.options.sticky&&u.originalEvent&&(x=this._map.mouseEventToContainerPoint(u.originalEvent),T=this._map.containerPointToLayerPoint(x),g=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(g)}});var ip=fr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var g=u&&u.tagName==="DIV"?u:document.createElement("div"),x=this.options;if(x.html instanceof Element?(Pi(g),g.appendChild(x.html)):g.innerHTML=x.html!==!1?x.html:"",x.bgPos){var T=Z(x.bgPos);g.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function by(u){return new ip(u)}fr.Default=ul;var Xs=Zi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:kt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){w(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Te(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Nn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var u=this._clampZoom(this._map.getZoom());u!==this._tileZoom&&(this._tileZoom=u,this._updateLevels()),this._update()}return this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof nt?u:new nt(u,u)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var g=this.getPane().children,x=-u(-1/0,1/0),T=0,N=g.length,B;T<N;T++)B=g[T].style.zIndex,g[T]!==this._container&&B&&(x=u(x,+B));isFinite(x)&&(this.options.zIndex=x+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!kt.ielt9){Be(this._container,this.options.opacity);var u=+new Date,g=!1,x=!1;for(var T in this._tiles){var N=this._tiles[T];if(!(!N.current||!N.loaded)){var B=Math.min(1,(u-N.loaded)/200);Be(N.el,B),B<1?g=!0:(N.active?x=!0:this._onOpaqueTile(N),N.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),g&&(q(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,g=this.options.maxZoom;if(u!==void 0){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===u?(this._levels[x].el.style.zIndex=g-Math.abs(u-x),this._onUpdateLevel(x)):(Te(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var T=this._levels[u],N=this._map;return T||(T=this._levels[u]={},T.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=g,T.origin=N.project(N.unproject(N.getPixelOrigin()),u).round(),T.zoom=u,this._setZoomTransform(T,N.getCenter(),N.getZoom()),m(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var u,g,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom){this._removeAllTiles();return}for(u in this._tiles)g=this._tiles[u],g.retain=g.current;for(u in this._tiles)if(g=this._tiles[u],g.current&&!g.active){var T=g.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var g in this._tiles)this._tiles[g].coords.z===u&&this._removeTile(g)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Te(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,g,x,T){var N=Math.floor(u/2),B=Math.floor(g/2),G=x-1,tt=new nt(+N,+B);tt.z=+G;var st=this._tileCoordsToKey(tt),pt=this._tiles[st];return pt&&pt.active?(pt.retain=!0,!0):(pt&&pt.loaded&&(pt.retain=!0),G>T?this._retainParent(N,B,G,T):!1)},_retainChildren:function(u,g,x,T){for(var N=2*u;N<2*u+2;N++)for(var B=2*g;B<2*g+2;B++){var G=new nt(N,B);G.z=x+1;var tt=this._tileCoordsToKey(G),st=this._tiles[tt];if(st&&st.active){st.retain=!0;continue}else st&&st.loaded&&(st.retain=!0);x+1<T&&this._retainChildren(N,B,x+1,T)}},_resetView:function(u){var g=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var g=this.options;return g.minNativeZoom!==void 0&&u<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<u?g.maxNativeZoom:u},_setView:function(u,g,x,T){var N=Math.round(g);this.options.maxZoom!==void 0&&N>this.options.maxZoom||this.options.minZoom!==void 0&&N<this.options.minZoom?N=void 0:N=this._clampZoom(N);var B=this.options.updateWhenZooming&&N!==this._tileZoom;(!T||B)&&(this._tileZoom=N,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),N!==void 0&&this._update(u),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(u,g)},_setZoomTransforms:function(u,g){for(var x in this._levels)this._setZoomTransform(this._levels[x],u,g)},_setZoomTransform:function(u,g,x){var T=this._map.getZoomScale(x,u.zoom),N=u.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(g,x)).round();kt.any3d?Lr(u.el,N,T):De(u.el,N)},_resetGrid:function(){var u=this._map,g=u.options.crs,x=this._tileSize=this.getTileSize(),T=this._tileZoom,N=this._map.getPixelWorldBounds(this._tileZoom);N&&(this._globalTileRange=this._pxBoundsToTileRange(N)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,g.wrapLng[0]],T).x/x.x),Math.ceil(u.project([0,g.wrapLng[1]],T).x/x.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([g.wrapLat[0],0],T).y/x.x),Math.ceil(u.project([g.wrapLat[1],0],T).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var g=this._map,x=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),T=g.getZoomScale(x,this._tileZoom),N=g.project(u,this._tileZoom).floor(),B=g.getSize().divideBy(T*2);return new U(N.subtract(B),N.add(B))},_update:function(u){var g=this._map;if(g){var x=this._clampZoom(g.getZoom());if(u===void 0&&(u=g.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(u),N=this._pxBoundsToTileRange(T),B=N.getCenter(),G=[],tt=this.options.keepBuffer,st=new U(N.getBottomLeft().subtract([tt,-tt]),N.getTopRight().add([tt,-tt]));if(!(isFinite(N.min.x)&&isFinite(N.min.y)&&isFinite(N.max.x)&&isFinite(N.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var pt in this._tiles){var St=this._tiles[pt].coords;(St.z!==this._tileZoom||!st.contains(new nt(St.x,St.y)))&&(this._tiles[pt].current=!1)}if(Math.abs(x-this._tileZoom)>1){this._setView(u,x);return}for(var Dt=N.min.y;Dt<=N.max.y;Dt++)for(var Zt=N.min.x;Zt<=N.max.x;Zt++){var kn=new nt(Zt,Dt);if(kn.z=this._tileZoom,!!this._isValidTile(kn)){var rn=this._tiles[this._tileCoordsToKey(kn)];rn?rn.current=!0:G.push(kn)}}if(G.sort(function(ue,de){return ue.distanceTo(B)-de.distanceTo(B)}),G.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xi=document.createDocumentFragment();for(Zt=0;Zt<G.length;Zt++)this._addTile(G[Zt],xi);this._level.el.appendChild(xi)}}}},_isValidTile:function(u){var g=this._map.options.crs;if(!g.infinite){var x=this._globalTileRange;if(!g.wrapLng&&(u.x<x.min.x||u.x>x.max.x)||!g.wrapLat&&(u.y<x.min.y||u.y>x.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(u);return gt(this.options.bounds).overlaps(T)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var g=this._map,x=this.getTileSize(),T=u.scaleBy(x),N=T.add(x),B=g.unproject(T,u.z),G=g.unproject(N,u.z);return[B,G]},_tileCoordsToBounds:function(u){var g=this._tileCoordsToNwSe(u),x=new ut(g[0],g[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var g=u.split(":"),x=new nt(+g[0],+g[1]);return x.z=+g[2],x},_removeTile:function(u){var g=this._tiles[u];g&&(Te(g.el),delete this._tiles[u],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){qt(u,"leaflet-tile");var g=this.getTileSize();u.style.width=g.x+"px",u.style.height=g.y+"px",u.onselectstart=m,u.onmousemove=m,kt.ielt9&&this.options.opacity<1&&Be(u,this.options.opacity)},_addTile:function(u,g){var x=this._getTilePos(u),T=this._tileCoordsToKey(u),N=this.createTile(this._wrapCoords(u),o(this._tileReady,this,u));this._initTile(N),this.createTile.length<2&&Y(o(this._tileReady,this,u,null,N)),De(N,x),this._tiles[T]={el:N,coords:u,current:!0},g.appendChild(N),this.fire("tileloadstart",{tile:N,coords:u})},_tileReady:function(u,g,x){g&&this.fire("tileerror",{error:g,tile:x,coords:u});var T=this._tileCoordsToKey(u);x=this._tiles[T],x&&(x.loaded=+new Date,this._map._fadeAnimated?(Be(x.el,0),q(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),g||(qt(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),kt.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var g=new nt(this._wrapX?p(u.x,this._wrapX):u.x,this._wrapY?p(u.y,this._wrapY):u.y);return g.z=u.z,g},_pxBoundsToTileRange:function(u){var g=this.getTileSize();return new U(u.min.unscaleBy(g).floor(),u.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});function rp(u){return new Xs(u)}var ua=Xs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(u,g){this._url=u,g=w(this,g),g.detectRetina&&kt.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(u,g){return this._url===u&&g===void 0&&(g=!0),this._url=u,g||this.redraw(),this},createTile:function(u,g){var x=document.createElement("img");return zt(x,"load",o(this._tileOnLoad,this,g,x)),zt(x,"error",o(this._tileOnError,this,g,x)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(u),x},getTileUrl:function(u){var g={r:kt.retina?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-u.y;this.options.tms&&(g.y=x),g["-y"]=x}return k(this._url,r(g,this.options))},_tileOnLoad:function(u,g){kt.ielt9?setTimeout(o(u,this,null,g),0):u(null,g)},_tileOnError:function(u,g,x){var T=this.options.errorTileUrl;T&&g.getAttribute("src")!==T&&(g.src=T),u(x,g)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom,g=this.options.maxZoom,x=this.options.zoomReverse,T=this.options.zoomOffset;return x&&(u=g-u),u+T},_getSubdomain:function(u){var g=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var u,g;for(u in this._tiles)if(this._tiles[u].coords.z!==this._tileZoom&&(g=this._tiles[u].el,g.onload=m,g.onerror=m,!g.complete)){g.src=I;var x=this._tiles[u].coords;Te(g),delete this._tiles[u],this.fire("tileabort",{tile:g,coords:x})}},_removeTile:function(u){var g=this._tiles[u];if(g)return g.el.setAttribute("src",I),Xs.prototype._removeTile.call(this,u)},_tileReady:function(u,g,x){if(!(!this._map||x&&x.getAttribute("src")===I))return Xs.prototype._tileReady.call(this,u,g,x)}});function ki(u,g){return new ua(u,g)}var yl=ua.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,g){this._url=u;var x=r({},this.defaultWmsParams);for(var T in g)T in this.options||(x[T]=g[T]);g=w(this,g);var N=g.detectRetina&&kt.retina?2:1,B=this.getTileSize();x.width=B.x*N,x.height=B.y*N,this.wmsParams=x},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,ua.prototype.onAdd.call(this,u)},getTileUrl:function(u){var g=this._tileCoordsToNwSe(u),x=this._crs,T=X(x.project(g[0]),x.project(g[1])),N=T.min,B=T.max,G=(this._wmsVersion>=1.3&&this._crs===pd?[N.y,N.x,B.y,B.x]:[N.x,N.y,B.x,B.y]).join(","),tt=ua.prototype.getTileUrl.call(this,u);return tt+C(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+G},setParams:function(u,g){return r(this.wmsParams,u),g||this.redraw(),this}});function Di(u,g){return new yl(u,g)}ua.WMS=yl,ki.wms=Di;var ui=Zi.extend({options:{padding:.1},initialize:function(u){w(this,u),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,g){var x=this._map.getZoomScale(g,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),N=this._map.project(this._center,g),B=T.multiplyBy(-x).add(N).subtract(this._map._getNewPixelOrigin(u,g));kt.any3d?Lr(this._container,B,x):De(this._container,B)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var u in this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,g=this._map.getSize(),x=this._map.containerPointToLayerPoint(g.multiplyBy(-u)).round();this._bounds=new U(x,x.add(g.multiplyBy(1+u*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Pc=ui.extend({options:{tolerance:0},getEvents:function(){var u=ui.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ui.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");zt(u,"mousemove",this._onMouseMove,this),zt(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(u,"mouseout",this._handleMouseOut,this),u._leaflet_disable_events=!0,this._ctx=u.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Te(this._container),_e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var u;this._redrawBounds=null;for(var g in this._layers)u=this._layers[g],u._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ui.prototype._update.call(this);var u=this._bounds,g=this._container,x=u.getSize(),T=kt.retina?2:1;De(g,u.min),g.width=T*x.x,g.height=T*x.y,g.style.width=x.x+"px",g.style.height=x.y+"px",kt.retina&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){ui.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[d(u)]=u;var g=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var g=u._order,x=g.next,T=g.prev;x?x.prev=T:this._drawLast=T,T?T.next=x:this._drawFirst=x,delete u._order,delete this._layers[d(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if(typeof u.options.dashArray=="string"){var g=u.options.dashArray.split(/[, ]+/),x=[],T,N;for(N=0;N<g.length;N++){if(T=Number(g[N]),isNaN(T))return;x.push(T)}u.options._dashArray=x}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var g=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new U,this._redrawBounds.extend(u._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(u._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var g=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,g=this._redrawBounds;if(this._ctx.save(),g){var x=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)u=T.layer,(!g||u._pxBounds&&u._pxBounds.intersects(g))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,g){if(this._drawing){var x,T,N,B,G=u._parts,tt=G.length,st=this._ctx;if(tt){for(st.beginPath(),x=0;x<tt;x++){for(T=0,N=G[x].length;T<N;T++)B=G[x][T],st[T?"lineTo":"moveTo"](B.x,B.y);g&&st.closePath()}this._fillStroke(st,u)}}},_updateCircle:function(u){if(!(!this._drawing||u._empty())){var g=u._point,x=this._ctx,T=Math.max(Math.round(u._radius),1),N=(Math.max(Math.round(u._radiusY),1)||T)/T;N!==1&&(x.save(),x.scale(1,N)),x.beginPath(),x.arc(g.x,g.y/N,T,0,Math.PI*2,!1),N!==1&&x.restore(),this._fillStroke(x,u)}},_fillStroke:function(u,g){var x=g.options;x.fill&&(u.globalAlpha=x.fillOpacity,u.fillStyle=x.fillColor||x.color,u.fill(x.fillRule||"evenodd")),x.stroke&&x.weight!==0&&(u.setLineDash&&u.setLineDash(g.options&&g.options._dashArray||[]),u.globalAlpha=x.opacity,u.lineWidth=x.weight,u.strokeStyle=x.color,u.lineCap=x.lineCap,u.lineJoin=x.lineJoin,u.stroke())},_onClick:function(u){for(var g=this._map.mouseEventToLayerPoint(u),x,T,N=this._drawFirst;N;N=N.next)x=N.layer,x.options.interactive&&x._containsPoint(g)&&(!(u.type==="click"||u.type==="preclick")||!this._map._draggableMoved(x))&&(T=x);this._fireEvent(T?[T]:!1,u)},_onMouseMove:function(u){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,g)}},_handleMouseOut:function(u){var g=this._hoveredLayer;g&&($e(this._container,"leaflet-interactive"),this._fireEvent([g],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,g){if(!this._mouseHoverThrottled){for(var x,T,N=this._drawFirst;N;N=N.next)x=N.layer,x.options.interactive&&x._containsPoint(g)&&(T=x);T!==this._hoveredLayer&&(this._handleMouseOut(u),T&&(qt(this._container,"leaflet-interactive"),this._fireEvent([T],u,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,u),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,g,x){this._map._fireDOMEvent(g,x||g.type,u)},_bringToFront:function(u){var g=u._order;if(g){var x=g.next,T=g.prev;if(x)x.prev=T;else return;T?T.next=x:x&&(this._drawFirst=x),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(u)}},_bringToBack:function(u){var g=u._order;if(g){var x=g.next,T=g.prev;if(T)T.next=x;else return;x?x.prev=T:T&&(this._drawLast=T),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(u)}}});function bl(u){return kt.canvas?new Pc(u):null}var da=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{}return function(u){return document.createElement("<"+u+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),md={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ui.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var g=u._container=da("shape");qt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",u._path=da("path"),g.appendChild(u._path),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){var g=u._container;this._container.appendChild(g),u.options.interactive&&u.addInteractiveTarget(g)},_removePath:function(u){var g=u._container;Te(g),u.removeInteractiveTarget(g),delete this._layers[d(u)]},_updateStyle:function(u){var g=u._stroke,x=u._fill,T=u.options,N=u._container;N.stroked=!!T.stroke,N.filled=!!T.fill,T.stroke?(g||(g=u._stroke=da("stroke")),N.appendChild(g),g.weight=T.weight+"px",g.color=T.color,g.opacity=T.opacity,T.dashArray?g.dashStyle=M(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=T.lineCap.replace("butt","flat"),g.joinstyle=T.lineJoin):g&&(N.removeChild(g),u._stroke=null),T.fill?(x||(x=u._fill=da("fill")),N.appendChild(x),x.color=T.fillColor||T.color,x.opacity=T.fillOpacity):x&&(N.removeChild(x),u._fill=null)},_updateCircle:function(u){var g=u._point.round(),x=Math.round(u._radius),T=Math.round(u._radiusY||x);this._setPath(u,u._empty()?"M0 0":"AL "+g.x+","+g.y+" "+x+","+T+" 0,"+65535*360)},_setPath:function(u,g){u._path.v=g},_bringToFront:function(u){Nn(u._container)},_bringToBack:function(u){Wa(u._container)}},mr=kt.vml?da:yn,Qs=ui.extend({_initContainer:function(){this._container=mr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=mr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Te(this._container),_e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ui.prototype._update.call(this);var u=this._bounds,g=u.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,x.setAttribute("width",g.x),x.setAttribute("height",g.y)),De(x,u.min),x.setAttribute("viewBox",[u.min.x,u.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(u){var g=u._path=mr("path");u.options.className&&qt(g,u.options.className),u.options.interactive&&qt(g,"leaflet-interactive"),this._updateStyle(u),this._layers[d(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Te(u._path),u.removeInteractiveTarget(u._path),delete this._layers[d(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var g=u._path,x=u.options;g&&(x.stroke?(g.setAttribute("stroke",x.color),g.setAttribute("stroke-opacity",x.opacity),g.setAttribute("stroke-width",x.weight),g.setAttribute("stroke-linecap",x.lineCap),g.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?g.setAttribute("stroke-dasharray",x.dashArray):g.removeAttribute("stroke-dasharray"),x.dashOffset?g.setAttribute("stroke-dashoffset",x.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),x.fill?(g.setAttribute("fill",x.fillColor||x.color),g.setAttribute("fill-opacity",x.fillOpacity),g.setAttribute("fill-rule",x.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(u,g){this._setPath(u,bn(u._parts,g))},_updateCircle:function(u){var g=u._point,x=Math.max(Math.round(u._radius),1),T=Math.max(Math.round(u._radiusY),1)||x,N="a"+x+","+T+" 0 1,0 ",B=u._empty()?"M0 0":"M"+(g.x-x)+","+g.y+N+x*2+",0 "+N+-x*2+",0 ";this._setPath(u,B)},_setPath:function(u,g){u._path.setAttribute("d",g)},_bringToFront:function(u){Nn(u._path)},_bringToBack:function(u){Wa(u._path)}});kt.vml&&Qs.include(md);function xl(u){return kt.svg||kt.vml?new Qs(u):null}re.include({getRenderer:function(u){var g=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(u){if(u==="overlayPane"||u===void 0)return!1;var g=this._paneRenderers[u];return g===void 0&&(g=this._createRenderer({pane:u}),this._paneRenderers[u]=g),g},_createRenderer:function(u){return this.options.preferCanvas&&bl(u)||xl(u)}});var Xa=Ws.extend({initialize:function(u,g){Ws.prototype.initialize.call(this,this._boundsToLatLngs(u),g)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return u=gt(u),[u.getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});function xy(u,g){return new Xa(u,g)}Qs.create=mr,Qs.pointsToPath=bn,zr.geometryToLayer=Hn,zr.coordsToLatLng=Sc,zr.coordsToLatLngs=fl,zr.latLngToCoords=Ec,zr.latLngsToCoords=pl,zr.getFeature=oa,zr.asFeature=Cc,re.mergeOptions({boxZoom:!0});var di=dr.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||u.which!==1&&u.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bs(),mc(),this._startPoint=this._map.mouseEventToContainerPoint(u),zt(document,{contextmenu:aa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var g=new U(this._point,this._startPoint),x=g.getSize();De(this._box,g.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(Te(this._box),$e(this._container,"leaflet-crosshair")),cr(),nl(),_e(document,{contextmenu:aa,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if(!(u.which!==1&&u.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(u){u.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",di),re.mergeOptions({doubleClickZoom:!0});var Mc=dr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var g=this._map,x=g.getZoom(),T=g.options.zoomDelta,N=u.originalEvent.shiftKey?x-T:x+T;g.options.doubleClickZoom==="center"?g.setZoom(N):g.setZoomAround(u.containerPoint,N)}});re.addInitHook("addHandler","doubleClickZoom",Mc),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gr=dr.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new sa(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$e(this._map._container,"leaflet-grab"),$e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=gt(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var g=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(g),this._prunePositions(g)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,g){return u-(u-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var u=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;u.x<g.min.x&&(u.x=this._viscousLimit(u.x,g.min.x)),u.y<g.min.y&&(u.y=this._viscousLimit(u.y,g.min.y)),u.x>g.max.x&&(u.x=this._viscousLimit(u.x,g.max.x)),u.y>g.max.y&&(u.y=this._viscousLimit(u.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,g=Math.round(u/2),x=this._initialWorldOffset,T=this._draggable._newPos.x,N=(T-g+x)%u+g-x,B=(T+g+x)%u-g-x,G=Math.abs(N+x)<Math.abs(B+x)?N:B;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=G},_onDragEnd:function(u){var g=this._map,x=g.options,T=!x.inertia||u.noInertia||this._times.length<2;if(g.fire("dragend",u),T)g.fire("moveend");else{this._prunePositions(+new Date);var N=this._lastPos.subtract(this._positions[0]),B=(this._lastTime-this._times[0])/1e3,G=x.easeLinearity,tt=N.multiplyBy(G/B),st=tt.distanceTo([0,0]),pt=Math.min(x.inertiaMaxSpeed,st),St=tt.multiplyBy(pt/st),Dt=pt/(x.inertiaDeceleration*G),Zt=St.multiplyBy(-Dt/2).round();!Zt.x&&!Zt.y?g.fire("moveend"):(Zt=g._limitOffset(Zt,g.options.maxBounds),Y(function(){g.panBy(Zt,{duration:Dt,easeLinearity:G,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",gr),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gd=dr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),zt(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),_e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,g=document.documentElement,x=u.scrollTop||g.scrollTop,T=u.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(T,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var g=this._panKeys={},x=this.keyCodes,T,N;for(T=0,N=x.left.length;T<N;T++)g[x.left[T]]=[-1*u,0];for(T=0,N=x.right.length;T<N;T++)g[x.right[T]]=[u,0];for(T=0,N=x.down.length;T<N;T++)g[x.down[T]]=[0,u];for(T=0,N=x.up.length;T<N;T++)g[x.up[T]]=[0,-1*u]},_setZoomDelta:function(u){var g=this._zoomKeys={},x=this.keyCodes,T,N;for(T=0,N=x.zoomIn.length;T<N;T++)g[x.zoomIn[T]]=u;for(T=0,N=x.zoomOut.length;T<N;T++)g[x.zoomOut[T]]=-u},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var g=u.keyCode,x=this._map,T;if(g in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(T=this._panKeys[g],u.shiftKey&&(T=Z(T).multiplyBy(3)),x.options.maxBounds&&(T=x._limitOffset(Z(T),x.options.maxBounds)),x.options.worldCopyJump){var N=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(T)));x.panTo(N)}else x.panBy(T)}else if(g in this._zoomKeys)x.setZoom(x.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&x._popup&&x._popup.options.closeOnEscapeKey)x.closePopup();else return;aa(u)}}});re.addInitHook("addHandler","keyboard",gd),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _l=dr.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var g=ti(u),x=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var T=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),T),aa(u)},_performZoom:function(){var u=this._map,g=u.getZoom(),x=this._map.options.zoomSnap||0;u._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),N=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,B=x?Math.ceil(N/x)*x:N,G=u._limitZoom(g+(this._delta>0?B:-B))-g;this._delta=0,this._startTime=null,G&&(u.options.scrollWheelZoom==="center"?u.setZoom(g+G):u.setZoomAround(this._lastMousePos,g+G))}});re.addInitHook("addHandler","scrollWheelZoom",_l);var Qa=600;re.mergeOptions({tapHold:kt.touchNative&&kt.safari&&kt.mobile,tapTolerance:15});var Nc=dr.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(clearTimeout(this._holdTimeout),u.touches.length===1){var g=u.touches[0];this._startPos=this._newPos=new nt(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",nn),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),Qa),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function u(){_e(document,"touchend",nn),_e(document,"touchend touchcancel",u)},_cancel:function(){clearTimeout(this._holdTimeout),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)},_onMove:function(u){var g=u.touches[0];this._newPos=new nt(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(u,g){var x=new MouseEvent(u,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});x._simulated=!0,g.target.dispatchEvent(x)}});re.addInitHook("addHandler","tapHold",Nc),re.mergeOptions({touchZoom:kt.touch,bounceAtZoomLimits:!0});var vd=dr.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$e(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var g=this._map;if(!(!u.touches||u.touches.length!==2||g._animatingZoom||this._zooming)){var x=g.mouseEventToContainerPoint(u.touches[0]),T=g.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(x.add(T)._divideBy(2))),this._startDist=x.distanceTo(T),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),nn(u)}},_onTouchMove:function(u){if(!(!u.touches||u.touches.length!==2||!this._zooming)){var g=this._map,x=g.mouseEventToContainerPoint(u.touches[0]),T=g.mouseEventToContainerPoint(u.touches[1]),N=x.distanceTo(T)/this._startDist;if(this._zoom=g.getScaleZoom(N,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&N<1||this._zoom>g.getMaxZoom()&&N>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,N===1)return}else{var B=x._add(T)._divideBy(2)._subtract(this._centerPoint);if(N===1&&B.x===0&&B.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(B),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var G=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(G,this,!0),nn(u)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",vd),re.BoxZoom=di,re.DoubleClickZoom=Mc,re.Drag=gr,re.Keyboard=gd,re.ScrollWheelZoom=_l,re.TapHold=Nc,re.TouchZoom=vd,n.Bounds=U,n.Browser=kt,n.CRS=At,n.Canvas=Pc,n.Circle=Ac,n.CircleMarker=Vs,n.Class=ct,n.Control=bi,n.DivIcon=ip,n.DivOverlay=$n,n.DomEvent=yc,n.DomUtil=Us,n.Draggable=sa,n.Evented=Q,n.FeatureGroup=hr,n.GeoJSON=zr,n.GridLayer=Xs,n.Handler=dr,n.Icon=fr,n.ImageOverlay=Ks,n.LatLng=_t,n.LatLngBounds=ut,n.Layer=Zi,n.LayerGroup=qs,n.LineUtil=py,n.Map=re,n.Marker=hl,n.Mixin=uy,n.Path=pr,n.Point=nt,n.PolyUtil=hd,n.Polygon=Ws,n.Polyline=Br,n.Popup=gl,n.PosAnimation=Hs,n.Projection=Yf,n.Rectangle=Xa,n.Renderer=ui,n.SVG=Qs,n.SVGOverlay=Oc,n.TileLayer=ua,n.Tooltip=vl,n.Transformation=Bt,n.Util=yt,n.VideoOverlay=ca,n.bind=o,n.bounds=X,n.canvas=bl,n.circle=Jf,n.circleMarker=Qf,n.control=Ir,n.divIcon=by,n.extend=r,n.featureGroup=Zf,n.geoJSON=Tc,n.geoJson=ml,n.gridLayer=rp,n.icon=cl,n.imageOverlay=tp,n.latLng=wt,n.latLngBounds=gt,n.layerGroup=my,n.map=sd,n.marker=Xf,n.point=Z,n.polygon=vy,n.polyline=gy,n.popup=np,n.rectangle=xy,n.setOptions=w,n.stamp=d,n.svg=xl,n.svgOverlay=ep,n.tileLayer=ki,n.tooltip=yy,n.transformation=vt,n.version=i,n.videoOverlay=Zs;var yd=window.L;n.noConflict=function(){return window.L=yd,this},window.L=n}))})(vh,vh.exports)),vh.exports}var Xh=lF();function Gg(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function qg(e,t){return t==null?function(i,r){const a=P.useRef(void 0);return a.current||(a.current=e(i,r)),a}:function(i,r){const a=P.useRef(void 0);a.current||(a.current=e(i,r));const o=P.useRef(i),{instance:c}=a.current;return P.useEffect(function(){o.current!==i&&(t(c,i,o.current),o.current=i)},[c,i,t]),a}}function ak(e,t){P.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function sk(e){return function(n){const i=Hg(),r=e($g(n,i),i);return nk(i.map,n.attribution),xw(r.current,n.eventHandlers),ak(r.current,i),r}}function cF(e,t){const n=P.useRef(void 0);P.useEffect(function(){if(t.pathOptions!==n.current){const r=t.pathOptions??{};e.instance.setStyle(r),n.current=r}},[e,t])}function uF(e){return function(n){const i=Hg(),r=e($g(n,i),i);return xw(r.current,n.eventHandlers),ak(r.current,i),cF(r.current,n),r}}function dF(e,t){const n=qg(e,t),i=sk(n);return rk(i)}function hF(e,t){const n=qg(e),i=sF(n,t);return rF(i)}function fF(e,t){const n=qg(e,t),i=uF(n);return rk(i)}function pF(e,t){const n=qg(e,t),i=sk(n);return aF(i)}function mF(e,t,n){const{opacity:i,zIndex:r}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),r!=null&&r!==n.zIndex&&e.setZIndex(r)}function gF(){return Hg().map}const aT=fF(function({center:t,children:n,...i},r){const a=new Xh.CircleMarker(t,i);return Gg(a,ik(r,{overlayContainer:a}))},eF);function vF({bounds:e,boundsOptions:t,center:n,children:i,className:r,id:a,placeholder:o,style:c,whenReady:d,zoom:f,...p},m){const[y]=P.useState({className:r,id:a,style:c}),[b,A]=P.useState(null),w=P.useRef(void 0);P.useImperativeHandle(m,()=>b?.map??null,[b]);const C=P.useCallback(k=>{if(k!==null&&!w.current){const M=new Xh.Map(k,p);w.current=M,n!=null&&f!=null?M.setView(n,f):e!=null&&M.fitBounds(e,t),d!=null&&M.whenReady(d),A(iF(M))}},[]);P.useEffect(()=>()=>{b?.map.remove()},[b]);const O=b?Yr.createElement(bw,{value:b},i):o??null;return Yr.createElement("div",{...y,ref:C},O)}const yF=P.forwardRef(vF),bF=dF(function({position:t,...n},i){const r=new Xh.Marker(t,n);return Gg(r,ik(i,{overlayContainer:r}))},function(t,n,i){n.position!==i.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),xF=hF(function(t,n){const i=new Xh.Popup(t,n.overlayContainer);return Gg(i,n)},function(t,n,{position:i},r){P.useEffect(function(){const{instance:o}=t;function c(f){f.popup===o&&(o.update(),r(!0))}function d(f){f.popup===o&&r(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(i!=null&&o.setLatLng(i),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){n.map.off({popupopen:c,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(o)}},[t,n,r,i])}),_F=pF(function({url:t,...n},i){const r=new Xh.TileLayer(t,$g(n,i));return Gg(r,i)},function(t,n,i){mF(t,n,i);const{url:r}=n;r!=null&&r!==i.url&&t.setUrl(r)}),wF=async e=>{if(!e)return null;try{const n=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}`)).json();if(n&&n.length>0)return{lat:n[0].lat,lon:n[0].lon,display_name:n[0].display_name}}catch(t){console.error("Geocoding error:",t)}return null},AF=({lat:e,lon:t})=>{const n=gF();return P.useEffect(()=>{n.setView([e,t],n.getZoom())},[e,t,n]),null},SF=({position:e,onDragEnd:t,address:n})=>{const i=P.useRef(null),r=P.useMemo(()=>({dragend(){const a=i.current;if(a!=null){const{lat:o,lng:c}=a.getLatLng();t(o,c)}}}),[t]);return E.jsxs(E.Fragment,{children:[E.jsx(aT,{center:[e.lat,e.lon],radius:20,pathOptions:{color:"#ef4444",fillColor:"#ef4444",fillOpacity:.4,weight:2,interactive:!1}}),E.jsx(aT,{center:[e.lat,e.lon],radius:4,pathOptions:{color:"#ffffff",fillColor:"#ef4444",fillOpacity:1,weight:1.5},children:E.jsx(xF,{children:n})}),E.jsx(bF,{draggable:!0,eventHandlers:r,position:[e.lat,e.lon],ref:i,opacity:0,zIndexOffset:1e3})]})},ok=({address:e,latitude:t,longitude:n,onLocationChange:i,className:r})=>{const[a,o]=P.useState(null),[c,d]=P.useState(!1);P.useEffect(()=>{(async()=>{if(t&&n){o({lat:t,lon:n});return}if(!e||e.length<5)return;d(!0);const y=setTimeout(async()=>{const b=await wF(e);if(b){const A=parseFloat(b.lat),w=parseFloat(b.lon);o({lat:A,lon:w}),i&&i(A,w)}d(!1)},1e3);return()=>clearTimeout(y)})()},[e]),P.useEffect(()=>{t&&n&&o(m=>!m||Math.abs(m.lat-t)>1e-6||Math.abs(m.lon-n)>1e-6?{lat:t,lon:n}:m)},[t,n]);const f=(m,y)=>{o({lat:m,lon:y}),i&&i(m,y)};if(!a&&!c)return E.jsx("div",{className:`h-64 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 ${r}`,children:""});const p=a?[a.lat,a.lon]:[35.1709,136.8815];return E.jsxs("div",{className:`h-64 rounded-xl overflow-hidden border border-slate-200 shadow-sm relative z-0 ${r}`,children:[E.jsxs(yF,{center:p,zoom:15,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[E.jsx(_F,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a&&E.jsxs(E.Fragment,{children:[E.jsx(SF,{position:a,onDragEnd:f,address:e}),E.jsx(AF,{lat:a.lat,lon:a.lon})]})]}),c&&E.jsx("div",{className:"absolute inset-0 bg-white/50 flex items-center justify-center z-[1000]",children:E.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-blue-500 rounded-full border-t-transparent"})}),a&&E.jsx("div",{className:"absolute bottom-2 right-2 bg-white/90 px-2 py-1 rounded text-xs text-slate-500 z-[400] pointer-events-none",children:""})]})};function Vg(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function EF(e,t){let n;const i=()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=Vg(r),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(r,a)=>i().then(o=>a(o.transaction(t,r).objectStore(t)))}let sb;function _w(){return sb||(sb=EF("keyval-store","keyval")),sb}function CF(e,t=_w()){return t("readonly",n=>Vg(n.get(e)))}function TF(e,t,n=_w()){return n("readwrite",i=>(i.put(t,e),Vg(i.transaction)))}function OF(e,t=_w()){return t("readwrite",n=>(n.delete(e),Vg(n.transaction)))}const PF=async e=>{const t=crypto.randomUUID(),n={id:t,name:e.name,type:e.type,size:e.size,data:e,timestamp:Date.now()};return await TF(t,n),t},lk=async e=>await CF(e),MF=async e=>{await OF(e)},NF=({documents:e,onAdd:t,onDelete:n,className:i})=>{const[r,a]=P.useState(!1),[o,c]=P.useState(null),d=async y=>{if(!y.target.files||y.target.files.length===0)return;const b=y.target.files[0];a(!0);try{const w={id:await PF(b),name:b.name,type:b.type,size:b.size};t(w)}catch(A){console.error("Failed to save file:",A),alert("")}finally{a(!1),y.target.value=""}},f=async y=>{c(y.id);try{const b=await lk(y.id);if(b&&b.data){const A=URL.createObjectURL(b.data);window.open(A,"_blank")}else alert("")}catch(b){console.error("Failed to load file:",b),alert("")}finally{c(null)}},p=async y=>{if(confirm(""))try{await MF(y),n(y)}catch(b){console.error("Failed to delete file:",b),alert("")}},m=y=>{if(y===0)return"0 B";const b=1024,A=["B","KB","MB","GB"],w=Math.floor(Math.log(y)/Math.log(b));return parseFloat((y/Math.pow(b,w)).toFixed(2))+" "+A[w]};return E.jsxs("div",{className:`space-y-4 ${i}`,children:[E.jsx("h3",{className:"text-sm font-bold text-slate-700",children:" ()"}),E.jsxs("div",{className:"space-y-2",children:[e.map(y=>E.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[E.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[E.jsx("div",{className:"bg-blue-50 p-2 rounded-lg",children:E.jsx(WN,{className:"h-5 w-5 text-blue-600"})}),E.jsxs("div",{className:"min-w-0",children:[E.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",title:y.name,children:y.name}),E.jsx("p",{className:"text-xs text-slate-500",children:m(y.size)})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(hn,{variant:"ghost",size:"sm",onClick:()=>f(y),disabled:o===y.id,className:"text-slate-600 hover:text-blue-600",children:o===y.id?E.jsx(JC,{className:"h-4 w-4 animate-spin"}):E.jsx(s3,{className:"h-4 w-4"})}),E.jsx(hn,{variant:"ghost",size:"sm",onClick:()=>p(y.id),className:"text-slate-400 hover:text-rose-600",children:E.jsx(vw,{className:"h-4 w-4"})})]})]},y.id)),e.length===0&&E.jsx("div",{className:"p-8 text-center text-slate-400 bg-slate-50 rounded-lg border border-dashed border-slate-300",children:""})]}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"file",onChange:d,className:"hidden",id:"file-upload",accept:".pdf,.jpg,.jpeg,.png"}),E.jsx("label",{htmlFor:"file-upload",className:`flex items-center justify-center gap-2 w-full p-3 rounded-lg border-2 border-dashed border-slate-300 text-slate-600 font-medium hover:border-blue-400 hover:bg-blue-50 hover:text-blue-600 cursor-pointer transition-all ${r?"opacity-50 pointer-events-none":""}`,children:r?E.jsxs(E.Fragment,{children:[E.jsx(JC,{className:"h-5 w-5 animate-spin"}),"..."]}):E.jsxs(E.Fragment,{children:[E.jsx(gw,{className:"h-5 w-5"}),""]})})]}),E.jsx("p",{className:"text-xs text-slate-500 text-center",children:" (PDF, JPG, PNG)"})]})},kF=()=>{const{data:e,updateProperty:t,nextStep:n,prevStep:i}=Bo(),[r,a]=P.useState("land"),[o,c]=P.useState({}),d=()=>{const y=tF(e);if(Object.keys(y).length>0){c(y);return}c({}),n()},f=y=>{t({landAreaM2:y})},p=y=>{const b=[...e.property.documents||[],y];t({documents:b})},m=y=>{const b=(e.property.documents||[]).filter(A=>A.id!==y);t({documents:b})};return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in pb-20",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:" (Property Details)"}),E.jsxs("div",{className:"flex space-x-2 bg-slate-100 p-1 rounded-lg",children:[E.jsx("button",{onClick:()=>a("land"),className:`px-4 py-2 text-sm font-bold rounded-md transition-all ${r==="land"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""}),E.jsx("button",{onClick:()=>a("building"),className:`px-4 py-2 text-sm font-bold rounded-md transition-all ${r==="building"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:""})]})]}),E.jsx("div",{className:"grid gap-6",children:r==="land"?E.jsxs(on,{className:"space-y-6",children:[E.jsx("h3",{className:"text-lg font-bold text-slate-700 border-b pb-2 mb-4",children:""}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[E.jsx(Ut,{label:"",placeholder:": ...",value:e.property.address,onChange:y=>t({address:y.target.value}),className:"md:col-span-2"}),E.jsxs("div",{className:"md:col-span-2",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-600 block mb-2",children:""}),E.jsx(ok,{address:e.property.address,latitude:e.property.latitude,longitude:e.property.longitude,onLocationChange:(y,b)=>t({latitude:y,longitude:b})})]}),E.jsxs("div",{className:"md:col-span-2 grid md:grid-cols-2 gap-6 p-4 bg-slate-50 rounded-xl border border-slate-100",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-600",children:""}),E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[E.jsx("input",{type:"radio",checked:e.property.landAreaMode==="public",onChange:()=>t({landAreaMode:"public"}),className:"text-blue-600 focus:ring-blue-500"}),E.jsx("span",{className:"text-sm text-slate-700",children:""})]}),E.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[E.jsx("input",{type:"radio",checked:e.property.landAreaMode==="actual",onChange:()=>t({landAreaMode:"actual"}),className:"text-blue-600 focus:ring-blue-500"}),E.jsx("span",{className:"text-sm text-slate-700",children:""})]})]}),E.jsx(Ut,{label:" ()",type:"number",unit:"",help:"",value:e.property.landAreaM2||"",onChange:y=>f(parseFloat(y.target.value))}),E.jsxs("div",{className:"text-right text-sm text-slate-500",children:[" ",(e.property.landAreaM2/J3).toFixed(2)," "]})]}),E.jsx("div",{className:"space-y-4",children:E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(Ut,{label:"",type:"number",unit:"m",value:e.property.frontage||"",onChange:y=>t({frontage:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"m",value:e.property.depth||"",onChange:y=>t({depth:parseFloat(y.target.value)})})]})})]}),E.jsxs("div",{className:"md:col-span-2 p-4 bg-slate-50 rounded-xl border border-slate-100",children:[E.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-4",children:""}),E.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-600",children:""}),E.jsxs("select",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",value:e.property.roadType1,onChange:y=>t({roadType1:y.target.value}),children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})]}),E.jsx(Ut,{label:"",placeholder:": ",value:e.property.roadDirection1,onChange:y=>t({roadDirection1:y.target.value})}),E.jsx(Ut,{label:"",type:"number",unit:"m",value:e.property.roadWidth1||"",onChange:y=>t({roadWidth1:parseFloat(y.target.value)})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-600",children:""}),E.jsxs("select",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",value:e.property.urbanizationArea,onChange:y=>t({urbanizationArea:y.target.value}),children:[E.jsx("option",{value:"urbanization",children:""}),E.jsx("option",{value:"adjustment",children:""})]})]}),E.jsx(Ut,{label:"",placeholder:": ",value:e.property.zoning,onChange:y=>t({zoning:y.target.value})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(Ut,{label:"",type:"number",unit:"%",help:"",value:e.property.coverageRate||"",onChange:y=>t({coverageRate:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"%",help:"",value:e.property.floorAreaRate||"",onChange:y=>t({floorAreaRate:parseFloat(y.target.value)})})]})]}),E.jsxs("div",{className:"border-t border-slate-100 pt-6 mt-6 space-y-6",children:[E.jsxs("div",{className:"bg-blue-50/50 p-4 rounded-xl border border-blue-100",children:[E.jsx("label",{className:"text-sm font-bold text-slate-700 block mb-2",children:" (Google Drive / OneDrive)"}),E.jsx("p",{className:"text-xs text-slate-500 mb-3",children:""}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"url",placeholder:": https://drive.google.com/drive/folders/...",className:"flex-1 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",value:e.property.cloudFolderUrl||"",onChange:y=>t({cloudFolderUrl:y.target.value})}),e.property.cloudFolderUrl&&E.jsx("a",{href:e.property.cloudFolderUrl,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-600 text-white text-sm font-bold rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:""})]})]}),E.jsx(NF,{documents:e.property.documents||[],onAdd:p,onDelete:m})]})]}):E.jsxs(on,{className:"space-y-6",children:[E.jsx("h3",{className:"text-lg font-bold text-slate-700 border-b pb-2 mb-4",children:""}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-600",children:""}),E.jsxs("select",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",value:e.property.structure,onChange:y=>t({structure:y.target.value}),children:[E.jsx("option",{value:"RC",children:"RC ()"}),E.jsx("option",{value:"S",children:"S ()"}),E.jsx("option",{value:"Wood",children:""}),E.jsx("option",{value:"SteelLight",children:""})]})]}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.property.totalUnits||"",onChange:y=>t({totalUnits:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.property.buildingAreaM2||"",onChange:y=>t({buildingAreaM2:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.property.totalFloorAreaM2||"",onChange:y=>t({totalFloorAreaM2:parseFloat(y.target.value)})})]})]})}),E.jsxs("div",{className:"flex justify-between pt-6 border-t border-slate-200",children:[E.jsxs(hn,{variant:"ghost",onClick:i,className:"flex items-center gap-2",children:[E.jsx(Kh,{className:"h-4 w-4"})," "]}),Object.keys(o).length>0&&E.jsxs("div",{className:"px-4 py-3 bg-rose-50 border border-rose-200 rounded-lg text-sm text-rose-700",children:[" : ",Object.values(o).join(", ")]}),E.jsxs(hn,{onClick:d,className:"flex items-center gap-2",children:[" ",E.jsx(Zh,{className:"h-4 w-4"})]})]})]})},Ft=e=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",maximumFractionDigits:0}).format(e),Sh=e=>new Intl.NumberFormat("ja-JP").format(e),Ea=(e,t=2)=>new Intl.NumberFormat("ja-JP",{style:"percent",minimumFractionDigits:t,maximumFractionDigits:t}).format(e/100),DF=()=>{const{data:e,updateBudget:t,nextStep:n,prevStep:i}=Bo(),r=e.mode==="land_new",a=()=>{const c=e.budget.landPrice*1e4,d=e.budget.buildingWorksCost*1e4,f=c*.7,p=d*.5,m=f*eh.REGISTRATION_LICENSE.LAND_OWNERSHIP_TRANSFER,y=r?p*eh.REGISTRATION_LICENSE.BUILDING_PRESERVATION:p*eh.REGISTRATION_LICENSE.LAND_OWNERSHIP_TRANSFER,b=(f-(r?12e6:0))*eh.REAL_ESTATE_ACQUISITION.LAND,A=p*eh.REAL_ESTATE_ACQUISITION.BUILDING,w=r?c:c+d,C=w>4e6?(w*.03+6e4)*1.1:0;t({registrationTax:Math.round((m+y)/1e4),acquisitionTax:Math.max(0,Math.round((b+A)/1e4)),brokerageFee:Math.round(C/1e4),stampDuty:1})},o=e.budget.landPrice+e.budget.demolitionCost+e.budget.buildingWorksCost+e.budget.stampDuty+e.budget.registrationTax+e.budget.acquisitionTax+e.budget.fireInsurancePrepaid+e.budget.waterContribution+e.budget.brokerageFee+e.budget.otherInitialCost+e.budget.constructionInterest;return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in pb-20",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:" (Project Budget)"}),E.jsxs(hn,{variant:"secondary",size:"sm",onClick:a,className:"flex items-center gap-2",children:[E.jsx(h3,{className:"h-4 w-4"})," "]})]}),E.jsxs("div",{className:"grid gap-6",children:[E.jsx(on,{title:"",children:E.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[E.jsx(Ut,{label:r?"":" (+)",type:"number",unit:"",value:e.budget.landPrice||"",onChange:c=>t({landPrice:parseFloat(c.target.value)})}),r&&E.jsxs(E.Fragment,{children:[E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.demolitionCost||"",onChange:c=>t({demolitionCost:parseFloat(c.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.buildingWorksCost||"",onChange:c=>t({buildingWorksCost:parseFloat(c.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.constructionInterest||"",onChange:c=>t({constructionInterest:parseFloat(c.target.value)})})]})]})}),E.jsx(on,{title:" ()",children:E.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.brokerageFee||"",onChange:c=>t({brokerageFee:parseFloat(c.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.stampDuty||"",onChange:c=>t({stampDuty:parseFloat(c.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.registrationTax||"",onChange:c=>t({registrationTax:parseFloat(c.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.acquisitionTax||"",onChange:c=>t({acquisitionTax:parseFloat(c.target.value)})}),E.jsx(Ut,{label:" ()",type:"number",unit:"",value:e.budget.fireInsurancePrepaid||"",onChange:c=>t({fireInsurancePrepaid:parseFloat(c.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.waterContribution||"",onChange:c=>t({waterContribution:parseFloat(c.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.budget.otherInitialCost||"",onChange:c=>t({otherInitialCost:parseFloat(c.target.value)})})]})}),E.jsx("div",{className:"bg-blue-600 text-white p-6 rounded-xl shadow-lg flex items-center justify-between",children:E.jsxs("div",{children:[E.jsx("span",{className:"text-blue-100 text-sm uppercase tracking-wider font-bold",children:" (Total Budget)"}),E.jsxs("div",{className:"text-3xl font-bold mt-1",children:[Sh(o)," "]})]})})]}),E.jsxs("div",{className:"flex justify-between pt-6 border-t border-slate-200",children:[E.jsxs(hn,{variant:"ghost",onClick:i,className:"flex items-center gap-2",children:[E.jsx(Kh,{className:"h-4 w-4"})," "]}),E.jsxs(hn,{onClick:n,className:"flex items-center gap-2",children:[" ",E.jsx(Zh,{className:"h-4 w-4"})]})]})]})},jF=()=>{const{data:e,updateFunding:t,nextStep:n,prevStep:i}=Bo(),r=e.budget.landPrice+e.budget.demolitionCost+e.budget.buildingWorksCost+e.budget.stampDuty+e.budget.registrationTax+e.budget.acquisitionTax+e.budget.fireInsurancePrepaid+e.budget.waterContribution+e.budget.brokerageFee+e.budget.otherInitialCost+e.budget.constructionInterest,o=e.funding.loans.reduce((y,b)=>y+b.amount,0)+e.funding.ownCapital+e.funding.cooperationMoney+e.funding.securityDepositIn,c=o-r,d=Math.abs(c)<.1,f=()=>{const y={id:Math.random().toString(36).substr(2,9),name:` ${e.funding.loans.length+1}`,amount:0,rate:1.5,duration:35};t({loans:[...e.funding.loans,y]})},p=y=>{t({loans:e.funding.loans.filter(b=>b.id!==y)})},m=(y,b)=>{t({loans:e.funding.loans.map(A=>A.id===y?{...A,...b}:A)})};return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in pb-20",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:" (Financial Plan)"})}),E.jsxs("div",{className:"grid gap-6",children:[E.jsx(on,{title:"",children:E.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[E.jsx(Ut,{label:"",type:"number",unit:"",value:e.funding.ownCapital||"",onChange:y=>t({ownCapital:parseFloat(y.target.value)||0})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.funding.cooperationMoney||"",onChange:y=>t({cooperationMoney:parseFloat(y.target.value)||0})}),E.jsx(Ut,{label:" ()",type:"number",unit:"",value:e.funding.securityDepositIn||"",onChange:y=>t({securityDepositIn:parseFloat(y.target.value)||0})})]})}),E.jsx(on,{title:"",children:E.jsxs("div",{className:"space-y-4",children:[e.funding.loans.map(y=>E.jsxs("div",{className:"grid md:grid-cols-12 gap-4 items-end p-4 bg-slate-50 rounded-lg border border-slate-100",children:[E.jsx("div",{className:"md:col-span-3",children:E.jsx(Ut,{label:"",value:y.name,onChange:b=>m(y.id,{name:b.target.value})})}),E.jsx("div",{className:"md:col-span-3",children:E.jsx(Ut,{label:"",type:"number",unit:"",value:y.amount||"",onChange:b=>m(y.id,{amount:parseFloat(b.target.value)||0})})}),E.jsx("div",{className:"md:col-span-2",children:E.jsx(Ut,{label:"",type:"number",unit:"%",step:.01,value:y.rate||"",onChange:b=>m(y.id,{rate:parseFloat(b.target.value)||0})})}),E.jsx("div",{className:"md:col-span-2",children:E.jsx(Ut,{label:"",type:"number",unit:"",value:y.duration||"",onChange:b=>m(y.id,{duration:parseFloat(b.target.value)||0})})}),E.jsx("div",{className:"md:col-span-2 flex justify-end pb-1",children:e.funding.loans.length>1&&E.jsx(hn,{variant:"ghost",size:"sm",onClick:()=>p(y.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:E.jsx(vw,{className:"h-4 w-4"})})})]},y.id)),E.jsxs(hn,{variant:"secondary",onClick:f,className:"w-full flex items-center justify-center gap-2 border-dashed border-2 border-slate-300 bg-transparent hover:bg-slate-50 hover:border-slate-400",children:[E.jsx(gw,{className:"h-4 w-4"})," "]})]})}),E.jsxs("div",{className:`p-6 rounded-xl shadow-lg flex items-center justify-between transition-colors duration-300 ${d?"bg-emerald-600 text-white":"bg-slate-800 text-white"}`,children:[E.jsxs("div",{children:[E.jsx("div",{className:"text-sm opacity-90 mb-1",children:" (Funding)"}),E.jsxs("div",{className:"text-3xl font-bold",children:[Sh(o)," "]}),E.jsxs("div",{className:"text-xs opacity-75 mt-1",children:[": ",Sh(r)," ",!d&&` (: ${Sh(c)} )`]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("div",{className:"text-sm opacity-90",children:"Cover Ratio"}),E.jsxs("div",{className:`text-2xl font-bold ${r>0?o/r*100>=100?"text-white":"text-yellow-300":""}`,children:[r>0?(o/r*100).toFixed(1):0,"%"]})]})]})]}),E.jsxs("div",{className:"flex justify-between pt-6 border-t border-slate-200",children:[E.jsxs(hn,{variant:"ghost",onClick:i,className:"flex items-center gap-2",children:[E.jsx(Kh,{className:"h-4 w-4"})," "]}),E.jsxs(hn,{onClick:n,className:"flex items-center gap-2",children:[" ",E.jsx(Zh,{className:"h-4 w-4"})]})]})]})},LF=()=>{const{data:e,updateRentRoll:t,updateExpenses:n,nextStep:i,prevStep:r}=Bo(),a=()=>{const y={id:Math.random().toString(36).substr(2,9),name:`${String.fromCharCode(65+e.rentRoll.roomTypes.length)}`,count:1,areaM2:25,rent:65e3,commonFee:5e3};t({roomTypes:[...e.rentRoll.roomTypes,y]})},o=y=>{t({roomTypes:e.rentRoll.roomTypes.filter(b=>b.id!==y)})},c=(y,b)=>{t({roomTypes:e.rentRoll.roomTypes.map(A=>A.id===y?{...A,...b}:A)})},d=e.rentRoll.roomTypes.reduce((y,b)=>y+(b.rent+b.commonFee)*b.count,0),f=e.rentRoll.parkingCount*e.rentRoll.parkingFee,p=d+f,m=(p+e.rentRoll.otherRevenue+(e.rentRoll.solarPowerIncome||0))*12;return E.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in pb-20",children:[E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:" (Rent Roll & Expenses)"})}),E.jsxs("div",{className:"grid gap-6",children:[E.jsxs(on,{title:" (Rent Roll)",children:[E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm text-left",children:[E.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase font-bold text-xs",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:""}),E.jsx("th",{className:"px-4 py-3",children:""}),E.jsx("th",{className:"px-4 py-3",children:"()"}),E.jsx("th",{className:"px-4 py-3",children:"()"}),E.jsx("th",{className:"px-4 py-3",children:"()"}),E.jsx("th",{className:"px-4 py-3",children:"()"}),E.jsx("th",{className:"px-4 py-3 rounded-r-lg w-10"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:e.rentRoll.roomTypes.map(y=>E.jsxs("tr",{className:"group hover:bg-slate-50",children:[E.jsx("td",{className:"px-4 py-2",children:E.jsx("input",{className:"w-full bg-transparent border-b border-transparent focus:border-blue-500 focus:outline-none",value:y.name,onChange:b=>c(y.id,{name:b.target.value})})}),E.jsx("td",{className:"px-4 py-2",children:E.jsx("input",{type:"number",className:"w-20 bg-transparent border rounded px-2 py-1 text-right focus:border-blue-500 focus:outline-none",value:y.count,onChange:b=>c(y.id,{count:parseFloat(b.target.value)})})}),E.jsx("td",{className:"px-4 py-2",children:E.jsx("input",{type:"number",className:"w-20 bg-transparent border rounded px-2 py-1 text-right focus:border-blue-500 focus:outline-none",value:y.areaM2,onChange:b=>c(y.id,{areaM2:parseFloat(b.target.value)})})}),E.jsx("td",{className:"px-4 py-2",children:E.jsx("input",{type:"number",className:"w-28 bg-transparent border rounded px-2 py-1 text-right focus:border-blue-500 focus:outline-none",value:y.rent,onChange:b=>c(y.id,{rent:parseFloat(b.target.value)})})}),E.jsx("td",{className:"px-4 py-2",children:E.jsx("input",{type:"number",className:"w-24 bg-transparent border rounded px-2 py-1 text-right focus:border-blue-500 focus:outline-none",value:y.commonFee,onChange:b=>c(y.id,{commonFee:parseFloat(b.target.value)})})}),E.jsx("td",{className:"px-4 py-2 font-medium text-right text-slate-700",children:((y.rent+y.commonFee)*y.count).toLocaleString()}),E.jsx("td",{className:"px-4 py-2 text-right",children:E.jsx("button",{onClick:()=>o(y.id),className:"text-slate-300 hover:text-red-500 transition-colors",children:E.jsx(vw,{className:"h-4 w-4"})})})]},y.id))})]})}),E.jsxs(hn,{variant:"secondary",onClick:a,className:"mt-4 w-full flex items-center justify-center gap-2 border-dashed border-2 border-slate-300 bg-transparent hover:bg-slate-50 hover:border-slate-400",children:[E.jsx(gw,{className:"h-4 w-4"})," "]}),E.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mt-6 pt-6 border-t border-slate-100",children:[E.jsx(Ut,{label:"",type:"number",unit:"",value:e.rentRoll.parkingCount||"",onChange:y=>t({parkingCount:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.rentRoll.parkingFee||"",onChange:y=>t({parkingFee:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"()",type:"number",unit:"",value:e.rentRoll.otherRevenue||"",onChange:y=>t({otherRevenue:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"()",type:"number",unit:"",value:e.rentRoll.solarPowerIncome||"",onChange:y=>t({solarPowerIncome:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"%",value:e.rentRoll.occupancyRate||"",onChange:y=>t({occupancyRate:parseFloat(y.target.value)})})]})]}),E.jsx(on,{title:" (Revenue Settings)",children:E.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[E.jsx(Ut,{label:"",type:"number",unit:"",value:e.rentRoll.securityDepositMonth||"",onChange:y=>t({securityDepositMonth:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"",value:e.rentRoll.keyMoneyMonth||"",onChange:y=>t({keyMoneyMonth:parseFloat(y.target.value)})}),E.jsx(Ut,{label:" (2)",type:"number",unit:"",value:e.rentRoll.renewalFeeMonth||"",onChange:y=>t({renewalFeeMonth:parseFloat(y.target.value)})})]})}),E.jsxs(on,{title:" (Expenses)",children:[E.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[E.jsxs("div",{className:"space-y-1.5",children:[E.jsx("label",{className:"text-sm font-semibold text-slate-600",children:""}),E.jsxs("select",{className:"w-full rounded-lg border border-slate-300 bg-white px-3 py-2.5 text-slate-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20",value:e.expenses.managementFeeMode,onChange:y=>n({managementFeeMode:y.target.value}),children:[E.jsx("option",{value:"ratio",children:" (%)"}),E.jsx("option",{value:"fixed",children:" ()"})]})]}),e.expenses.managementFeeMode==="ratio"?E.jsx(Ut,{label:"",type:"number",unit:"%",value:e.expenses.managementFeeRatio||"",onChange:y=>n({managementFeeRatio:parseFloat(y.target.value)})}):E.jsx(Ut,{label:" ()",type:"number",unit:"",value:e.expenses.managementFeeFixed||"",onChange:y=>n({managementFeeFixed:parseFloat(y.target.value)})})]}),E.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[E.jsx(Ut,{label:"(BM)",type:"number",unit:"/",value:e.expenses.buildingMaintenance||"",onChange:y=>n({buildingMaintenance:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"",type:"number",unit:"/",value:e.expenses.maintenanceReserve||"",onChange:y=>n({maintenanceReserve:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"()",type:"number",unit:"/",value:e.expenses.otherExpenses||"",onChange:y=>n({otherExpenses:parseFloat(y.target.value)})})]}),E.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mt-6 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[E.jsx(Ut,{label:"()",type:"number",unit:"",value:e.expenses.fixedAssetTaxLand||"",onChange:y=>n({fixedAssetTaxLand:parseFloat(y.target.value)})}),E.jsx(Ut,{label:"()",type:"number",unit:"",value:e.expenses.fixedAssetTaxBuilding||"",onChange:y=>n({fixedAssetTaxBuilding:parseFloat(y.target.value)})})]})]}),E.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg",children:[E.jsx("span",{className:"text-indigo-100 text-sm uppercase tracking-wider font-bold",children:" (Gross Potential Income)"}),E.jsxs("div",{className:"text-3xl font-bold mt-1",children:[Sh(m/1e4)," "]}),E.jsxs("p",{className:"text-sm text-indigo-200 mt-2",children:[": ",(p+e.rentRoll.otherRevenue+(e.rentRoll.solarPowerIncome||0)).toLocaleString(),"   12"]})]})]}),E.jsxs("div",{className:"flex justify-between pt-6 border-t border-slate-200",children:[E.jsxs(hn,{variant:"ghost",onClick:r,className:"flex items-center gap-2",children:[E.jsx(Kh,{className:"h-4 w-4"})," "]}),E.jsxs(hn,{onClick:i,className:"flex items-center gap-2",children:[" ",E.jsx(Zh,{className:"h-4 w-4"})]})]})]})},RF=e=>{const t=[],n=(r,a,o,c="")=>{t.push([r,a,String(o),c])};t.push(["Category","Item","Value","Unit"]),n("Property","Mode",e.mode),n("Property","Land Area (M2)",e.property.landAreaM2,"m2"),n("Property","Bulding Structure",e.property.structure),n("Budget","Land Price",e.budget.landPrice,"Man-yen"),n("Budget","Construction Cost",e.budget.buildingWorksCost,"Man-yen"),n("Budget","Total Initial Cost",e.budget.landPrice+e.budget.buildingWorksCost+e.budget.otherInitialCost+e.budget.brokerageFee,"Man-yen");const i=e.funding.loans.reduce((r,a)=>r+a.amount,0);return n("Funding","Own Capital",e.funding.ownCapital,"Man-yen"),n("Funding","Total Loans",i,"Man-yen"),e.funding.loans.forEach((r,a)=>{n("Funding",`Loan ${a+1} Name`,r.name),n("Funding",`Loan ${a+1} Amount`,r.amount,"Man-yen"),n("Funding",`Loan ${a+1} Rate`,r.rate,"%"),n("Funding",`Loan ${a+1} Duration`,r.duration,"Years")}),e.rentRoll.roomTypes.forEach((r,a)=>{n("RentRoll",`Room ${a+1} Name`,r.name),n("RentRoll",`Room ${a+1} Count`,r.count,"Units"),n("RentRoll",`Room ${a+1} Rent`,r.rent,"Yen")}),n("RentRoll","Occupancy Rate",e.rentRoll.occupancyRate,"%"),n("Expenses","Management Fee Mode",e.expenses.managementFeeMode),e.expenses.managementFeeMode==="ratio"?n("Expenses","Management Fee Ratio",e.expenses.managementFeeRatio,"%"):n("Expenses","Management Fee Fixed",e.expenses.managementFeeFixed,"Yen"),t.map(r=>r.map(a=>`"${a}"`).join(",")).join(`
`)},IF=e=>{const t=RF(e),n=new Blob([new Uint8Array([239,187,191]),t],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(n),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download",`simulation_export_${new Date().toISOString().slice(0,10)}.csv`),document.body.appendChild(r),r.click(),document.body.removeChild(r)};function ck(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=ck(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function ce(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=ck(e))&&(i&&(i+=" "),i+=t);return i}var BF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ww(e){if(typeof e!="string")return!1;var t=BF;return t.includes(e)}var zF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FF=new Set(zF);function uk(e){return typeof e!="string"?!1:FF.has(e)}function dk(e){return typeof e=="string"&&e.startsWith("data-")}function Ci(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(uk(n)||dk(n))&&(t[n]=e[n]);return t}function Kl(e){if(e==null)return null;if(P.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ci(t)}return typeof e=="object"&&!Array.isArray(e)?Ci(e):null}function ci(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(uk(n)||dk(n)||ww(n))&&(t[n]=e[n]);return t}function UF(e){return e==null?null:P.isValidElement(e)?ci(e.props):typeof e=="object"&&!Array.isArray(e)?ci(e):null}var HF=["children","width","height","viewBox","className","style","title","desc"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t_.apply(null,arguments)}function $F(e,t){if(e==null)return{};var n,i,r=GF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Aw=P.forwardRef((e,t)=>{var{children:n,width:i,height:r,viewBox:a,className:o,style:c,title:d,desc:f}=e,p=$F(e,HF),m=a||{width:i,height:r,x:0,y:0},y=ce("recharts-surface",o);return P.createElement("svg",t_({},ci(p),{className:y,width:i,height:r,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),P.createElement("title",null,d),P.createElement("desc",null,f),n)}),qF=["children","className"];function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e_.apply(null,arguments)}function VF(e,t){if(e==null)return{};var n,i,r=WF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WF(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Je=P.forwardRef((e,t)=>{var{children:n,className:i}=e,r=VF(e,qF),a=ce("recharts-layer",i);return P.createElement("g",e_({className:a},ci(r),{ref:t}),n)}),hk=P.createContext(null),YF=()=>P.useContext(hk);function Ie(e){return function(){return e}}const fk=Math.cos,Rm=Math.sin,Qr=Math.sqrt,Im=Math.PI,Wg=2*Im,n_=Math.PI,i_=2*n_,jl=1e-6,KF=i_-jl;function pk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ZF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pk;const n=10**t;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*n)/n+i[r]}}class XF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pk:ZF(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,r){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(t,n,i,r,a,o){this._append`C${+t},${+n},${+i},${+r},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,i,r,a){if(t=+t,n=+n,i=+i,r=+r,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,d=i-t,f=r-n,p=o-t,m=c-n,y=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>jl)if(!(Math.abs(m*d-f*p)>jl)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let b=i-o,A=r-c,w=d*d+f*f,C=b*b+A*A,O=Math.sqrt(w),k=Math.sqrt(y),M=a*Math.tan((n_-Math.acos((w+y-C)/(2*O*k)))/2),j=M/k,I=M/O;Math.abs(j-1)>jl&&this._append`L${t+j*p},${n+j*m}`,this._append`A${a},${a},0,0,${+(m*b>p*A)},${this._x1=t+I*d},${this._y1=n+I*f}`}}arc(t,n,i,r,a,o){if(t=+t,n=+n,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(r),d=i*Math.sin(r),f=t+c,p=n+d,m=1^o,y=o?r-a:a-r;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>jl||Math.abs(this._y1-p)>jl)&&this._append`L${f},${p}`,i&&(y<0&&(y=y%i_+i_),y>KF?this._append`A${i},${i},0,1,${m},${t-c},${n-d}A${i},${i},0,1,${m},${this._x1=f},${this._y1=p}`:y>jl&&this._append`A${i},${i},0,${+(y>=n_)},${m},${this._x1=t+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(t,n,i,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function Sw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new XF(t)}function Ew(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mk(e){this._context=e}mk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Yg(e){return new mk(e)}function gk(e){return e[0]}function vk(e){return e[1]}function yk(e,t){var n=Ie(!0),i=null,r=Yg,a=null,o=Sw(c);e=typeof e=="function"?e:e===void 0?gk:Ie(e),t=typeof t=="function"?t:t===void 0?vk:Ie(t);function c(d){var f,p=(d=Ew(d)).length,m,y=!1,b;for(i==null&&(a=r(b=o())),f=0;f<=p;++f)!(f<p&&n(m=d[f],f,d))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+e(m,f,d),+t(m,f,d));if(b)return a=null,b+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ie(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ie(+d),c):t},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Ie(!!d),c):n},c.curve=function(d){return arguments.length?(r=d,i!=null&&(a=r(i)),c):r},c.context=function(d){return arguments.length?(d==null?i=a=null:a=r(i=d),c):i},c}function em(e,t,n){var i=null,r=Ie(!0),a=null,o=Yg,c=null,d=Sw(f);e=typeof e=="function"?e:e===void 0?gk:Ie(+e),t=typeof t=="function"?t:Ie(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?vk:Ie(+n);function f(m){var y,b,A,w=(m=Ew(m)).length,C,O=!1,k,M=new Array(w),j=new Array(w);for(a==null&&(c=o(k=d())),y=0;y<=w;++y){if(!(y<w&&r(C=m[y],y,m))===O)if(O=!O)b=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),A=y-1;A>=b;--A)c.point(M[A],j[A]);c.lineEnd(),c.areaEnd()}O&&(M[y]=+e(C,y,m),j[y]=+t(C,y,m),c.point(i?+i(C,y,m):M[y],n?+n(C,y,m):j[y]))}if(k)return c=null,k+""||null}function p(){return yk().defined(r).curve(o).context(a)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Ie(+m),i=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Ie(+m),f):e},f.x1=function(m){return arguments.length?(i=m==null?null:typeof m=="function"?m:Ie(+m),f):i},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Ie(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Ie(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ie(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(i).y(t)},f.defined=function(m){return arguments.length?(r=typeof m=="function"?m:Ie(!!m),f):r},f.curve=function(m){return arguments.length?(o=m,a!=null&&(c=o(a)),f):o},f.context=function(m){return arguments.length?(m==null?a=c=null:c=o(a=m),f):a},f}class bk{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function QF(e){return new bk(e,!0)}function JF(e){return new bk(e,!1)}const Cw={draw(e,t){const n=Qr(t/Im);e.moveTo(n,0),e.arc(0,0,n,0,Wg)}},t5={draw(e,t){const n=Qr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},xk=Qr(1/3),e5=xk*2,n5={draw(e,t){const n=Qr(t/e5),i=n*xk;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},i5={draw(e,t){const n=Qr(t),i=-n/2;e.rect(i,i,n,n)}},r5=.8908130915292852,_k=Rm(Im/10)/Rm(7*Im/10),a5=Rm(Wg/10)*_k,s5=-fk(Wg/10)*_k,o5={draw(e,t){const n=Qr(t*r5),i=a5*n,r=s5*n;e.moveTo(0,-n),e.lineTo(i,r);for(let a=1;a<5;++a){const o=Wg*a/5,c=fk(o),d=Rm(o);e.lineTo(d*n,-c*n),e.lineTo(c*i-d*r,d*i+c*r)}e.closePath()}},ob=Qr(3),l5={draw(e,t){const n=-Qr(t/(ob*3));e.moveTo(0,n*2),e.lineTo(-ob*n,-n),e.lineTo(ob*n,-n),e.closePath()}},xr=-.5,_r=Qr(3)/2,r_=1/Qr(12),c5=(r_/2+1)*3,u5={draw(e,t){const n=Qr(t/c5),i=n/2,r=n*r_,a=i,o=n*r_+n,c=-a,d=o;e.moveTo(i,r),e.lineTo(a,o),e.lineTo(c,d),e.lineTo(xr*i-_r*r,_r*i+xr*r),e.lineTo(xr*a-_r*o,_r*a+xr*o),e.lineTo(xr*c-_r*d,_r*c+xr*d),e.lineTo(xr*i+_r*r,xr*r-_r*i),e.lineTo(xr*a+_r*o,xr*o-_r*a),e.lineTo(xr*c+_r*d,xr*d-_r*c),e.closePath()}};function d5(e,t){let n=null,i=Sw(r);e=typeof e=="function"?e:Ie(e||Cw),t=typeof t=="function"?t:Ie(t===void 0?64:+t);function r(){let a;if(n||(n=a=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return r.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ie(a),r):e},r.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ie(+a),r):t},r.context=function(a){return arguments.length?(n=a??null,r):n},r}function Bm(){}function zm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function wk(e){this._context=e}wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h5(e){return new wk(e)}function Ak(e){this._context=e}Ak.prototype={areaStart:Bm,areaEnd:Bm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function f5(e){return new Ak(e)}function Sk(e){this._context=e}Sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:zm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function p5(e){return new Sk(e)}function Ek(e){this._context=e}Ek.prototype={areaStart:Bm,areaEnd:Bm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function m5(e){return new Ek(e)}function sT(e){return e<0?-1:1}function oT(e,t,n){var i=e._x1-e._x0,r=t-e._x1,a=(e._y1-e._y0)/(i||r<0&&-0),o=(n-e._y1)/(r||i<0&&-0),c=(a*r+o*i)/(i+r);return(sT(a)+sT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function lT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function lb(e,t,n){var i=e._x0,r=e._y0,a=e._x1,o=e._y1,c=(a-i)/3;e._context.bezierCurveTo(i+c,r+c*t,a-c,o-c*n,a,o)}function Fm(e){this._context=e}Fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lb(this,this._t0,lT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lb(this,lT(this,n=oT(this,e,t)),n);break;default:lb(this,this._t0,n=oT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Ck(e){this._context=new Tk(e)}(Ck.prototype=Object.create(Fm.prototype)).point=function(e,t){Fm.prototype.point.call(this,t,e)};function Tk(e){this._context=e}Tk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,a){this._context.bezierCurveTo(t,e,i,n,a,r)}};function g5(e){return new Fm(e)}function v5(e){return new Ck(e)}function Ok(e){this._context=e}Ok.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=cT(e),r=cT(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cT(e){var t,n=e.length-1,i,r=new Array(n),a=new Array(n),o=new Array(n);for(r[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)r[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(r[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=r[t]/a[t-1],a[t]-=i,o[t]-=i*o[t-1];for(r[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)r[t]=(o[t]-r[t+1])/a[t];for(a[n-1]=(e[n]+r[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-r[t+1];return[r,a]}function y5(e){return new Ok(e)}function Kg(e,t){this._context=e,this._t=t}Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function b5(e){return new Kg(e,.5)}function x5(e){return new Kg(e,0)}function _5(e){return new Kg(e,1)}function Zl(e,t){if((o=e.length)>1)for(var n=1,i,r,a=e[t[0]],o,c=a.length;n<o;++n)for(r=a,a=e[t[n]],i=0;i<c;++i)a[i][1]+=a[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function a_(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function w5(e,t){return e[t]}function A5(e){const t=[];return t.key=e,t}function S5(){var e=Ie([]),t=a_,n=Zl,i=w5;function r(a){var o=Array.from(e.apply(this,arguments),A5),c,d=o.length,f=-1,p;for(const m of a)for(c=0,++f;c<d;++c)(o[c][f]=[0,+i(m,o[c].key,f,a)]).data=m;for(c=0,p=Ew(t(o));c<d;++c)o[p[c]].index=c;return n(o,p),o}return r.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ie(Array.from(a)),r):e},r.value=function(a){return arguments.length?(i=typeof a=="function"?a:Ie(+a),r):i},r.order=function(a){return arguments.length?(t=a==null?a_:typeof a=="function"?a:Ie(Array.from(a)),r):t},r.offset=function(a){return arguments.length?(n=a??Zl,r):n},r}function E5(e,t){if((i=e.length)>0){for(var n,i,r=0,a=e[0].length,o;r<a;++r){for(o=n=0;n<i;++n)o+=e[n][r][1]||0;if(o)for(n=0;n<i;++n)e[n][r][1]/=o}Zl(e,t)}}function C5(e,t){if((r=e.length)>0){for(var n=0,i=e[t[0]],r,a=i.length;n<a;++n){for(var o=0,c=0;o<r;++o)c+=e[o][n][1]||0;i[n][1]+=i[n][0]=-c/2}Zl(e,t)}}function T5(e,t){if(!(!((o=e.length)>0)||!((a=(r=e[t[0]]).length)>0))){for(var n=0,i=1,r,a,o;i<a;++i){for(var c=0,d=0,f=0;c<o;++c){for(var p=e[t[c]],m=p[i][1]||0,y=p[i-1][1]||0,b=(m-y)/2,A=0;A<c;++A){var w=e[t[A]],C=w[i][1]||0,O=w[i-1][1]||0;b+=C-O}d+=m,f+=b*m}r[i-1][1]+=r[i-1][0]=n,d&&(n-=f/d)}r[i-1][1]+=r[i-1][0]=n,Zl(e,t)}}var cb={},ub={},uT;function O5(){return uT||(uT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(ub)),ub}var db={},dT;function Pk(){return dT||(dT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(db)),db}var hb={},hT;function Tw(){return hT||(hT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(hb)),hb}var fb={},pb={},fT;function P5(){return fT||(fT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}e.toString=t})(pb)),pb}var pT;function Ow(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P5(),n=Tw();function i(r){if(Array.isArray(r))return r.map(n.toKey);if(typeof r=="symbol")return[r];r=t.toString(r);const a=[],o=r.length;if(o===0)return a;let c=0,d="",f="",p=!1;for(r.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const m=r[c];f?m==="\\"&&c+1<o?(c++,d+=r[c]):m===f?f="":d+=m:p?m==='"'||m==="'"?f=m:m==="]"?(p=!1,a.push(d),d=""):d+=m:m==="["?(p=!0,d&&(a.push(d),d="")):m==="."?d&&(a.push(d),d=""):d+=m,c++}return d&&a.push(d),a}e.toPath=i})(fb)),fb}var mT;function Pw(){return mT||(mT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O5(),n=Pk(),i=Tw(),r=Ow();function a(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?n.isDeepKey(d)?a(c,r.toPath(d),f):f:p}case"number":case"symbol":{typeof d=="number"&&(d=i.toKey(d));const p=c[d];return p===void 0?f:p}default:{if(Array.isArray(d))return o(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const p=c[d];return p===void 0?f:p}}}function o(c,d,f){if(d.length===0)return f;let p=c;for(let m=0;m<d.length;m++){if(p==null||t.isUnsafeProperty(d[m]))return f;p=p[d[m]]}return p===void 0?f:p}e.get=a})(cb)),cb}var mb,gT;function M5(){return gT||(gT=1,mb=Pw().get),mb}var N5=M5();const Xl=Ia(N5);var k5=4;function Co(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k5,n=10**t,i=Math.round(e*n)/n;return Object.is(i,-0)?0:i}function cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.reduce((r,a,o)=>{var c=n[o-1];return typeof c=="string"?r+c+a:c!==void 0?r+Co(c)+a:r+a},"")}var Zn=e=>e===0?0:e>0?1:-1,Zr=e=>typeof e=="number"&&e!=+e,Ql=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Et=e=>(typeof e=="number"||e instanceof Number)&&!Zr(e),Or=e=>Et(e)||typeof e=="string",D5=0,Th=e=>{var t=++D5;return"".concat(e||"").concat(t)},mi=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Et(t)&&typeof t!="string")return i;var a;if(Ql(t)){if(n==null)return i;var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Zr(a)&&(a=i),r&&n!=null&&a>n&&(a=n),a},Mk=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[String(e[i])])n[String(e[i])]=!0;else return!0;return!1};function we(e,t,n){return Et(e)&&Et(t)?Co(e+n*(t-e)):t}function Nk(e,t,n){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):Xl(i,t))===n)}var Ke=e=>e===null||typeof e>"u",Qh=e=>Ke(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $i(e){return e!=null}function zo(){}var j5=["type","size","sizeType"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s_.apply(null,arguments)}function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function yT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(i){L5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function L5(e,t,n){return(t=R5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R5(e){var t=I5(e,"string");return typeof t=="symbol"?t:t+""}function I5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B5(e,t){if(e==null)return{};var n,i,r=z5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var kk={symbolCircle:Cw,symbolCross:t5,symbolDiamond:n5,symbolSquare:i5,symbolStar:o5,symbolTriangle:l5,symbolWye:u5},F5=Math.PI/180,U5=e=>{var t="symbol".concat(Qh(e));return kk[t]||Cw},H5=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*F5;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$5=(e,t)=>{kk["symbol".concat(Qh(e))]=t},Mw=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,r=B5(e,j5),a=yT(yT({},r),{},{type:t,size:n,sizeType:i}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var y=U5(o),b=d5().type(y).size(H5(n,i,o)),A=b();if(A!==null)return A},{className:d,cx:f,cy:p}=a,m=ci(a);return Et(f)&&Et(p)&&Et(n)?P.createElement("path",s_({},m,{className:ce("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};Mw.registerSymbol=$5;var Dk=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Nw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(P.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(r=>{ww(r)&&(i[r]=(a=>n[r](n,a)))}),i},G5=(e,t,n)=>i=>(e(t,n,i),null),Jh=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(r=>{var a=e[r];ww(r)&&typeof a=="function"&&(i||(i={}),i[r]=G5(a,t,n))}),i};function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function q5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(i){V5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function V5(e,t,n){return(t=W5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W5(e){var t=Y5(e,"string");return typeof t=="symbol"?t:t+""}function Y5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tn(e,t){var n=q5({},e),i=t,r=Object.keys(t),a=r.reduce((o,c)=>(o[c]===void 0&&i[c]!==void 0&&(o[c]=i[c]),o),n);return a}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Um.apply(null,arguments)}function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function K5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(i){Z5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Z5(e,t,n){return(t=X5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X5(e){var t=Q5(e,"string");return typeof t=="symbol"?t:t+""}function Q5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Er=32,J5={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function t4(e){var{data:t,iconType:n,inactiveColor:i}=e,r=Er/2,a=Er/6,o=Er/3,c=t.inactive?i:t.color,d=n??t.type;if(d==="none")return null;if(d==="plainline"){var f;return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(f=t.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:r,x2:Er,y2:r,className:"recharts-legend-icon"})}if(d==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(r,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(r,`
            H`).concat(Er,"M").concat(2*o,",").concat(r,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if(d==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Er/8,"h").concat(Er,"v").concat(Er*3/4,"h").concat(-Er,"z"),className:"recharts-legend-icon"});if(P.isValidElement(t.legendIcon)){var p=K5({},t);return delete p.legendIcon,P.cloneElement(t.legendIcon,p)}return P.createElement(Mw,{fill:c,cx:r,cy:r,size:Er,sizeType:"diameter",type:d})}function e4(e){var{payload:t,iconSize:n,layout:i,formatter:r,inactiveColor:a,iconType:o}=e,c={x:0,y:0,width:Er,height:Er},d={display:i==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,m)=>{var y=p.formatter||r,b=ce({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:p.inactive});if(p.type==="none")return null;var A=p.inactive?a:p.color,w=y?y(p.value,p,m):p.value;return P.createElement("li",Um({className:b,style:d,key:"legend-item-".concat(m)},Jh(e,p,m)),P.createElement(Aw,{width:n,height:n,viewBox:c,style:f,"aria-label":"".concat(w," legend icon")},P.createElement(t4,{data:p,iconType:o,inactiveColor:a})),P.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},w))})}var n4=e=>{var t=tn(e,J5),{payload:n,layout:i,align:r}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:i==="horizontal"?r:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:a},P.createElement(e4,Um({},t,{payload:n})))},gb={},vb={},_T;function i4(){return _T||(_T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){const r=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=i(o,a,n);r.has(c)||r.set(c,o)}return Array.from(r.values())}e.uniqBy=t})(vb)),vb}var yb={},wT;function r4(){return wT||(wT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return function(...r){return n.apply(this,r.slice(0,i))}}e.ary=t})(yb)),yb}var bb={},AT;function jk(){return AT||(AT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(bb)),bb}var xb={},_b={},wb={},ST;function a4(){return ST||(ST=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(wb)),wb}var ET;function kw(){return ET||(ET=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a4();function n(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=n})(_b)),_b}var Ab={},CT;function s4(){return CT||(CT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Ab)),Ab}var TT;function o4(){return TT||(TT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kw(),n=s4();function i(r){return n.isObjectLike(r)&&t.isArrayLike(r)}e.isArrayLikeObject=i})(xb)),xb}var Sb={},Eb={},OT;function l4(){return OT||(OT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pw();function n(i){return function(r){return t.get(r,i)}}e.property=n})(Eb)),Eb}var Cb={},Tb={},Ob={},Pb={},PT;function Lk(){return PT||(PT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Pb)),Pb}var Mb={},MT;function Rk(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Mb)),Mb}var Nb={},NT;function Ik(){return NT||(NT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}e.isEqualsSameValueZero=t})(Nb)),Nb}var kT;function c4(){return kT||(kT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lk(),n=Rk(),i=Ik();function r(p,m,y){return typeof y!="function"?r(p,m,()=>{}):a(p,m,function b(A,w,C,O,k,M){const j=y(A,w,C,O,k,M);return j!==void 0?!!j:a(A,w,b,M)},new Map)}function a(p,m,y,b){if(m===p)return!0;switch(typeof m){case"object":return o(p,m,y,b);case"function":return Object.keys(m).length>0?a(p,{...m},y,b):i.isEqualsSameValueZero(p,m);default:return t.isObject(p)?typeof m=="string"?m==="":!0:i.isEqualsSameValueZero(p,m)}}function o(p,m,y,b){if(m==null)return!0;if(Array.isArray(m))return d(p,m,y,b);if(m instanceof Map)return c(p,m,y,b);if(m instanceof Set)return f(p,m,y,b);const A=Object.keys(m);if(p==null||n.isPrimitive(p))return A.length===0;if(A.length===0)return!0;if(b?.has(m))return b.get(m)===p;b?.set(m,p);try{for(let w=0;w<A.length;w++){const C=A[w];if(!n.isPrimitive(p)&&!(C in p)||m[C]===void 0&&p[C]!==void 0||m[C]===null&&p[C]!==null||!y(p[C],m[C],C,p,m,b))return!1}return!0}finally{b?.delete(m)}}function c(p,m,y,b){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[A,w]of m.entries()){const C=p.get(A);if(y(C,w,A,p,m,b)===!1)return!1}return!0}function d(p,m,y,b){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const A=new Set;for(let w=0;w<m.length;w++){const C=m[w];let O=!1;for(let k=0;k<p.length;k++){if(A.has(k))continue;const M=p[k];let j=!1;if(y(M,C,w,p,m,b)&&(j=!0),j){A.add(k),O=!0;break}}if(!O)return!1}return!0}function f(p,m,y,b){return m.size===0?!0:p instanceof Set?d([...p],[...m],y,b):!1}e.isMatchWith=r,e.isSetMatch=f})(Ob)),Ob}var DT;function Bk(){return DT||(DT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c4();function n(i,r){return t.isMatchWith(i,r,()=>{})}e.isMatch=n})(Tb)),Tb}var kb={},Db={},jb={},jT;function u4(){return jT||(jT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}e.getSymbols=t})(jb)),jb}var Lb={},LT;function Dw(){return LT||(LT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Lb)),Lb}var Rb={},RT;function zk(){return RT||(RT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",i="[object Number]",r="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",p="[object Array]",m="[object Function]",y="[object ArrayBuffer]",b="[object Object]",A="[object Error]",w="[object DataView]",C="[object Uint8Array]",O="[object Uint8ClampedArray]",k="[object Uint16Array]",M="[object Uint32Array]",j="[object BigUint64Array]",I="[object Int8Array]",R="[object Int16Array]",z="[object Int32Array]",H="[object BigInt64Array]",W="[object Float32Array]",et="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=y,e.arrayTag=p,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=j,e.booleanTag=r,e.dataViewTag=w,e.dateTag=c,e.errorTag=A,e.float32ArrayTag=W,e.float64ArrayTag=et,e.functionTag=m,e.int16ArrayTag=R,e.int32ArrayTag=z,e.int8ArrayTag=I,e.mapTag=d,e.numberTag=i,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=k,e.uint32ArrayTag=M,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=O})(Rb)),Rb}var Ib={},IT;function d4(){return IT||(IT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Ib)),Ib}var BT;function Fk(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u4(),n=Dw(),i=zk(),r=Rk(),a=d4();function o(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,y,b=new Map,A=void 0){const w=A?.(p,m,y,b);if(w!==void 0)return w;if(r.isPrimitive(p))return p;if(b.has(p))return b.get(p);if(Array.isArray(p)){const C=new Array(p.length);b.set(p,C);for(let O=0;O<p.length;O++)C[O]=c(p[O],O,y,b,A);return Object.hasOwn(p,"index")&&(C.index=p.index),Object.hasOwn(p,"input")&&(C.input=p.input),C}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const C=new RegExp(p.source,p.flags);return C.lastIndex=p.lastIndex,C}if(p instanceof Map){const C=new Map;b.set(p,C);for(const[O,k]of p)C.set(O,c(k,O,y,b,A));return C}if(p instanceof Set){const C=new Set;b.set(p,C);for(const O of p)C.add(c(O,void 0,y,b,A));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(a.isTypedArray(p)){const C=new(Object.getPrototypeOf(p)).constructor(p.length);b.set(p,C);for(let O=0;O<p.length;O++)C[O]=c(p[O],O,y,b,A);return C}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const C=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return b.set(p,C),d(C,p,y,b,A),C}if(typeof File<"u"&&p instanceof File){const C=new File([p],p.name,{type:p.type});return b.set(p,C),d(C,p,y,b,A),C}if(typeof Blob<"u"&&p instanceof Blob){const C=new Blob([p],{type:p.type});return b.set(p,C),d(C,p,y,b,A),C}if(p instanceof Error){const C=new p.constructor;return b.set(p,C),C.message=p.message,C.name=p.name,C.stack=p.stack,C.cause=p.cause,d(C,p,y,b,A),C}if(p instanceof Boolean){const C=new Boolean(p.valueOf());return b.set(p,C),d(C,p,y,b,A),C}if(p instanceof Number){const C=new Number(p.valueOf());return b.set(p,C),d(C,p,y,b,A),C}if(p instanceof String){const C=new String(p.valueOf());return b.set(p,C),d(C,p,y,b,A),C}if(typeof p=="object"&&f(p)){const C=Object.create(Object.getPrototypeOf(p));return b.set(p,C),d(C,p,y,b,A),C}return p}function d(p,m,y=p,b,A){const w=[...Object.keys(m),...t.getSymbols(m)];for(let C=0;C<w.length;C++){const O=w[C],k=Object.getOwnPropertyDescriptor(p,O);(k==null||k.writable)&&(p[O]=c(m[O],O,y,b,A))}}function f(p){switch(n.getTag(p)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=d})(Db)),Db}var zT;function h4(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fk();function n(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=n})(kb)),kb}var FT;function f4(){return FT||(FT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bk(),n=h4();function i(r){return r=n.cloneDeep(r),a=>t.isMatch(a,r)}e.matches=i})(Cb)),Cb}var Bb={},zb={},Fb={},UT;function p4(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fk(),n=Dw(),i=zk();function r(a,o){return t.cloneDeepWith(a,(c,d,f,p)=>{const m=o?.(c,d,f,p);if(m!==void 0)return m;if(typeof a=="object"){if(n.getTag(a)===i.objectTag&&typeof a.constructor!="function"){const y={};return p.set(a,y),t.copyProperties(y,a,f,p),y}switch(Object.prototype.toString.call(a)){case i.numberTag:case i.stringTag:case i.booleanTag:{const y=new a.constructor(a?.valueOf());return t.copyProperties(y,a),y}case i.argumentsTag:{const y={};return t.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}}})}e.cloneDeepWith=r})(Fb)),Fb}var HT;function m4(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p4();function n(i){return t.cloneDeepWith(i)}e.cloneDeep=n})(zb)),zb}var Ub={},Hb={},$T;function Uk(){return $T||($T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=n})(Hb)),Hb}var $b={},GT;function g4(){return GT||(GT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dw();function n(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=n})($b)),$b}var qT;function v4(){return qT||(qT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pk(),n=Uk(),i=g4(),r=Ow();function a(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?d=r.toPath(c):d=[c],d.length===0)return!1;let f=o;for(let p=0;p<d.length;p++){const m=d[p];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||i.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=a})(Ub)),Ub}var VT;function y4(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bk(),n=Tw(),i=m4(),r=Pw(),a=v4();function o(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=i.cloneDeep(d),function(f){const p=r.get(f,c);return p===void 0?a.has(f,c):d===void 0?p===void 0:t.isMatch(p,d)}}e.matchesProperty=o})(Bb)),Bb}var WT;function b4(){return WT||(WT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk(),n=l4(),i=f4(),r=y4();function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?r.matchesProperty(o[0],o[1]):i.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=a})(Sb)),Sb}var YT;function x4(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i4(),n=r4(),i=jk(),r=o4(),a=b4();function o(c,d=i.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),n.ary(a.iteratee(d),1)):[]}e.uniqBy=o})(gb)),gb}var Gb,KT;function _4(){return KT||(KT=1,Gb=x4().uniqBy),Gb}var w4=_4();const ZT=Ia(w4);function Hk(e,t,n){return t===!0?ZT(e,n):typeof t=="function"?ZT(e,t):e}var qb={exports:{}},Vb={},Wb={exports:{}},Yb={};var XT;function A4(){if(XT)return Yb;XT=1;var e=Du();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,r=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function c(m,y){var b=y(),A=i({inst:{value:b,getSnapshot:y}}),w=A[0].inst,C=A[1];return a(function(){w.value=b,w.getSnapshot=y,d(w)&&C({inst:w})},[m,b,y]),r(function(){return d(w)&&C({inst:w}),m(function(){d(w)&&C({inst:w})})},[m]),o(b),b}function d(m){var y=m.getSnapshot;m=m.value;try{var b=y();return!n(m,b)}catch{return!0}}function f(m,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Yb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Yb}var QT;function S4(){return QT||(QT=1,Wb.exports=A4()),Wb.exports}var JT;function E4(){if(JT)return Vb;JT=1;var e=Du(),t=S4();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var i=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Vb.useSyncExternalStoreWithSelector=function(f,p,m,y,b){var A=a(null);if(A.current===null){var w={hasValue:!1,value:null};A.current=w}else w=A.current;A=c(function(){function O(R){if(!k){if(k=!0,M=R,R=y(R),b!==void 0&&w.hasValue){var z=w.value;if(b(z,R))return j=z}return j=R}if(z=j,i(M,R))return z;var H=y(R);return b!==void 0&&b(z,H)?(M=R,z):(M=R,j=H)}var k=!1,M,j,I=m===void 0?null:m;return[function(){return O(p())},I===null?void 0:function(){return O(I())}]},[p,m,y,b]);var C=r(f,A[0],A[1]);return o(function(){w.hasValue=!0,w.value=C},[C]),d(C),C},Vb}var tO;function C4(){return tO||(tO=1,qb.exports=E4()),qb.exports}var T4=C4(),jw=P.createContext(null),O4=e=>e,Re=()=>{var e=P.useContext(jw);return e?e.store.dispatch:O4},Tm=()=>{},P4=()=>Tm,M4=(e,t)=>e===t;function Tt(e){var t=P.useContext(jw),n=P.useMemo(()=>t?i=>{if(i!=null)return e(i)}:Tm,[t,e]);return T4.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:P4,t?t.store.getState:Tm,t?t.store.getState:Tm,n,M4)}function N4(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function k4(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function D4(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var eO=e=>Array.isArray(e)?e:[e];function j4(e){const t=Array.isArray(e[0])?e[0]:e;return D4(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function L4(e,t){const n=[],{length:i}=e;for(let r=0;r<i;r++)n.push(e[r].apply(null,t));return n}var R4=class{constructor(e){this.value=e}deref(){return this.value}},I4=typeof WeakRef<"u"?WeakRef:R4,B4=0,nO=1;function nm(){return{s:B4,v:void 0,o:null,p:null}}function $k(e,t={}){let n=nm();const{resultEqualityCheck:i}=t;let r,a=0;function o(){let c=n;const{length:d}=arguments;for(let m=0,y=d;m<y;m++){const b=arguments[m];if(typeof b=="function"||typeof b=="object"&&b!==null){let A=c.o;A===null&&(c.o=A=new WeakMap);const w=A.get(b);w===void 0?(c=nm(),A.set(b,c)):c=w}else{let A=c.p;A===null&&(c.p=A=new Map);const w=A.get(b);w===void 0?(c=nm(),A.set(b,c)):c=w}}const f=c;let p;if(c.s===nO)p=c.v;else if(p=e.apply(null,arguments),a++,i){const m=r?.deref?.()??r;m!=null&&i(m,p)&&(p=m,a!==0&&a--),r=typeof p=="object"&&p!==null||typeof p=="function"?new I4(p):p}return f.s=nO,f.v=p,p}return o.clearCache=()=>{n=nm(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function z4(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...r)=>{let a=0,o=0,c,d={},f=r.pop();typeof f=="object"&&(d=f,f=r.pop()),N4(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...d},{memoize:m,memoizeOptions:y=[],argsMemoize:b=$k,argsMemoizeOptions:A=[]}=p,w=eO(y),C=eO(A),O=j4(r),k=m(function(){return a++,f.apply(null,arguments)},...w),M=b(function(){o++;const I=L4(O,arguments);return c=k.apply(null,I),c},...C);return Object.assign(M,{resultFunc:f,memoizedResultFunc:k,dependencies:O,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:b})};return Object.assign(i,{withTypes:()=>i}),i}var it=z4($k),F4=Object.assign((e,t=it)=>{k4(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(a=>e[a]);return t(i,(...a)=>a.reduce((o,c,d)=>(o[n[d]]=c,o),{}))},{withTypes:()=>F4}),Kb={},Zb={},Xb={},iO;function U4(){return iO||(iO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,r,a)=>{if(i!==r){const o=t(i),c=t(r);if(o===c&&o===0){if(i<r)return a==="desc"?1:-1;if(i>r)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};e.compareValues=n})(Xb)),Xb}var Qb={},Jb={},rO;function Gk(){return rO||(rO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Jb)),Jb}var aO;function H4(){return aO||(aO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(i.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=r})(Qb)),Qb}var sO;function $4(){return sO||(sO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U4(),n=H4(),i=Ow();function r(a,o,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(b=>String(b));const f=(b,A)=>{let w=b;for(let C=0;C<A.length&&w!=null;++C)w=w[A[C]];return w},p=(b,A)=>A==null||b==null?A:typeof b=="object"&&"key"in b?Object.hasOwn(A,b.key)?A[b.key]:f(A,b.path):typeof b=="function"?b(A):Array.isArray(b)?f(A,b):typeof A=="object"?A[b]:A,m=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:i.toPath(b)}));return a.map(b=>({original:b,criteria:m.map(A=>p(A,b))})).slice().sort((b,A)=>{for(let w=0;w<m.length;w++){const C=t.compareValues(b.criteria[w],A.criteria[w],c[w]);if(C!==0)return C}return 0}).map(b=>b.original)}e.orderBy=r})(Zb)),Zb}var tx={},oO;function G4(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i=1){const r=[],a=Math.floor(i),o=(c,d)=>{for(let f=0;f<c.length;f++){const p=c[f];Array.isArray(p)&&d<a?o(p,d+1):r.push(p)}};return o(n,0),r}e.flatten=t})(tx)),tx}var ex={},lO;function qk(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uk(),n=kw(),i=Lk(),r=Ik();function a(o,c,d){return i.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?r.isEqualsSameValueZero(d[c],o):!1}e.isIterateeCall=a})(ex)),ex}var cO;function q4(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$4(),n=G4(),i=qk();function r(a,...o){const c=o.length;return c>1&&i.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&i.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,n.flatten(o),["asc"])}e.sortBy=r})(Kb)),Kb}var nx,uO;function V4(){return uO||(uO=1,nx=q4().sortBy),nx}var W4=V4();const Zg=Ia(W4);var Vk=e=>e.legend.settings,Y4=e=>e.legend.size,K4=e=>e.legend.payload,Z4=it([K4,Vk],(e,t)=>{var{itemSorter:n}=t,i=e.flat(1);return n?Zg(i,n):i});function X4(){return Tt(Z4)}var im=1;function Wk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=P.useState({height:0,left:0,top:0,width:0}),i=P.useCallback(r=>{if(r!=null){var a=r.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>im||Math.abs(o.left-t.left)>im||Math.abs(o.top-t.top)>im||Math.abs(o.width-t.width)>im)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function ai(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Q4=typeof Symbol=="function"&&Symbol.observable||"@@observable",dO=Q4,ix=()=>Math.random().toString(36).substring(7).split("").join("."),J4={INIT:`@@redux/INIT${ix()}`,REPLACE:`@@redux/REPLACE${ix()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ix()}`},Hm=J4;function Lw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Yk(e,t,n){if(typeof e!="function")throw new Error(ai(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ai(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ai(1));return n(Yk)(e,t)}let i=e,r=t,a=new Map,o=a,c=0,d=!1;function f(){o===a&&(o=new Map,a.forEach((C,O)=>{o.set(O,C)}))}function p(){if(d)throw new Error(ai(3));return r}function m(C){if(typeof C!="function")throw new Error(ai(4));if(d)throw new Error(ai(5));let O=!0;f();const k=c++;return o.set(k,C),function(){if(O){if(d)throw new Error(ai(6));O=!1,f(),o.delete(k),a=null}}}function y(C){if(!Lw(C))throw new Error(ai(7));if(typeof C.type>"u")throw new Error(ai(8));if(typeof C.type!="string")throw new Error(ai(17));if(d)throw new Error(ai(9));try{d=!0,r=i(r,C)}finally{d=!1}return(a=o).forEach(k=>{k()}),C}function b(C){if(typeof C!="function")throw new Error(ai(10));i=C,y({type:Hm.REPLACE})}function A(){const C=m;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ai(11));function k(){const j=O;j.next&&j.next(p())}return k(),{unsubscribe:C(k)}},[dO](){return this}}}return y({type:Hm.INIT}),{dispatch:y,subscribe:m,getState:p,replaceReducer:b,[dO]:A}}function t6(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Hm.INIT})>"u")throw new Error(ai(12));if(typeof n(void 0,{type:Hm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ai(13))})}function Kk(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const i=Object.keys(n);let r;try{t6(n)}catch(a){r=a}return function(o={},c){if(r)throw r;let d=!1;const f={};for(let p=0;p<i.length;p++){const m=i[p],y=n[m],b=o[m],A=y(b,c);if(typeof A>"u")throw c&&c.type,new Error(ai(14));f[m]=A,d=d||A!==b}return d=d||i.length!==Object.keys(o).length,d?f:o}}function $m(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function e6(...e){return t=>(n,i)=>{const r=t(n,i);let a=()=>{throw new Error(ai(15))};const o={getState:r.getState,dispatch:(d,...f)=>a(d,...f)},c=e.map(d=>d(o));return a=$m(...c)(r.dispatch),{...r,dispatch:a}}}function Zk(e){return Lw(e)&&"type"in e&&typeof e.type=="string"}var Xk=Symbol.for("immer-nothing"),hO=Symbol.for("immer-draftable"),Ti=Symbol.for("immer-state");function qr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sr=Object,Eu=sr.getPrototypeOf,Gm="constructor",Xg="prototype",o_="configurable",qm="enumerable",Om="writable",Oh="value",ws=e=>!!e&&!!e[Ti];function Xr(e){return e?Qk(e)||Jg(e)||!!e[hO]||!!e[Gm]?.[hO]||tv(e)||ev(e):!1}var n6=sr[Xg][Gm].toString(),fO=new WeakMap;function Qk(e){if(!e||!Rw(e))return!1;const t=Eu(e);if(t===null||t===sr[Xg])return!0;const n=sr.hasOwnProperty.call(t,Gm)&&t[Gm];if(n===Object)return!0;if(!au(n))return!1;let i=fO.get(n);return i===void 0&&(i=Function.toString.call(n),fO.set(n,i)),i===n6}function Qg(e,t,n=!0){tf(e)===0?(n?Reflect.ownKeys(e):sr.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((i,r)=>t(r,i,e))}function tf(e){const t=e[Ti];return t?t.type_:Jg(e)?1:tv(e)?2:ev(e)?3:0}var pO=(e,t,n=tf(e))=>n===2?e.has(t):sr[Xg].hasOwnProperty.call(e,t),l_=(e,t,n=tf(e))=>n===2?e.get(t):e[t],Vm=(e,t,n,i=tf(e))=>{i===2?e.set(t,n):i===3?e.add(n):e[t]=n};function i6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Jg=Array.isArray,tv=e=>e instanceof Map,ev=e=>e instanceof Set,Rw=e=>typeof e=="object",au=e=>typeof e=="function",rx=e=>typeof e=="boolean";function r6(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ms=e=>e.copy_||e.base_,Iw=e=>e.modified_?e.copy_:e.base_;function c_(e,t){if(tv(e))return new Map(e);if(ev(e))return new Set(e);if(Jg(e))return Array[Xg].slice.call(e);const n=Qk(e);if(t===!0||t==="class_only"&&!n){const i=sr.getOwnPropertyDescriptors(e);delete i[Ti];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],c=i[o];c[Om]===!1&&(c[Om]=!0,c[o_]=!0),(c.get||c.set)&&(i[o]={[o_]:!0,[Om]:!0,[qm]:c[qm],[Oh]:e[o]})}return sr.create(Eu(e),i)}else{const i=Eu(e);if(i!==null&&n)return{...e};const r=sr.create(i);return sr.assign(r,e)}}function Bw(e,t=!1){return nv(e)||ws(e)||!Xr(e)||(tf(e)>1&&sr.defineProperties(e,{set:rm,add:rm,clear:rm,delete:rm}),sr.freeze(e),t&&Qg(e,(n,i)=>{Bw(i,!0)},!1)),e}function a6(){qr(2)}var rm={[Oh]:a6};function nv(e){return e===null||!Rw(e)?!0:sr.isFrozen(e)}var Wm="MapSet",u_="Patches",mO="ArrayMethods",Jk={};function Jl(e){const t=Jk[e];return t||qr(0,e),t}var gO=e=>!!Jk[e],Ph,tD=()=>Ph,s6=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:gO(Wm)?Jl(Wm):void 0,arrayMethodsPlugin_:gO(mO)?Jl(mO):void 0});function vO(e,t){t&&(e.patchPlugin_=Jl(u_),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function d_(e){h_(e),e.drafts_.forEach(o6),e.drafts_=null}function h_(e){e===Ph&&(Ph=e.parent_)}var yO=e=>Ph=s6(Ph,e);function o6(e){const t=e[Ti];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function bO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ti].modified_&&(d_(t),qr(4)),Xr(e)&&(e=xO(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Ti].base_,e,t)}else e=xO(t,n);return l6(t,e,!0),d_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Xk?e:void 0}function xO(e,t){if(nv(t))return t;const n=t[Ti];if(!n)return Ym(t,e.handledSet_,e);if(!iv(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:i}=n;if(i)for(;i.length>0;)i.pop()(e);iD(n,e)}return n.copy_}function l6(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bw(t,n)}function eD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var iv=(e,t)=>e.scope_===t,c6=[];function nD(e,t,n,i){const r=ms(e),a=e.type_;if(i!==void 0&&l_(r,i,a)===t){Vm(r,i,n,a);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Qg(r,(d,f)=>{if(ws(f)){const p=c.get(f)||[];p.push(d),c.set(f,p)}})}const o=e.draftLocations_.get(t)??c6;for(const c of o)Vm(r,c,n,a)}function u6(e,t,n){e.callbacks_.push(function(r){const a=t;if(!a||!iv(a,r))return;r.mapSetPlugin_?.fixSetContents(a);const o=Iw(a);nD(e,a.draft_??a,o,n),iD(a,r)})}function iD(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:i}=t;if(i){const r=i.getPath(e);r&&i.generatePatches_(e,r,t)}eD(e)}}function d6(e,t,n){const{scope_:i}=e;if(ws(n)){const r=n[Ti];iv(r,i)&&r.callbacks_.push(function(){Pm(e);const o=Iw(r);nD(e,n,o,t)})}else Xr(n)&&e.callbacks_.push(function(){const a=ms(e);e.type_===3?a.has(n)&&Ym(n,i.handledSet_,i):l_(a,t,e.type_)===n&&i.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ym(l_(e.copy_,t,e.type_),i.handledSet_,i)})}function Ym(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ws(e)||t.has(e)||!Xr(e)||nv(e)||(t.add(e),Qg(e,(i,r)=>{if(ws(r)){const a=r[Ti];if(iv(a,n)){const o=Iw(a);Vm(e,i,o,e.type_),eD(a)}}else Xr(r)&&Ym(r,t,n)})),e}function h6(e,t){const n=Jg(e),i={type_:n?1:0,scope_:t?t.scope_:tD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,a=Km;n&&(r=[i],a=Mh);const{revoke:o,proxy:c}=Proxy.revocable(r,a);return i.draft_=c,i.revoke_=o,[c,i]}var Km={get(e,t){if(t===Ti)return e;let n=e.scope_.arrayMethodsPlugin_;const i=e.type_===1&&typeof t=="string";if(i&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const r=ms(e);if(!pO(r,t,e.type_))return f6(e,r,t);const a=r[t];if(e.finalized_||!Xr(a)||i&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&r6(t))return a;if(a===ax(e.base_,t)){Pm(e);const o=e.type_===1?+t:t,c=p_(e.scope_,a,e,o);return e.copy_[o]=c}return a},has(e,t){return t in ms(e)},ownKeys(e){return Reflect.ownKeys(ms(e))},set(e,t,n){const i=rD(ms(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const r=ax(ms(e),t),a=r?.[Ti];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(i6(n,r)&&(n!==void 0||pO(e.base_,t,e.type_)))return!0;Pm(e),f_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),d6(e,t,n)),!0},deleteProperty(e,t){return Pm(e),ax(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),f_(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ms(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{[Om]:!0,[o_]:e.type_!==1||t!=="length",[qm]:i[qm],[Oh]:n[t]}},defineProperty(){qr(11)},getPrototypeOf(e){return Eu(e.base_)},setPrototypeOf(){qr(12)}},Mh={};for(let e in Km){let t=Km[e];Mh[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Mh.deleteProperty=function(e,t){return Mh.set.call(this,e,t,void 0)};Mh.set=function(e,t,n){return Km.set.call(this,e[0],t,n,e[0])};function ax(e,t){const n=e[Ti];return(n?ms(n):e)[t]}function f6(e,t,n){const i=rD(t,n);return i?Oh in i?i[Oh]:i.get?.call(e.draft_):void 0}function rD(e,t){if(!(t in e))return;let n=Eu(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Eu(n)}}function f_(e){e.modified_||(e.modified_=!0,e.parent_&&f_(e.parent_))}function Pm(e){e.copy_||(e.assigned_=new Map,e.copy_=c_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var p6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,r)=>{if(au(n)&&!au(i)){const o=i;i=n;const c=this;return function(f=o,...p){return c.produce(f,m=>i.call(this,m,...p))}}au(i)||qr(6),r!==void 0&&!au(r)&&qr(7);let a;if(Xr(n)){const o=yO(this),c=p_(o,n,void 0);let d=!0;try{a=i(c),d=!1}finally{d?d_(o):h_(o)}return vO(o,r),bO(a,o)}else if(!n||!Rw(n)){if(a=i(n),a===void 0&&(a=n),a===Xk&&(a=void 0),this.autoFreeze_&&Bw(a,!0),r){const o=[],c=[];Jl(u_).generateReplacementPatches_(n,a,{patches_:o,inversePatches_:c}),r(o,c)}return a}else qr(1,n)},this.produceWithPatches=(n,i)=>{if(au(n))return(c,...d)=>this.produceWithPatches(c,f=>n(f,...d));let r,a;return[this.produce(n,i,(c,d)=>{r=c,a=d}),r,a]},rx(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),rx(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),rx(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||qr(8),ws(t)&&(t=Kr(t));const n=yO(this),i=p_(n,t,void 0);return i[Ti].isManual_=!0,h_(n),i}finishDraft(t,n){const i=t&&t[Ti];(!i||!i.isManual_)&&qr(9);const{scope_:r}=i;return vO(r,n),bO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let i;for(i=n.length-1;i>=0;i--){const a=n[i];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}i>-1&&(n=n.slice(i+1));const r=Jl(u_).applyPatches_;return ws(t)?r(t,n):this.produce(t,a=>r(a,n))}};function p_(e,t,n,i){const[r,a]=tv(t)?Jl(Wm).proxyMap_(t,n):ev(t)?Jl(Wm).proxySet_(t,n):h6(t,n);return(n?.scope_??tD()).drafts_.push(r),a.callbacks_=n?.callbacks_??[],a.key_=i,n&&i!==void 0?u6(n,a,i):a.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=d;a.modified_&&f&&f.generatePatches_(a,[],d)}),r}function Kr(e){return ws(e)||qr(10,e),aD(e)}function aD(e){if(!Xr(e)||nv(e))return e;const t=e[Ti];let n,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=c_(e,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else n=c_(e,!0);return Qg(n,(r,a)=>{Vm(n,r,aD(a))},i),t&&(t.finalized_=!1),n}var m6=new p6,sD=m6.produce;function oD(e){return({dispatch:n,getState:i})=>r=>a=>typeof a=="function"?a(n,i,e):r(a)}var g6=oD(),v6=oD,y6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$m:$m.apply(null,arguments)};function Pr(e,t){function n(...i){if(t){let r=t(...i);if(!r)throw new Error(or(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>Zk(i)&&i.type===e,n}var lD=class yh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,yh.prototype)}static get[Symbol.species](){return yh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new yh(...t[0].concat(this)):new yh(...t.concat(this))}};function _O(e){return Xr(e)?sD(e,()=>{}):e}function am(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function b6(e){return typeof e=="boolean"}var x6=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=t??{};let o=new lD;return n&&(b6(n)?o.push(g6):o.push(v6(n.extraArgument))),o},cD="RTK_autoBatch",We=()=>e=>({payload:e,meta:{[cD]:!0}}),wO=e=>t=>{setTimeout(t,e)},uD=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let r=!0,a=!1,o=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wO(10):e.type==="callback"?e.queueNotification:wO(e.timeout),f=()=>{o=!1,a&&(a=!1,c.forEach(p=>p()))};return Object.assign({},i,{subscribe(p){const m=()=>r&&p(),y=i.subscribe(m);return c.add(p),()=>{y(),c.delete(p)}},dispatch(p){try{return r=!p?.meta?.[cD],a=!r,a&&(o||(o=!0,d(f))),i.dispatch(p)}finally{r=!0}}})},_6=e=>function(n){const{autoBatch:i=!0}=n??{};let r=new lD(e);return i&&r.push(uD(typeof i=="object"?i:void 0)),r};function w6(e){const t=x6(),{reducer:n=void 0,middleware:i,devTools:r=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Lw(n))c=Kk(n);else throw new Error(or(1));let d;typeof i=="function"?d=i(t):d=t();let f=$m;r&&(f=y6({trace:!1,...typeof r=="object"&&r}));const p=e6(...d),m=_6(p);let y=typeof o=="function"?o(m):m();const b=f(...y);return Yk(c,a,b)}function dD(e){const t={},n=[];let i;const r={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(or(28));if(c in t)throw new Error(or(29));return t[c]=o,r},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),r},addMatcher(a,o){return n.push({matcher:a,reducer:o}),r},addDefaultCase(a){return i=a,r}};return e(r),[t,n,i]}function A6(e){return typeof e=="function"}function S6(e,t){let[n,i,r]=dD(t),a;if(A6(e))a=()=>_O(e());else{const c=_O(e);a=()=>c}function o(c=a(),d){let f=[n[d.type],...i.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[r]),f.reduce((p,m)=>{if(m)if(ws(p)){const b=m(p,d);return b===void 0?p:b}else{if(Xr(p))return sD(p,y=>m(y,d));{const y=m(p,d);if(y===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return p},c)}return o.getInitialState=a,o}var E6="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",C6=(e=21)=>{let t="",n=e;for(;n--;)t+=E6[Math.random()*64|0];return t},T6=Symbol.for("rtk-slice-createasyncthunk");function O6(e,t){return`${e}/${t}`}function P6({creators:e}={}){const t=e?.asyncThunk?.[T6];return function(i){const{name:r,reducerPath:a=r}=i;if(!r)throw new Error(or(11));const o=(typeof i.reducers=="function"?i.reducers(N6()):i.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(M,j){const I=typeof M=="string"?M:M.type;if(!I)throw new Error(or(12));if(I in d.sliceCaseReducersByType)throw new Error(or(13));return d.sliceCaseReducersByType[I]=j,f},addMatcher(M,j){return d.sliceMatchers.push({matcher:M,reducer:j}),f},exposeAction(M,j){return d.actionCreators[M]=j,f},exposeCaseReducer(M,j){return d.sliceCaseReducersByName[M]=j,f}};c.forEach(M=>{const j=o[M],I={reducerName:M,type:O6(r,M),createNotation:typeof i.reducers=="function"};D6(j)?L6(I,j,f,t):k6(I,j,f)});function p(){const[M={},j=[],I=void 0]=typeof i.extraReducers=="function"?dD(i.extraReducers):[i.extraReducers],R={...M,...d.sliceCaseReducersByType};return S6(i.initialState,z=>{for(let H in R)z.addCase(H,R[H]);for(let H of d.sliceMatchers)z.addMatcher(H.matcher,H.reducer);for(let H of j)z.addMatcher(H.matcher,H.reducer);I&&z.addDefaultCase(I)})}const m=M=>M,y=new Map,b=new WeakMap;let A;function w(M,j){return A||(A=p()),A(M,j)}function C(){return A||(A=p()),A.getInitialState()}function O(M,j=!1){function I(z){let H=z[M];return typeof H>"u"&&j&&(H=am(b,I,C)),H}function R(z=m){const H=am(y,j,()=>new WeakMap);return am(H,z,()=>{const W={};for(const[et,Y]of Object.entries(i.selectors??{}))W[et]=M6(Y,z,()=>am(b,z,C),j);return W})}return{reducerPath:M,getSelectors:R,get selectors(){return R(I)},selectSlice:I}}const k={name:r,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...O(a),injectInto(M,{reducerPath:j,...I}={}){const R=j??a;return M.inject({reducerPath:R,reducer:w},I),{...k,...O(R,!0)}}};return k}}function M6(e,t,n,i){function r(a,...o){let c=t(a);return typeof c>"u"&&i&&(c=n()),e(c,...o)}return r.unwrapped=e,r}var qi=P6();function N6(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function k6({type:e,reducerName:t,createNotation:n},i,r){let a,o;if("reducer"in i){if(n&&!j6(i))throw new Error(or(17));a=i.reducer,o=i.prepare}else a=i;r.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Pr(e,o):Pr(e))}function D6(e){return e._reducerDefinitionType==="asyncThunk"}function j6(e){return e._reducerDefinitionType==="reducerWithPrepare"}function L6({type:e,reducerName:t},n,i,r){if(!r)throw new Error(or(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:d,settled:f,options:p}=n,m=r(e,a,p);i.exposeAction(t,m),o&&i.addCase(m.fulfilled,o),c&&i.addCase(m.pending,c),d&&i.addCase(m.rejected,d),f&&i.addMatcher(m.settled,f),i.exposeCaseReducer(t,{fulfilled:o||sm,pending:c||sm,rejected:d||sm,settled:f||sm})}function sm(){}var R6="task",hD="listener",fD="completed",zw="cancelled",I6=`task-${zw}`,B6=`task-${fD}`,m_=`${hD}-${zw}`,z6=`${hD}-${fD}`,rv=class{constructor(e){this.code=e,this.message=`${R6} ${zw} (reason: ${e})`}name="TaskAbortError";message},Fw=(e,t)=>{if(typeof e!="function")throw new TypeError(or(32))},Zm=()=>{},pD=(e,t=Zm)=>(e.catch(t),e),mD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ql=e=>{if(e.aborted)throw new rv(e.reason)};function gD(e,t){let n=Zm;return new Promise((i,r)=>{const a=()=>r(new rv(e.reason));if(e.aborted){a();return}n=mD(e,a),t.finally(()=>n()).then(i,r)}).finally(()=>{n=Zm})}var F6=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof rv?"cancelled":"rejected",error:n}}finally{t?.()}},Xm=e=>t=>pD(gD(e,t).then(n=>(ql(e),n))),vD=e=>{const t=Xm(e);return n=>t(new Promise(i=>setTimeout(i,n)))},{assign:gu}=Object,AO={},av="listenerMiddleware",U6=(e,t)=>{const n=i=>mD(e,()=>i.abort(e.reason));return(i,r)=>{Fw(i);const a=new AbortController;n(a);const o=F6(async()=>{ql(e),ql(a.signal);const c=await i({pause:Xm(a.signal),delay:vD(a.signal),signal:a.signal});return ql(a.signal),c},()=>a.abort(B6));return r?.autoJoin&&t.push(o.catch(Zm)),{result:Xm(e)(o),cancel(){a.abort(I6)}}}},H6=(e,t)=>{const n=async(i,r)=>{ql(t);let a=()=>{};const c=[new Promise((d,f)=>{let p=e({predicate:i,effect:(m,y)=>{y.unsubscribe(),d([m,y.getState(),y.getOriginalState()])}});a=()=>{p(),f()}})];r!=null&&c.push(new Promise(d=>setTimeout(d,r,null)));try{const d=await gD(t,Promise.race(c));return ql(t),d}finally{a()}};return(i,r)=>pD(n(i,r))},yD=e=>{let{type:t,actionCreator:n,matcher:i,predicate:r,effect:a}=e;if(t)r=Pr(t).match;else if(n)t=n.type,r=n.match;else if(i)r=i;else if(!r)throw new Error(or(21));return Fw(a),{predicate:r,type:t,effect:a}},bD=gu(e=>{const{type:t,predicate:n,effect:i}=yD(e);return{id:C6(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(or(22))}}},{withTypes:()=>bD}),SO=(e,t)=>{const{type:n,effect:i,predicate:r}=yD(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===r)&&a.effect===i)},g_=e=>{e.pending.forEach(t=>{t.abort(m_)})},$6=(e,t)=>()=>{for(const n of t.keys())g_(n);e.clear()},EO=(e,t,n)=>{try{e(t,n)}catch(i){setTimeout(()=>{throw i},0)}},xD=gu(Pr(`${av}/add`),{withTypes:()=>xD}),G6=Pr(`${av}/removeAll`),_D=gu(Pr(`${av}/remove`),{withTypes:()=>_D}),q6=(...e)=>{console.error(`${av}/error`,...e)},ef=(e={})=>{const t=new Map,n=new Map,i=b=>{const A=n.get(b)??0;n.set(b,A+1)},r=b=>{const A=n.get(b)??1;A===1?n.delete(b):n.set(b,A-1)},{extra:a,onError:o=q6}=e;Fw(o);const c=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),A=>{b.unsubscribe(),A?.cancelActive&&g_(b)}),d=b=>{const A=SO(t,b)??bD(b);return c(A)};gu(d,{withTypes:()=>d});const f=b=>{const A=SO(t,b);return A&&(A.unsubscribe(),b.cancelActive&&g_(A)),!!A};gu(f,{withTypes:()=>f});const p=async(b,A,w,C)=>{const O=new AbortController,k=H6(d,O.signal),M=[];try{b.pending.add(O),i(b),await Promise.resolve(b.effect(A,gu({},w,{getOriginalState:C,condition:(j,I)=>k(j,I).then(Boolean),take:k,delay:vD(O.signal),pause:Xm(O.signal),extra:a,signal:O.signal,fork:U6(O.signal,M),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((j,I,R)=>{j!==O&&(j.abort(m_),R.delete(j))})},cancel:()=>{O.abort(m_),b.pending.delete(O)},throwIfCancelled:()=>{ql(O.signal)}})))}catch(j){j instanceof rv||EO(o,j,{raisedBy:"effect"})}finally{await Promise.all(M),O.abort(z6),r(b),b.pending.delete(O)}},m=$6(t,n);return{middleware:b=>A=>w=>{if(!Zk(w))return A(w);if(xD.match(w))return d(w.payload);if(G6.match(w)){m();return}if(_D.match(w))return f(w.payload);let C=b.getState();const O=()=>{if(C===AO)throw new Error(or(23));return C};let k;try{if(k=A(w),t.size>0){const M=b.getState(),j=Array.from(t.values());for(const I of j){let R=!1;try{R=I.predicate(w,M,C)}catch(z){R=!1,EO(o,z,{raisedBy:"predicate"})}R&&p(I,w,b,O)}}}finally{C=AO}return k},startListening:d,stopListening:f,clearListeners:m}};function or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var V6={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wD=qi({name:"chartLayout",initialState:V6,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,i,r,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(r=t.payload.bottom)!==null&&r!==void 0?r:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:W6,setLayout:Y6,setChartSize:K6,setScale:Z6}=wD.actions,X6=wD.reducer;function AD(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Gt(e){return Number.isFinite(e)}function ka(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function CO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(n),!0).forEach(function(i){Q6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Q6(e,t,n){return(t=J6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J6(e){var t=tU(e,"string");return typeof t=="symbol"?t:t+""}function tU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ae(e,t,n){return Ke(e)||Ke(t)?n:Or(t)?Xl(e,t,n):typeof t=="function"?t(e):n}var eU=(e,t,n)=>{if(t&&n){var{width:i,height:r}=n,{align:a,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&Et(e[a]))return cu(cu({},e),{},{[a]:e[a]+(i||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&Et(e[o]))return cu(cu({},e),{},{[o]:e[o]+(r||0)})}return e},Jr=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",SD=(e,t,n,i)=>{if(i)return e.map(c=>c.coordinate);var r,a,o=e.map(c=>(c.coordinate===t&&(r=!0),c.coordinate===n&&(a=!0),c.coordinate));return r||o.push(t),a||o.push(n),o},ED=(e,t,n)=>{if(!e)return null;var{duplicateDomain:i,type:r,range:a,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:p,ticks:m,niceTicks:y,axisType:b}=e;if(!o)return null;var A=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=r==="category"&&o.bandwidth?o.bandwidth()/A:0;if(w=b==="angleAxis"&&a&&a.length>=2?Zn(a[0]-a[1])*2*w:w,m||y){var C=(m||y||[]).map((O,k)=>{var M=i?i.indexOf(O):O,j=o.map(M);return Gt(j)?{coordinate:j+w,value:O,offset:w,index:k}:null}).filter($i);return C}return d&&f?f.map((O,k)=>{var M=o.map(O);return Gt(M)?{coordinate:M+w,value:O,index:k,offset:w}:null}).filter($i):o.ticks&&p!=null?o.ticks(p).map((O,k)=>{var M=o.map(O);return Gt(M)?{coordinate:M+w,value:O,index:k,offset:w}:null}).filter($i):o.domain().map((O,k)=>{var M=o.map(O);return Gt(M)?{coordinate:M+w,value:i?i[O]:O,index:k,offset:w}:null}).filter($i)},nU=(e,t)=>{if(!t||t.length!==2||!Et(t[0])||!Et(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),r=[e[0],e[1]];return(!Et(e[0])||e[0]<n)&&(r[0]=n),(!Et(e[1])||e[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<n&&(r[1]=n),r},iU=e=>{var t,n=e.length;if(!(n<=0)){var i=(t=e[0])===null||t===void 0?void 0:t.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var a=0,o=0,c=0;c<n;++c){var d=e[c],f=d?.[r];if(f!=null){var p=f[1],m=f[0],y=Zr(p)?m:p;y>=0?(f[0]=a,a+=y,f[1]=a):(f[0]=o,o+=y,f[1]=o)}}}},rU=e=>{var t,n=e.length;if(!(n<=0)){var i=(t=e[0])===null||t===void 0?void 0:t.length;if(!(i==null||i<=0))for(var r=0;r<i;++r)for(var a=0,o=0;o<n;++o){var c=e[o],d=c?.[r];if(d!=null){var f=Zr(d[1])?d[0]:d[1];f>=0?(d[0]=a,a+=f,d[1]=a):(d[0]=0,d[1]=0)}}}},aU={sign:iU,expand:E5,none:Zl,silhouette:C5,wiggle:T5,positive:rU},sU=(e,t,n)=>{var i,r=(i=aU[n])!==null&&i!==void 0?i:Zl,a=S5().keys(t).value((c,d)=>Number(Ae(c,d,0))).order(a_).offset(r),o=a(e);return o.forEach((c,d)=>{c.forEach((f,p)=>{var m=Ae(e[p],t[d],0);Array.isArray(m)&&m.length===2&&Et(m[0])&&Et(m[1])&&(f[0]=m[0],f[1]=m[1])})}),o};function CD(e){return e==null?void 0:String(e)}function Qm(e){var{axis:t,ticks:n,bandSize:i,entry:r,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ke(r[t.dataKey])){var c=Nk(n,"value",r[t.dataKey]);if(c)return c.coordinate+i/2}return n!=null&&n[a]?n[a].coordinate+i/2:null}var d=Ae(r,Ke(o)?t.dataKey:o),f=t.scale.map(d);return Et(f)?f:null}var TO=e=>{var{axis:t,ticks:n,offset:i,bandSize:r,entry:a,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+i:null;var c=Ae(a,t.dataKey,t.scale.domain()[o]);if(Ke(c))return null;var d=t.scale.map(c);return Et(d)?d-r/2+i:null},oU=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return i<=0&&r>=0?0:r<0?r:i}return n[0]},lU=e=>{var t=e.flat(2).filter(Et);return[Math.min(...t),Math.max(...t)]},cU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],uU=(e,t,n)=>{if(e!=null)return cU(Object.keys(e).reduce((i,r)=>{var a=e[r];if(!a)return i;var{stackedData:o}=a,c=o.reduce((d,f)=>{var p=AD(f,t,n),m=lU(p);return!Gt(m[0])||!Gt(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]))},OO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Do=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var r=Zg(t,p=>p.coordinate),a=1/0,o=1,c=r.length;o<c;o++){var d=r[o],f=r[o-1];a=Math.min((d?.coordinate||0)-(f?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function MO(e){var{tooltipEntrySettings:t,dataKey:n,payload:i,value:r,name:a}=e;return cu(cu({},t),{},{dataKey:n,payload:i,value:r,name:a})}function Fo(e,t){if(e)return String(e);if(typeof t=="string")return t}var dU=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},hU=(e,t)=>t==="centric"?e.angle:e.radius,Ps=e=>e.layout.width,Ms=e=>e.layout.height,fU=e=>e.layout.scale,TD=e=>e.layout.margin,sv=it(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ov=it(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),OD="data-recharts-item-index",PD="data-recharts-item-id",nf=60;function NO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(n),!0).forEach(function(i){pU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pU(e,t,n){return(t=mU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vU=e=>e.brush.height;function yU(e){var t=ov(e);return t.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:nf;return n+r}return n},0)}function bU(e){var t=ov(e);return t.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:nf;return n+r}return n},0)}function xU(e){var t=sv(e);return t.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function _U(e){var t=sv(e);return t.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var In=it([Ps,Ms,TD,vU,yU,bU,xU,_U,Vk,Y4],(e,t,n,i,r,a,o,c,d,f)=>{var p={left:(n.left||0)+r,right:(n.right||0)+a},m={top:(n.top||0)+o,bottom:(n.bottom||0)+c},y=om(om({},m),p),b=y.bottom;y.bottom+=i,y=eU(y,d,f);var A=e-y.left-y.right,w=t-y.top-y.bottom;return om(om({brushBottom:b},y),{},{width:Math.max(A,0),height:Math.max(w,0)})}),wU=it(In,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Uw=it(Ps,Ms,(e,t)=>({x:0,y:0,width:e,height:t})),AU=P.createContext(null),Bn=()=>P.useContext(AU)!=null,lv=e=>e.brush,cv=it([lv,In,TD],(e,t,n)=>({height:e.height,x:Et(e.x)?e.x:t.left,y:Et(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Et(e.width)?e.width:t.width})),sx={},ox={},lx={},kO;function SU(){return kO||(kO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i,{signal:r,edges:a}={}){let o,c=null;const d=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),p=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},m=()=>{f&&p(),w()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},i)},A=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{A(),o=void 0,c=null},C=()=>{p()},O=function(...k){if(r?.aborted)return;o=this,c=k;const M=y==null;b(),d&&M&&p()};return O.schedule=b,O.cancel=w,O.flush=C,r?.addEventListener("abort",w,{once:!0}),O}e.debounce=t})(lx)),lx}var DO;function EU(){return DO||(DO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SU();function n(i,r=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:d}=a,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let p,m=null;const y=t.debounce(function(...w){p=i.apply(this,w),m=null},r,{edges:f}),b=function(...w){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=i.apply(this,w),m=Date.now(),y.cancel(),y.schedule(),p):(y.apply(this,w),p)},A=()=>(y.flush(),p);return b.cancel=y.cancel,b.flush=A,b}e.debounce=n})(ox)),ox}var jO;function CU(){return jO||(jO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EU();function n(i,r=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return t.debounce(i,r,{leading:o,maxWait:r,trailing:c})}e.throttle=n})(sx)),sx}var cx,LO;function TU(){return LO||(LO=1,cx=CU().throttle),cx}var OU=TU();const PU=Ia(OU);var Jm=function(t,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>r[o++]))}},Pa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},MD=(e,t,n)=>{var{width:i=Pa.width,height:r=Pa.height,aspect:a,maxHeight:o}=n,c=Ql(i)?e:Number(i),d=Ql(r)?t:Number(r);return a&&a>0&&(c?d=c/a:d&&(c=d*a),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:c,calculatedHeight:d}},MU={width:0,height:0,overflow:"visible"},NU={width:0,overflowX:"visible"},kU={height:0,overflowY:"visible"},DU={},jU=e=>{var{width:t,height:n}=e,i=Ql(t),r=Ql(n);return i&&r?MU:i?NU:r?kU:DU};function LU(e){var{width:t,height:n,aspect:i}=e,r=t,a=n;return r===void 0&&a===void 0?(r=Pa.width,a=Pa.height):r===void 0?r=i&&i>0?void 0:Pa.width:a===void 0&&(a=i&&i>0?void 0:Pa.height),{width:r,height:a}}function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v_.apply(null,arguments)}function RO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function IO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(n),!0).forEach(function(i){RU(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function RU(e,t,n){return(t=IU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IU(e){var t=BU(e,"string");return typeof t=="symbol"?t:t+""}function BU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ND=P.createContext(Pa.initialDimension);function zU(e){return ka(e.width)&&ka(e.height)}function kD(e){var{children:t,width:n,height:i}=e,r=P.useMemo(()=>({width:n,height:i}),[n,i]);return zU(r)?P.createElement(ND.Provider,{value:r},t):null}var Hw=()=>P.useContext(ND),FU=P.forwardRef((e,t)=>{var{aspect:n,initialDimension:i=Pa.initialDimension,width:r,height:a,minWidth:o=Pa.minWidth,minHeight:c,maxHeight:d,children:f,debounce:p=Pa.debounce,id:m,className:y,onResize:b,style:A={}}=e,w=P.useRef(null),C=P.useRef();C.current=b,P.useImperativeHandle(t,()=>w.current);var[O,k]=P.useState({containerWidth:i.width,containerHeight:i.height}),M=P.useCallback((H,W)=>{k(et=>{var Y=Math.round(H),q=Math.round(W);return et.containerWidth===Y&&et.containerHeight===q?et:{containerWidth:Y,containerHeight:q}})},[]);P.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return zo;var H=q=>{var yt,ct=q[0];if(ct!=null){var{width:xt,height:$}=ct.contentRect;M(xt,$),(yt=C.current)===null||yt===void 0||yt.call(C,xt,$)}};p>0&&(H=PU(H,p,{trailing:!0,leading:!1}));var W=new ResizeObserver(H),{width:et,height:Y}=w.current.getBoundingClientRect();return M(et,Y),W.observe(w.current),()=>{W.disconnect()}},[M,p]);var{containerWidth:j,containerHeight:I}=O;Jm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:z}=MD(j,I,{width:r,height:a,aspect:n,maxHeight:d});return Jm(R!=null&&R>0||z!=null&&z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,z,r,a,o,c,n),P.createElement("div",{id:m?"".concat(m):void 0,className:ce("recharts-responsive-container",y),style:IO(IO({},A),{},{width:r,height:a,minWidth:o,minHeight:c,maxHeight:d}),ref:w},P.createElement("div",{style:jU({width:r,height:a})},P.createElement(kD,{width:R,height:z},f)))}),Oa=P.forwardRef((e,t)=>{var n=Hw();if(ka(n.width)&&ka(n.height))return e.children;var{width:i,height:r}=LU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=MD(void 0,void 0,{width:i,height:r,aspect:e.aspect,maxHeight:e.maxHeight});return Et(a)&&Et(o)?P.createElement(kD,{width:a,height:o},e.children):P.createElement(FU,v_({},e,{width:i,height:r,ref:t}))});function $w(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var rf=()=>{var e,t=Bn(),n=Tt(wU),i=Tt(cv),r=(e=Tt(lv))===null||e===void 0?void 0:e.padding;return!t||!i||!r?n:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},UU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},DD=()=>{var e;return(e=Tt(In))!==null&&e!==void 0?e:UU},Gw=()=>Tt(Ps),qw=()=>Tt(Ms),HU=()=>Tt(e=>e.layout.margin),le=e=>e.layout.layoutType,Uo=()=>Tt(le),Vw=()=>{var e=Uo();if(e==="horizontal"||e==="vertical")return e},jD=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},$U=()=>{var e=Uo();return e!==void 0},af=e=>{var t=Re(),n=Bn(),{width:i,height:r}=e,a=Hw(),o=i,c=r;return a&&(o=a.width>0?a.width:i,c=a.height>0?a.height:r),P.useEffect(()=>{!n&&ka(o)&&ka(c)&&t(K6({width:o,height:c}))},[t,n,o,c]),null},LD=Symbol.for("immer-nothing"),BO=Symbol.for("immer-draftable"),lr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nh=Object.getPrototypeOf;function Cu(e){return!!e&&!!e[lr]}function tc(e){return e?RD(e)||Array.isArray(e)||!!e[BO]||!!e.constructor?.[BO]||sf(e)||dv(e):!1}var GU=Object.prototype.constructor.toString(),zO=new WeakMap;function RD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=zO.get(n);return i===void 0&&(i=Function.toString.call(n),zO.set(n,i)),i===GU}function tg(e,t,n=!0){uv(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((i,r)=>t(r,i,e))}function uv(e){const t=e[lr];return t?t.type_:Array.isArray(e)?1:sf(e)?2:dv(e)?3:0}function y_(e,t){return uv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ID(e,t,n){const i=uv(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function qU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function sf(e){return e instanceof Map}function dv(e){return e instanceof Set}function Ll(e){return e.copy_||e.base_}function b_(e,t){if(sf(e))return new Map(e);if(dv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=RD(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[lr];let r=Reflect.ownKeys(i);for(let a=0;a<r.length;a++){const o=r[a],c=i[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Nh(e),i)}else{const i=Nh(e);if(i!==null&&n)return{...e};const r=Object.create(i);return Object.assign(r,e)}}function Ww(e,t=!1){return hv(e)||Cu(e)||!tc(e)||(uv(e)>1&&Object.defineProperties(e,{set:lm,add:lm,clear:lm,delete:lm}),Object.freeze(e),t&&Object.values(e).forEach(n=>Ww(n,!0))),e}function VU(){Vr(2)}var lm={value:VU};function hv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WU={};function ec(e){const t=WU[e];return t||Vr(0,e),t}var kh;function BD(){return kh}function YU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FO(e,t){t&&(ec("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function x_(e){__(e),e.drafts_.forEach(KU),e.drafts_=null}function __(e){e===kh&&(kh=e.parent_)}function UO(e){return kh=YU(kh,e)}function KU(e){const t=e[lr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[lr].modified_&&(x_(t),Vr(4)),tc(e)&&(e=eg(t,e),t.parent_||ng(t,e)),t.patches_&&ec("Patches").generateReplacementPatches_(n[lr].base_,e,t.patches_,t.inversePatches_)):e=eg(t,n,[]),x_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==LD?e:void 0}function eg(e,t,n){if(hv(t))return t;const i=e.immer_.shouldUseStrictIteration(),r=t[lr];if(!r)return tg(t,(a,o)=>$O(e,r,t,a,o,n),i),t;if(r.scope_!==e)return t;if(!r.modified_)return ng(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let o=a,c=!1;r.type_===3&&(o=new Set(a),a.clear(),c=!0),tg(o,(d,f)=>$O(e,r,a,d,f,n,c),i),ng(e,a,!1),n&&e.patches_&&ec("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function $O(e,t,n,i,r,a,o){if(r==null||typeof r!="object"&&!o)return;const c=hv(r);if(!(c&&!o)){if(Cu(r)){const d=a&&t&&t.type_!==3&&!y_(t.assigned_,i)?a.concat(i):void 0,f=eg(e,r,d);if(ID(n,i,f),Cu(f))e.canAutoFreeze_=!1;else return}else o&&n.add(r);if(tc(r)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[i]===r&&c)return;eg(e,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(sf(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&ng(e,r)}}}function ng(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ww(t,n)}function ZU(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:BD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=Yw;n&&(r=[i],a=Dh);const{revoke:o,proxy:c}=Proxy.revocable(r,a);return i.draft_=c,i.revoke_=o,c}var Yw={get(e,t){if(t===lr)return e;const n=Ll(e);if(!y_(n,t))return XU(e,n,t);const i=n[t];return e.finalized_||!tc(i)?i:i===ux(e.base_,t)?(dx(e),e.copy_[t]=A_(i,e)):i},has(e,t){return t in Ll(e)},ownKeys(e){return Reflect.ownKeys(Ll(e))},set(e,t,n){const i=zD(Ll(e),t);if(i?.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const r=ux(Ll(e),t),a=r?.[lr];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(qU(n,r)&&(n!==void 0||y_(e.base_,t)))return!0;dx(e),w_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ux(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dx(e),w_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ll(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Nh(e.base_)},setPrototypeOf(){Vr(12)}},Dh={};tg(Yw,(e,t)=>{Dh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Dh.deleteProperty=function(e,t){return Dh.set.call(this,e,t,void 0)};Dh.set=function(e,t,n){return Yw.set.call(this,e[0],t,n,e[0])};function ux(e,t){const n=e[lr];return(n?Ll(n):e)[t]}function XU(e,t,n){const i=zD(t,n);return i?"value"in i?i.value:i.get?.call(e.draft_):void 0}function zD(e,t){if(!(t in e))return;let n=Nh(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=Nh(n)}}function w_(e){e.modified_||(e.modified_=!0,e.parent_&&w_(e.parent_))}function dx(e){e.copy_||(e.copy_=b_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(d=a,...f){return o.produce(d,p=>n.call(this,p,...f))}}typeof n!="function"&&Vr(6),i!==void 0&&typeof i!="function"&&Vr(7);let r;if(tc(t)){const a=UO(this),o=A_(t,void 0);let c=!0;try{r=n(o),c=!1}finally{c?x_(a):__(a)}return FO(a,i),HO(r,a)}else if(!t||typeof t!="object"){if(r=n(t),r===void 0&&(r=t),r===LD&&(r=void 0),this.autoFreeze_&&Ww(r,!0),i){const a=[],o=[];ec("Patches").generateReplacementPatches_(t,r,a,o),i(a,o)}return r}else Vr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,d=>t(d,...c));let i,r;return[this.produce(t,n,(o,c)=>{i=o,r=c}),i,r]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){tc(e)||Vr(8),Cu(e)&&(e=JU(e));const t=UO(this),n=A_(e,void 0);return n[lr].isManual_=!0,__(t),n}finishDraft(e,t){const n=e&&e[lr];(!n||!n.isManual_)&&Vr(9);const{scope_:i}=n;return FO(i,t),HO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(r.path.length===0&&r.op==="replace"){e=r.value;break}}n>-1&&(t=t.slice(n+1));const i=ec("Patches").applyPatches_;return Cu(e)?i(e,t):this.produce(e,r=>i(r,t))}};function A_(e,t){const n=sf(e)?ec("MapSet").proxyMap_(e,t):dv(e)?ec("MapSet").proxySet_(e,t):ZU(e,t);return(t?t.scope_:BD()).drafts_.push(n),n}function JU(e){return Cu(e)||Vr(10,e),FD(e)}function FD(e){if(!tc(e)||hv(e))return e;const t=e[lr];let n,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=b_(e,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else n=b_(e,!0);return tg(n,(r,a)=>{ID(n,r,FD(a))},i),t&&(t.finalized_=!1),n}var tH=new QU;tH.produce;var eH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},UD=qi({name:"legend",initialState:eH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:We()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:i}=t.payload,r=Kr(e).payload.indexOf(n);r>-1&&(e.payload[r]=i)},prepare:We()},removeLegendPayload:{reducer(e,t){var n=Kr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:We()}}}),{setLegendSize:GO,setLegendSettings:nH,addLegendPayload:HD,replaceLegendPayload:$D,removeLegendPayload:GD}=UD.actions,iH=UD.reducer,rH=["contextPayload"];function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},S_.apply(null,arguments)}function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(i){aH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function aH(e,t,n){return(t=sH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e){var t=oH(e,"string");return typeof t=="symbol"?t:t+""}function oH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lH(e,t){if(e==null)return{};var n,i,r=cH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function uH(e){return e.value}function dH(e){var{contextPayload:t}=e,n=lH(e,rH),i=Hk(t,e.payloadUniqBy,uH),r=Tu(Tu({},n),{},{payload:i});return P.isValidElement(e.content)?P.cloneElement(e.content,r):typeof e.content=="function"?P.createElement(e.content,r):P.createElement(n4,r)}function hH(e,t,n,i,r,a){var{layout:o,align:c,verticalAlign:d}=t,f,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&o==="vertical"?f={left:((i||0)-a.width)/2}:f=c==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?p={top:((r||0)-a.height)/2}:p=d==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Tu(Tu({},f),p)}function fH(e){var t=Re();return P.useEffect(()=>{t(nH(e))},[t,e]),null}function pH(e){var t=Re();return P.useEffect(()=>(t(GO(e)),()=>{t(GO({width:0,height:0}))}),[t,e]),null}function mH(e,t,n,i){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||i}:null}var gH={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Kw(e){var t=tn(e,gH),n=X4(),i=YF(),r=HU(),{width:a,height:o,wrapperStyle:c,portal:d}=t,[f,p]=Wk([n]),m=Gw(),y=qw();if(m==null||y==null)return null;var b=m-(r?.left||0)-(r?.right||0),A=mH(t.layout,o,a,b),w=d?c:Tu(Tu({position:"absolute",width:A?.width||a||"auto",height:A?.height||o||"auto"},hH(c,t,r,m,y,f)),c),C=d??i;if(C==null||n==null)return null;var O=P.createElement("div",{className:"recharts-legend-wrapper",style:w,ref:p},P.createElement(fH,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&P.createElement(pH,{width:f.width,height:f.height}),P.createElement(dH,S_({},t,A,{margin:r,chartWidth:m,chartHeight:y,contextPayload:n})));return Ug.createPortal(O,C)}Kw.displayName="Legend";function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},E_.apply(null,arguments)}function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(n),!0).forEach(function(i){vH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vH(e,t,n){return(t=yH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e){var t=bH(e,"string");return typeof t=="symbol"?t:t+""}function bH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xH(e){return Array.isArray(e)&&Or(e[0])&&Or(e[1])?e.join(" ~ "):e}var tu={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},_H=e=>{var{separator:t=tu.separator,contentStyle:n,itemStyle:i,labelStyle:r=tu.labelStyle,payload:a,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:f,label:p,labelFormatter:m,accessibilityLayer:y=tu.accessibilityLayer}=e,b=()=>{if(a&&a.length){var I={padding:0,margin:0},R=(c?Zg(a,c):a).map((z,H)=>{if(z.type==="none")return null;var W=z.formatter||o||xH,{value:et,name:Y}=z,q=et,yt=Y;if(W){var ct=W(et,Y,z,H,a);if(Array.isArray(ct))[q,yt]=ct;else if(ct!=null)q=ct;else return null}var xt=nh(nh({},tu.itemStyle),{},{color:z.color||tu.itemStyle.color},i);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:xt},Or(yt)?P.createElement("span",{className:"recharts-tooltip-item-name"},yt):null,Or(yt)?P.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,P.createElement("span",{className:"recharts-tooltip-item-value"},q),P.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:I},R)}return null},A=nh(nh({},tu.contentStyle),n),w=nh({margin:0},r),C=!Ke(p),O=C?p:"",k=ce("recharts-default-tooltip",d),M=ce("recharts-tooltip-label",f);C&&m&&a!==void 0&&a!==null&&(O=m(p,a));var j=y?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",E_({className:k,style:A},j),P.createElement("p",{className:M,style:w},P.isValidElement(O)?O:"".concat(O)),b())},ih="recharts-tooltip-wrapper",wH={visibility:"hidden"};function AH(e){var{coordinate:t,translateX:n,translateY:i}=e;return ce(ih,{["".concat(ih,"-right")]:Et(n)&&t&&Et(t.x)&&n>=t.x,["".concat(ih,"-left")]:Et(n)&&t&&Et(t.x)&&n<t.x,["".concat(ih,"-bottom")]:Et(i)&&t&&Et(t.y)&&i>=t.y,["".concat(ih,"-top")]:Et(i)&&t&&Et(t.y)&&i<t.y})}function WO(e){var{allowEscapeViewBox:t,coordinate:n,key:i,offset:r,position:a,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(a&&Et(a[i]))return a[i];var p=n[i]-c-(r>0?r:0),m=n[i]+r;if(t[i])return o[i]?p:m;var y=d[i];if(y==null)return 0;if(o[i]){var b=p,A=y;return b<A?Math.max(m,y):Math.max(p,y)}if(f==null)return 0;var w=m+c,C=y+f;return w>C?Math.max(p,y):Math.max(m,y)}function SH(e){var{translateX:t,translateY:n,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function EH(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:i,offsetLeft:r,position:a,reverseDirection:o,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,p,m,y;return c.height>0&&c.width>0&&n?(m=WO({allowEscapeViewBox:t,coordinate:n,key:"x",offset:r,position:a,reverseDirection:o,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),y=WO({allowEscapeViewBox:t,coordinate:n,key:"y",offset:i,position:a,reverseDirection:o,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),p=SH({translateX:m,translateY:y,useTranslate3d:d})):p=wH,{cssProperties:p,cssClasses:AH({translateX:m,translateY:y,coordinate:n})}}function YO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function cm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(n),!0).forEach(function(i){C_(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function C_(e,t,n){return(t=CH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class OH extends P.PureComponent{constructor(){super(...arguments),C_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),C_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,i,r,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:r,children:a,coordinate:o,hasPayload:c,isAnimationActive:d,offset:f,position:p,reverseDirection:m,useTranslate3d:y,viewBox:b,wrapperStyle:A,lastBoundingBox:w,innerRef:C,hasPortalFromProps:O}=this.props,k=typeof f=="number"?f:f.x,M=typeof f=="number"?f:f.y,{cssClasses:j,cssProperties:I}=EH({allowEscapeViewBox:n,coordinate:o,offsetLeft:k,offsetTop:M,position:p,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:b}),R=O?{}:cm(cm({transition:d&&t?"transform ".concat(i,"ms ").concat(r):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),z=cm(cm({},R),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},A);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:z,ref:C},a)}}var qD=()=>{var e;return(e=Tt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},T_.apply(null,arguments)}function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ZO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(i){PH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function PH(e,t,n){return(t=MH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XO={curveBasisClosed:f5,curveBasisOpen:p5,curveBasis:h5,curveBumpX:QF,curveBumpY:JF,curveLinearClosed:m5,curveLinear:Yg,curveMonotoneX:g5,curveMonotoneY:v5,curveNatural:y5,curveStep:b5,curveStepAfter:_5,curveStepBefore:x5},ig=e=>Gt(e.x)&&Gt(e.y),QO=e=>e.base!=null&&ig(e.base)&&ig(e),rh=e=>e.x,ah=e=>e.y,kH=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Qh(e));if((n==="curveMonotone"||n==="curveBump")&&t){var i=XO["".concat(n).concat(t==="vertical"?"Y":"X")];if(i)return i}return XO[n]||Yg},JO={connectNulls:!1,type:"linear"},DH=e=>{var{type:t=JO.type,points:n=[],baseLine:i,layout:r,connectNulls:a=JO.connectNulls}=e,o=kH(t,r),c=a?n.filter(ig):n;if(Array.isArray(i)){var d,f=n.map((A,w)=>ZO(ZO({},A),{},{base:i[w]}));r==="vertical"?d=em().y(ah).x1(rh).x0(A=>A.base.x):d=em().x(rh).y1(ah).y0(A=>A.base.y);var p=d.defined(QO).curve(o),m=a?f.filter(QO):f;return p(m)}var y;r==="vertical"&&Et(i)?y=em().y(ah).x1(rh).x0(i):Et(i)?y=em().x(rh).y1(ah).y0(i):y=yk().x(rh).y(ah);var b=y.defined(ig).curve(o);return b(c)},vu=e=>{var{className:t,points:n,path:i,pathRef:r}=e,a=Uo();if((!n||!n.length)&&!i)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},c=n&&n.length?DH(o):i;return P.createElement("path",T_({},Ci(e),Nw(e),{className:ce("recharts-curve",t),d:c===null?void 0:c,ref:r}))},jH=["x","y","top","left","width","height","className"];function O_(){return O_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O_.apply(null,arguments)}function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function LH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(i){RH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function RH(e,t,n){return(t=IH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=BH(e,"string");return typeof t=="symbol"?t:t+""}function BH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zH(e,t){if(e==null)return{};var n,i,r=FH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FH(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var UH=(e,t,n,i,r,a)=>"M".concat(e,",").concat(r,"v").concat(i,"M").concat(a,",").concat(t,"h").concat(n),HH=e=>{var{x:t=0,y:n=0,top:i=0,left:r=0,width:a=0,height:o=0,className:c}=e,d=zH(e,jH),f=LH({x:t,y:n,top:i,left:r,width:a,height:o},d);return!Et(t)||!Et(n)||!Et(a)||!Et(o)||!Et(i)||!Et(r)?null:P.createElement("path",O_({},ci(f),{className:ce("recharts-cross",c),d:UH(t,n,a,o,i,r)}))};function $H(e,t,n,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-r:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-r,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function nP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(i){GH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function GH(e,t,n){return(t=qH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t=VH(e,"string");return typeof t=="symbol"?t:t+""}function VH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WH=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),VD=(e,t,n)=>e.map(i=>"".concat(WH(i)," ").concat(t,"ms ").concat(n)).join(","),YH=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,i)=>n.filter(r=>i.includes(r))),jh=(e,t)=>Object.keys(t).reduce((n,i)=>nP(nP({},n),{},{[i]:e(i,t[i])}),{});function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(i){KH(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function KH(e,t,n){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZH(e){var t=XH(e,"string");return typeof t=="symbol"?t:t+""}function XH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rg=(e,t,n)=>e+(t-e)*n,P_=e=>{var{from:t,to:n}=e;return t!==n},WD=(e,t,n)=>{var i=jh((r,a)=>{if(P_(a)){var[o,c]=e(a.from,a.to,a.velocity);return Ln(Ln({},a),{},{from:o,velocity:c})}return a},t);return n<1?jh((r,a)=>P_(a)&&i[r]!=null?Ln(Ln({},a),{},{velocity:rg(a.velocity,i[r].velocity,n),from:rg(a.from,i[r].from,n)}):a,t):WD(e,i,n-1)};function QH(e,t,n,i,r,a){var o,c=i.reduce((y,b)=>Ln(Ln({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>jh((y,b)=>b.from,c),f=()=>!Object.values(c).filter(P_).length,p=null,m=y=>{o||(o=y);var b=y-o,A=b/n.dt;c=WD(n,c,A),r(Ln(Ln(Ln({},e),t),d())),o=y,f()||(p=a.setTimeout(m))};return()=>(p=a.setTimeout(m),()=>{var y;(y=p)===null||y===void 0||y()})}function JH(e,t,n,i,r,a,o){var c=null,d=r.reduce((m,y)=>{var b=e[y],A=t[y];return b==null||A==null?m:Ln(Ln({},m),{},{[y]:[b,A]})},{}),f,p=m=>{f||(f=m);var y=(m-f)/i,b=jh((w,C)=>rg(...C,n(y)),d);if(a(Ln(Ln(Ln({},e),t),b)),y<1)c=o.setTimeout(p);else{var A=jh((w,C)=>rg(...C,n(1)),d);a(Ln(Ln(Ln({},e),t),A))}};return()=>(c=o.setTimeout(p),()=>{var m;(m=c)===null||m===void 0||m()})}const t8=(e,t,n,i,r,a)=>{var o=YH(e,t);return n==null?()=>(r(Ln(Ln({},e),t)),()=>{}):n.isStepper===!0?QH(e,t,n,o,r,a):JH(e,t,n,i,o,r,a)};var ag=1e-4,YD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KD=(e,t)=>e.map((n,i)=>n*t**i).reduce((n,i)=>n+i),rP=(e,t)=>n=>{var i=YD(e,t);return KD(i,n)},e8=(e,t)=>n=>{var i=YD(e,t),r=[...i.map((a,o)=>a*o).slice(1),0];return KD(r,n)},n8=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var i=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(i==null||i.length!==4)return null;var r=i.map(a=>parseFloat(a));return[r[0],r[1],r[2],r[3]]},i8=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=n8(n[0]);if(r)return r}}return n.length===4?n:[0,0,1,1]},r8=(e,t,n,i)=>{var r=rP(e,n),a=rP(t,i),o=e8(e,n),c=f=>f>1?1:f<0?0:f,d=f=>{for(var p=f>1?1:f,m=p,y=0;y<8;++y){var b=r(m)-p,A=o(m);if(Math.abs(b-p)<ag||A<ag)return a(m);m=c(m-b/A)}return a(m)};return d.isStepper=!1,d},aP=function(){return r8(...i8(...arguments))},a8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:r=17}=t,a=(o,c,d)=>{var f=-(o-c)*n,p=d*i,m=d+(f-p)*r/1e3,y=d*r/1e3+o;return Math.abs(y-c)<ag&&Math.abs(m)<ag?[c,0]:[y,m]};return a.isStepper=!0,a.dt=r,a},s8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aP(e);case"spring":return a8();default:if(e.split("(")[0]==="cubic-bezier")return aP(e)}return typeof e=="function"?e:null};function o8(e){var t,n=()=>null,i=!1,r=null,a=o=>{if(!i){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...f]=c;if(typeof d=="number"){r=e.setTimeout(a.bind(null,f),d);return}a(d),r=e.setTimeout(a.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{i=!0},start:o=>{i=!1,r&&(r(),r=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class l8{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,a=o=>{o-i>=n?t(o):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(a))};return r=requestAnimationFrame(a),()=>{r!=null&&cancelAnimationFrame(r)}}}function c8(){return o8(new l8)}var u8=P.createContext(c8);function d8(e,t){var n=P.useContext(u8);return P.useMemo(()=>t??n(e),[e,t,n])}var h8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),of={isSsr:h8()},f8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sP={t:0},hx={t:1};function Lu(e){var t=tn(e,f8),{isActive:n,canBegin:i,duration:r,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:d,children:f}=t,p=n==="auto"?!of.isSsr:n,m=d8(t.animationId,t.animationManager),[y,b]=P.useState(p?sP:hx),A=P.useRef(null);return P.useEffect(()=>{p||b(hx)},[p]),P.useEffect(()=>{if(!p||!i)return zo;var w=t8(sP,hx,s8(a),r,b,m.getTimeoutController()),C=()=>{A.current=w()};return m.start([d,o,C,r,c]),()=>{m.stop(),A.current&&A.current(),c()}},[p,i,r,a,o,d,c,m]),f(y.t)}function Ru(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(Th(t)),i=P.useRef(e);return i.current!==e&&(n.current=Th(t),i.current=e),n.current}var p8=["radius"],m8=["radius"],oP,lP,cP,uP,dP,hP,fP,pP,mP,gP;function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function yP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(i){g8(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function g8(e,t,n){return(t=v8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v8(e){var t=y8(e,"string");return typeof t=="symbol"?t:t+""}function y8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sg.apply(null,arguments)}function bP(e,t){if(e==null)return{};var n,i,r=b8(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b8(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ba(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xP=(e,t,n,i,r)=>{var a=Co(n),o=Co(i),c=Math.min(Math.abs(a)/2,Math.abs(o)/2),d=o>=0?1:-1,f=a>=0?1:-1,p=o>=0&&a>=0||o<0&&a<0?1:0,m;if(c>0&&Array.isArray(r)){for(var y=[0,0,0,0],b=0,A=4;b<A;b++){var w,C=(w=r[b])!==null&&w!==void 0?w:0;y[b]=C>c?c:C}m=cn(oP||(oP=ba(["M",",",""])),e,t+d*y[0]),y[0]>0&&(m+=cn(lP||(lP=ba(["A ",",",",0,0,",",",",",""])),y[0],y[0],p,e+f*y[0],t)),m+=cn(cP||(cP=ba(["L ",",",""])),e+n-f*y[1],t),y[1]>0&&(m+=cn(uP||(uP=ba(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],p,e+n,t+d*y[1])),m+=cn(dP||(dP=ba(["L ",",",""])),e+n,t+i-d*y[2]),y[2]>0&&(m+=cn(hP||(hP=ba(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],p,e+n-f*y[2],t+i)),m+=cn(fP||(fP=ba(["L ",",",""])),e+f*y[3],t+i),y[3]>0&&(m+=cn(pP||(pP=ba(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],p,e,t+i-d*y[3])),m+="Z"}else if(c>0&&r===+r&&r>0){var O=Math.min(c,r);m=cn(mP||(mP=ba(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*O,O,O,p,e+f*O,t,e+n-f*O,t,O,O,p,e+n,t+d*O,e+n,t+i-d*O,O,O,p,e+n-f*O,t+i,e+f*O,t+i,O,O,p,e,t+i-d*O)}else m=cn(gP||(gP=ba(["M ",","," h "," v "," h "," Z"])),e,t,n,i,-n);return m},_P={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZD=e=>{var t=tn(e,_P),n=P.useRef(null),[i,r]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Q=n.current.getTotalLength();Q&&r(Q)}catch{}},[]);var{x:a,y:o,width:c,height:d,radius:f,className:p}=t,{animationEasing:m,animationDuration:y,animationBegin:b,isAnimationActive:A,isUpdateAnimationActive:w}=t,C=P.useRef(c),O=P.useRef(d),k=P.useRef(a),M=P.useRef(o),j=P.useMemo(()=>({x:a,y:o,width:c,height:d,radius:f}),[a,o,c,d,f]),I=Ru(j,"rectangle-");if(a!==+a||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var R=ce("recharts-rectangle",p);if(!w){var z=ci(t),{radius:H}=z,W=bP(z,p8);return P.createElement("path",sg({},W,{x:Co(a),y:Co(o),width:Co(c),height:Co(d),radius:typeof f=="number"?f:void 0,className:R,d:xP(a,o,c,d,f)}))}var et=C.current,Y=O.current,q=k.current,yt=M.current,ct="0px ".concat(i===-1?1:i,"px"),xt="".concat(i,"px 0px"),$=VD(["strokeDasharray"],y,typeof m=="string"?m:_P.animationEasing);return P.createElement(Lu,{animationId:I,key:I,canBegin:i>0,duration:y,easing:m,isActive:w,begin:b},Q=>{var nt=we(et,c,Q),bt=we(Y,d,Q),Z=we(q,a,Q),U=we(yt,o,Q);n.current&&(C.current=nt,O.current=bt,k.current=Z,M.current=U);var X;A?Q>0?X={transition:$,strokeDasharray:xt}:X={strokeDasharray:ct}:X={strokeDasharray:xt};var ut=ci(t),{radius:gt}=ut,_t=bP(ut,m8);return P.createElement("path",sg({},_t,{radius:typeof f=="number"?f:void 0,className:R,d:xP(Z,U,nt,bt,f),ref:n,style:yP(yP({},X),t.style)}))})};function wP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function AP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(n),!0).forEach(function(i){x8(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wP(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function x8(e,t,n){return(t=_8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _8(e){var t=w8(e,"string");return typeof t=="symbol"?t:t+""}function w8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var og=Math.PI/180,A8=e=>e*180/Math.PI,On=(e,t,n,i)=>({x:e+Math.cos(-og*i)*n,y:t+Math.sin(-og*i)*n}),XD=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},S8=(e,t)=>{var{x:n,y:i}=e,{x:r,y:a}=t;return Math.sqrt((n-r)**2+(i-a)**2)},E8=(e,t)=>{var{x:n,y:i}=e,{cx:r,cy:a}=t,o=S8({x:n,y:i},{x:r,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-r)/o,d=Math.acos(c);return i>a&&(d=2*Math.PI-d),{radius:o,angle:A8(d),angleInRadian:d}},C8=e=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),r=Math.floor(n/360),a=Math.min(i,r);return{startAngle:t-a*360,endAngle:n-a*360}},T8=(e,t)=>{var{startAngle:n,endAngle:i}=t,r=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(r,a);return e+o*360},O8=(e,t)=>{var{chartX:n,chartY:i}=e,{radius:r,angle:a}=E8({x:n,y:i},t),{innerRadius:o,outerRadius:c}=t;if(r<o||r>c||r===0)return null;var{startAngle:d,endAngle:f}=C8(t),p=a,m;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=d}return m?AP(AP({},t),{},{radius:r,angle:T8(p,t)}):null};function QD(e){var{cx:t,cy:n,radius:i,startAngle:r,endAngle:a}=e,o=On(t,n,i,r),c=On(t,n,i,a);return{points:[o,c],cx:t,cy:n,radius:i,startAngle:r,endAngle:a}}var SP,EP,CP,TP,OP,PP,MP;function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},M_.apply(null,arguments)}function Il(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P8=(e,t)=>{var n=Zn(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},um=e=>{var{cx:t,cy:n,radius:i,angle:r,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:d}=e,f=c*(o?1:-1)+i,p=Math.asin(c/f)/og,m=d?r:r+a*p,y=On(t,n,f,m),b=On(t,n,i,m),A=d?r-a*p:r,w=On(t,n,f*Math.cos(p*og),A);return{center:y,circleTangency:b,lineTangency:w,theta:p}},JD=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:r,startAngle:a,endAngle:o}=e,c=P8(a,o),d=a+c,f=On(t,n,r,a),p=On(t,n,r,d),m=cn(SP||(SP=Il(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,r,r,+(Math.abs(c)>180),+(a>d),p.x,p.y);if(i>0){var y=On(t,n,i,a),b=On(t,n,i,d);m+=cn(EP||(EP=Il(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,i,i,+(Math.abs(c)>180),+(a<=d),y.x,y.y)}else m+=cn(CP||(CP=Il(["L ",","," Z"])),t,n);return m},M8=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:r,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}=e,p=Zn(f-d),{circleTangency:m,lineTangency:y,theta:b}=um({cx:t,cy:n,radius:r,angle:d,sign:p,cornerRadius:a,cornerIsExternal:c}),{circleTangency:A,lineTangency:w,theta:C}=um({cx:t,cy:n,radius:r,angle:f,sign:-p,cornerRadius:a,cornerIsExternal:c}),O=c?Math.abs(d-f):Math.abs(d-f)-b-C;if(O<0)return o?cn(TP||(TP=Il(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,a,a,a*2,a,a,-a*2):JD({cx:t,cy:n,innerRadius:i,outerRadius:r,startAngle:d,endAngle:f});var k=cn(OP||(OP=Il(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,a,a,+(p<0),m.x,m.y,r,r,+(O>180),+(p<0),A.x,A.y,a,a,+(p<0),w.x,w.y);if(i>0){var{circleTangency:M,lineTangency:j,theta:I}=um({cx:t,cy:n,radius:i,angle:d,sign:p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:R,lineTangency:z,theta:H}=um({cx:t,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),W=c?Math.abs(d-f):Math.abs(d-f)-I-H;if(W<0&&a===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=cn(PP||(PP=Il(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),z.x,z.y,a,a,+(p<0),R.x,R.y,i,i,+(W>180),+(p>0),M.x,M.y,a,a,+(p<0),j.x,j.y)}else k+=cn(MP||(MP=Il(["L",",","Z"])),t,n);return k},N8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tj=e=>{var t=tn(e,N8),{cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p,className:m}=t;if(a<r||f===p)return null;var y=ce("recharts-sector",m),b=a-r,A=mi(o,b,0,!0),w;return A>0&&Math.abs(f-p)<360?w=M8({cx:n,cy:i,innerRadius:r,outerRadius:a,cornerRadius:Math.min(A,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:p}):w=JD({cx:n,cy:i,innerRadius:r,outerRadius:a,startAngle:f,endAngle:p}),P.createElement("path",M_({},ci(t),{className:y,d:w}))};function k8(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(Dk(t)){if(e==="centric"){var{cx:i,cy:r,innerRadius:a,outerRadius:o,angle:c}=t,d=On(i,r,a,c),f=On(i,r,o,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return QD(t)}}var fx={},px={},mx={},NP;function D8(){return NP||(NP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk();function n(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=n})(mx)),mx}var kP;function j8(){return kP||(kP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D8();function n(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=n})(px)),px}var DP;function L8(){return DP||(DP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk(),n=j8();function i(r,a,o){o&&typeof o!="number"&&t.isIterateeCall(r,a,o)&&(a=o=void 0),r=n.toFinite(r),a===void 0?(a=r,r=0):a=n.toFinite(a),o=o===void 0?r<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-r)/(o||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=r,r+=o;return d}e.range=i})(fx)),fx}var gx,jP;function R8(){return jP||(jP=1,gx=L8().range),gx}var I8=R8();const ej=Ia(I8);function No(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zw(e){let t,n,i;e.length!==2?(t=No,n=(c,d)=>No(e(c),d),i=(c,d)=>e(c)-d):(t=e===No||e===B8?e:z8,n=e,i=e);function r(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<0?f=m+1:p=m}while(f<p)}return f}function a(c,d,f=0,p=c.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;n(c[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function o(c,d,f=0,p=c.length){const m=r(c,d,f,p-1);return m>f&&i(c[m-1],d)>-i(c[m],d)?m-1:m}return{left:r,center:o,right:a}}function z8(){return 0}function nj(e){return e===null?NaN:+e}function*F8(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const U8=Zw(No),lf=U8.right;Zw(nj).center;class LP extends Map{constructor(t,n=G8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,r]of t)this.set(i,r)}get(t){return super.get(RP(this,t))}has(t){return super.has(RP(this,t))}set(t,n){return super.set(H8(this,t),n)}delete(t){return super.delete($8(this,t))}}function RP({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function H8({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function $8({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function G8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function q8(e=No){if(e===No)return ij;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function ij(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const V8=Math.sqrt(50),W8=Math.sqrt(10),Y8=Math.sqrt(2);function lg(e,t,n){const i=(t-e)/Math.max(0,n),r=Math.floor(Math.log10(i)),a=i/Math.pow(10,r),o=a>=V8?10:a>=W8?5:a>=Y8?2:1;let c,d,f;return r<0?(f=Math.pow(10,-r)/o,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,r)*o,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=n&&n<2?lg(e,t,n*2):[c,d,f]}function N_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[r,a,o]=i?lg(t,e,n):lg(e,t,n);if(!(a>=r))return[];const c=a-r+1,d=new Array(c);if(i)if(o<0)for(let f=0;f<c;++f)d[f]=(a-f)/-o;else for(let f=0;f<c;++f)d[f]=(a-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(r+f)/-o;else for(let f=0;f<c;++f)d[f]=(r+f)*o;return d}function k_(e,t,n){return t=+t,e=+e,n=+n,lg(e,t,n)[2]}function D_(e,t,n){t=+t,e=+e,n=+n;const i=t<e,r=i?k_(t,e,n):k_(e,t,n);return(i?-1:1)*(r<0?1/-r:r)}function IP(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function BP(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function rj(e,t,n=0,i=1/0,r){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(r=r===void 0?ij:q8(r);i>n;){if(i-n>600){const d=i-n+1,f=t-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),b=Math.max(n,Math.floor(t-f*m/d+y)),A=Math.min(i,Math.floor(t+(d-f)*m/d+y));rj(e,t,b,A,r)}const a=e[t];let o=n,c=i;for(sh(e,n,t),r(e[i],a)>0&&sh(e,n,i);o<c;){for(sh(e,o,c),++o,--c;r(e[o],a)<0;)++o;for(;r(e[c],a)>0;)--c}r(e[n],a)===0?sh(e,n,c):(++c,sh(e,c,i)),c<=t&&(n=c+1),t<=c&&(i=c-1)}return e}function sh(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function K8(e,t,n){if(e=Float64Array.from(F8(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return BP(e);if(t>=1)return IP(e);var i,r=(i-1)*t,a=Math.floor(r),o=IP(rj(e,a).subarray(0,a+1)),c=BP(e.subarray(a+1));return o+(c-o)*(r-a)}}function Z8(e,t,n=nj){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,a=Math.floor(r),o=+n(e[a],a,e),c=+n(e[a+1],a+1,e);return o+(c-o)*(r-a)}}function X8(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(r);++i<r;)a[i]=e+i*n;return a}function kr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ns(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const j_=Symbol("implicit");function Xw(){var e=new LP,t=[],n=[],i=j_;function r(a){let o=e.get(a);if(o===void 0){if(i!==j_)return i;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return r.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new LP;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return r},r.range=function(a){return arguments.length?(n=Array.from(a),r):n.slice()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return Xw(t,n).unknown(i)},kr.apply(r,arguments),r}function Qw(){var e=Xw().unknown(void 0),t=e.domain,n=e.range,i=0,r=1,a,o,c=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var y=t().length,b=r<i,A=b?r:i,w=b?i:r;a=(w-A)/Math.max(1,y-d+f*2),c&&(a=Math.floor(a)),A+=(w-A-a*(y-d))*p,o=a*(1-d),c&&(A=Math.round(A),o=Math.round(o));var C=X8(y).map(function(O){return A+a*O});return n(b?C.reverse():C)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([i,r]=y,i=+i,r=+r,m()):[i,r]},e.rangeRound=function(y){return[i,r]=y,i=+i,r=+r,c=!0,m()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(y){return arguments.length?(c=!!y,m()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),m()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},e.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),m()):p},e.copy=function(){return Qw(t(),[i,r]).round(c).paddingInner(d).paddingOuter(f).align(p)},kr.apply(m(),arguments)}function aj(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aj(t())},e}function Q8(){return aj(Qw.apply(null,arguments).paddingInner(1))}function Jw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sj(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function cf(){}var Lh=.7,cg=1/Lh,yu="\\s*([+-]?\\d+)\\s*",Rh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J8=/^#([0-9a-f]{3,8})$/,t$=new RegExp(`^rgb\\(${yu},${yu},${yu}\\)$`),e$=new RegExp(`^rgb\\(${Na},${Na},${Na}\\)$`),n$=new RegExp(`^rgba\\(${yu},${yu},${yu},${Rh}\\)$`),i$=new RegExp(`^rgba\\(${Na},${Na},${Na},${Rh}\\)$`),r$=new RegExp(`^hsl\\(${Rh},${Na},${Na}\\)$`),a$=new RegExp(`^hsla\\(${Rh},${Na},${Na},${Rh}\\)$`),zP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jw(cf,Ih,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:FP,formatHex:FP,formatHex8:s$,formatHsl:o$,formatRgb:UP,toString:UP});function FP(){return this.rgb().formatHex()}function s$(){return this.rgb().formatHex8()}function o$(){return oj(this).formatHsl()}function UP(){return this.rgb().formatRgb()}function Ih(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=J8.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?HP(t):n===3?new Gi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=t$.exec(e))?new Gi(t[1],t[2],t[3],1):(t=e$.exec(e))?new Gi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=n$.exec(e))?dm(t[1],t[2],t[3],t[4]):(t=i$.exec(e))?dm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=r$.exec(e))?qP(t[1],t[2]/100,t[3]/100,1):(t=a$.exec(e))?qP(t[1],t[2]/100,t[3]/100,t[4]):zP.hasOwnProperty(e)?HP(zP[e]):e==="transparent"?new Gi(NaN,NaN,NaN,0):null}function HP(e){return new Gi(e>>16&255,e>>8&255,e&255,1)}function dm(e,t,n,i){return i<=0&&(e=t=n=NaN),new Gi(e,t,n,i)}function l$(e){return e instanceof cf||(e=Ih(e)),e?(e=e.rgb(),new Gi(e.r,e.g,e.b,e.opacity)):new Gi}function L_(e,t,n,i){return arguments.length===1?l$(e):new Gi(e,t,n,i??1)}function Gi(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Jw(Gi,L_,sj(cf,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new Gi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lh:Math.pow(Lh,e),new Gi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gi(Vl(this.r),Vl(this.g),Vl(this.b),ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$P,formatHex:$P,formatHex8:c$,formatRgb:GP,toString:GP}));function $P(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}`}function c$(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}${Bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function GP(){const e=ug(this.opacity);return`${e===1?"rgb(":"rgba("}${Vl(this.r)}, ${Vl(this.g)}, ${Vl(this.b)}${e===1?")":`, ${e})`}`}function ug(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bl(e){return e=Vl(e),(e<16?"0":"")+e.toString(16)}function qP(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Wr(e,t,n,i)}function oj(e){if(e instanceof Wr)return new Wr(e.h,e.s,e.l,e.opacity);if(e instanceof cf||(e=Ih(e)),!e)return new Wr;if(e instanceof Wr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,c=a-r,d=(a+r)/2;return c?(t===a?o=(n-i)/c+(n<i)*6:n===a?o=(i-t)/c+2:o=(t-n)/c+4,c/=d<.5?a+r:2-a-r,o*=60):c=d>0&&d<1?0:o,new Wr(o,c,d,e.opacity)}function u$(e,t,n,i){return arguments.length===1?oj(e):new Wr(e,t,n,i??1)}function Wr(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Jw(Wr,u$,sj(cf,{brighter(e){return e=e==null?cg:Math.pow(cg,e),new Wr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lh:Math.pow(Lh,e),new Wr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Gi(vx(e>=240?e-240:e+120,r,i),vx(e,r,i),vx(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new Wr(VP(this.h),hm(this.s),hm(this.l),ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ug(this.opacity);return`${e===1?"hsl(":"hsla("}${VP(this.h)}, ${hm(this.s)*100}%, ${hm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function VP(e){return e=(e||0)%360,e<0?e+360:e}function hm(e){return Math.max(0,Math.min(1,e||0))}function vx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const t1=e=>()=>e;function d$(e,t){return function(n){return e+n*t}}function h$(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function f$(e){return(e=+e)==1?lj:function(t,n){return n-t?h$(t,n,e):t1(isNaN(t)?n:t)}}function lj(e,t){var n=t-e;return n?d$(e,n):t1(isNaN(e)?t:e)}const WP=(function e(t){var n=f$(t);function i(r,a){var o=n((r=L_(r)).r,(a=L_(a)).r),c=n(r.g,a.g),d=n(r.b,a.b),f=lj(r.opacity,a.opacity);return function(p){return r.r=o(p),r.g=c(p),r.b=d(p),r.opacity=f(p),r+""}}return i.gamma=e,i})(1);function p$(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function m$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function g$(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),a=new Array(n),o;for(o=0;o<i;++o)r[o]=Iu(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(c){for(o=0;o<i;++o)a[o]=r[o](c);return a}}function v$(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function dg(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function y$(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=Iu(e[r],t[r]):i[r]=t[r];return function(a){for(r in n)i[r]=n[r](a);return i}}var R_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yx=new RegExp(R_.source,"g");function b$(e){return function(){return e}}function x$(e){return function(t){return e(t)+""}}function _$(e,t){var n=R_.lastIndex=yx.lastIndex=0,i,r,a,o=-1,c=[],d=[];for(e=e+"",t=t+"";(i=R_.exec(e))&&(r=yx.exec(t));)(a=r.index)>n&&(a=t.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(i=i[0])===(r=r[0])?c[o]?c[o]+=r:c[++o]=r:(c[++o]=null,d.push({i:o,x:dg(i,r)})),n=yx.lastIndex;return n<t.length&&(a=t.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?x$(d[0].x):b$(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)c[(m=d[p]).i]=m.x(f);return c.join("")})}function Iu(e,t){var n=typeof t,i;return t==null||n==="boolean"?t1(t):(n==="number"?dg:n==="string"?(i=Ih(t))?(t=i,WP):_$:t instanceof Ih?WP:t instanceof Date?v$:m$(t)?p$:Array.isArray(t)?g$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?y$:dg)(e,t)}function e1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function w$(e,t){t===void 0&&(t=e,e=Iu);for(var n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(r,r=t[++n]);return function(o){var c=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return a[c](o-c)}}function A$(e){return function(){return e}}function hg(e){return+e}var YP=[0,1];function Si(e){return e}function I_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:A$(isNaN(t)?NaN:.5)}function S$(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function E$(e,t,n){var i=e[0],r=e[1],a=t[0],o=t[1];return r<i?(i=I_(r,i),a=n(o,a)):(i=I_(i,r),a=n(a,o)),function(c){return a(i(c))}}function C$(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=I_(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(c){var d=lf(e,c,1,i)-1;return a[d](r[d](c))}}function uf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fv(){var e=YP,t=YP,n=Iu,i,r,a,o=Si,c,d,f;function p(){var y=Math.min(e.length,t.length);return o!==Si&&(o=S$(e[0],e[y-1])),c=y>2?C$:E$,d=f=null,m}function m(y){return y==null||isNaN(y=+y)?a:(d||(d=c(e.map(i),t,n)))(i(o(y)))}return m.invert=function(y){return o(r((f||(f=c(t,e.map(i),dg)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,hg),p()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),p()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),n=e1,p()},m.clamp=function(y){return arguments.length?(o=y?!0:Si,p()):o!==Si},m.interpolate=function(y){return arguments.length?(n=y,p()):n},m.unknown=function(y){return arguments.length?(a=y,m):a},function(y,b){return i=y,r=b,p()}}function n1(){return fv()(Si,Si)}function T$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fg(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function Ou(e){return e=fg(Math.abs(e)),e?e[1]:NaN}function O$(e,t){return function(n,i){for(var r=n.length,a=[],o=0,c=e[0],d=0;r>0&&c>0&&(d+c+1>i&&(c=Math.max(1,i-d)),a.push(n.substring(r-=c,r+c)),!((d+=c+1)>i));)c=e[o=(o+1)%e.length];return a.reverse().join(t)}}function P$(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var M$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bh(e){if(!(t=M$.exec(e)))throw new Error("invalid format: "+e);var t;return new i1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Bh.prototype=i1.prototype;function i1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}i1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N$(e){t:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break t;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var pg;function k$(e,t){var n=fg(e,t);if(!n)return pg=void 0,e.toPrecision(t);var i=n[0],r=n[1],a=r-(pg=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+fg(e,Math.max(0,t+a-1))[0]}function KP(e,t){var n=fg(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const ZP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:T$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>KP(e*100,t),r:KP,s:k$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XP(e){return e}var QP=Array.prototype.map,JP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function D$(e){var t=e.grouping===void 0||e.thousands===void 0?XP:O$(QP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?XP:P$(QP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m,y){m=Bh(m);var b=m.fill,A=m.align,w=m.sign,C=m.symbol,O=m.zero,k=m.width,M=m.comma,j=m.precision,I=m.trim,R=m.type;R==="n"?(M=!0,R="g"):ZP[R]||(j===void 0&&(j=12),I=!0,R="g"),(O||b==="0"&&A==="=")&&(O=!0,b="0",A="=");var z=(y&&y.prefix!==void 0?y.prefix:"")+(C==="$"?n:C==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():""),H=(C==="$"?i:/[%p]/.test(R)?o:"")+(y&&y.suffix!==void 0?y.suffix:""),W=ZP[R],et=/[defgprs%]/.test(R);j=j===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function Y(q){var yt=z,ct=H,xt,$,Q;if(R==="c")ct=W(q)+ct,q="";else{q=+q;var nt=q<0||1/q<0;if(q=isNaN(q)?d:W(Math.abs(q),j),I&&(q=N$(q)),nt&&+q==0&&w!=="+"&&(nt=!1),yt=(nt?w==="("?w:c:w==="-"||w==="("?"":w)+yt,ct=(R==="s"&&!isNaN(q)&&pg!==void 0?JP[8+pg/3]:"")+ct+(nt&&w==="("?")":""),et){for(xt=-1,$=q.length;++xt<$;)if(Q=q.charCodeAt(xt),48>Q||Q>57){ct=(Q===46?r+q.slice(xt+1):q.slice(xt))+ct,q=q.slice(0,xt);break}}}M&&!O&&(q=t(q,1/0));var bt=yt.length+q.length+ct.length,Z=bt<k?new Array(k-bt+1).join(b):"";switch(M&&O&&(q=t(Z+q,Z.length?k-ct.length:1/0),Z=""),A){case"<":q=yt+q+ct+Z;break;case"=":q=yt+Z+q+ct;break;case"^":q=Z.slice(0,bt=Z.length>>1)+yt+q+ct+Z.slice(bt);break;default:q=Z+yt+q+ct;break}return a(q)}return Y.toString=function(){return m+""},Y}function p(m,y){var b=Math.max(-8,Math.min(8,Math.floor(Ou(y)/3)))*3,A=Math.pow(10,-b),w=f((m=Bh(m),m.type="f",m),{suffix:JP[8+b/3]});return function(C){return w(A*C)}}return{format:f,formatPrefix:p}}var fm,r1,cj;j$({thousands:",",grouping:[3],currency:["$",""]});function j$(e){return fm=D$(e),r1=fm.format,cj=fm.formatPrefix,fm}function L$(e){return Math.max(0,-Ou(Math.abs(e)))}function R$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ou(t)/3)))*3-Ou(Math.abs(e)))}function I$(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ou(t)-Ou(e))+1}function uj(e,t,n,i){var r=D_(e,t,n),a;switch(i=Bh(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(a=R$(r,o))&&(i.precision=a),cj(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=I$(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=L$(r))&&(i.precision=a-(i.type==="%")*2);break}}return r1(i)}function Ho(e){var t=e.domain;return e.ticks=function(n){var i=t();return N_(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return uj(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,a=i.length-1,o=i[r],c=i[a],d,f,p=10;for(c<o&&(f=o,o=c,c=f,f=r,r=a,a=f);p-- >0;){if(f=k_(o,c,n),f===d)return i[r]=o,i[a]=c,t(i);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function dj(){var e=n1();return e.copy=function(){return uf(e,dj())},kr.apply(e,arguments),Ho(e)}function hj(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,hg),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return hj(e).unknown(t)},e=arguments.length?Array.from(e,hg):[0,1],Ho(n)}function fj(e,t){e=e.slice();var n=0,i=e.length-1,r=e[n],a=e[i],o;return a<r&&(o=n,n=i,i=o,o=r,r=a,a=o),e[n]=t.floor(r),e[i]=t.ceil(a),e}function t2(e){return Math.log(e)}function e2(e){return Math.exp(e)}function B$(e){return-Math.log(-e)}function z$(e){return-Math.exp(-e)}function F$(e){return isFinite(e)?+("1e"+e):e<0?0:e}function U$(e){return e===10?F$:e===Math.E?Math.exp:t=>Math.pow(e,t)}function H$(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n2(e){return(t,n)=>-e(-t,n)}function a1(e){const t=e(t2,e2),n=t.domain;let i=10,r,a;function o(){return r=H$(i),a=U$(i),n()[0]<0?(r=n2(r),a=n2(a),e(B$,z$)):e(t2,e2),t}return t.base=function(c){return arguments.length?(i=+c,o()):i},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const d=n();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let y=r(f),b=r(p),A,w;const C=c==null?10:+c;let O=[];if(!(i%1)&&b-y<C){if(y=Math.floor(y),b=Math.ceil(b),f>0){for(;y<=b;++y)for(A=1;A<i;++A)if(w=y<0?A/a(-y):A*a(y),!(w<f)){if(w>p)break;O.push(w)}}else for(;y<=b;++y)for(A=i-1;A>=1;--A)if(w=y>0?A/a(-y):A*a(y),!(w<f)){if(w>p)break;O.push(w)}O.length*2<C&&(O=N_(f,p,C))}else O=N_(y,b,Math.min(b-y,C)).map(a);return m?O.reverse():O},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=i===10?"s":","),typeof d!="function"&&(!(i%1)&&(d=Bh(d)).precision==null&&(d.trim=!0),d=r1(d)),c===1/0)return d;const f=Math.max(1,i*c/t.ticks().length);return p=>{let m=p/a(Math.round(r(p)));return m*i<i-.5&&(m*=i),m<=f?d(p):""}},t.nice=()=>n(fj(n(),{floor:c=>a(Math.floor(r(c))),ceil:c=>a(Math.ceil(r(c)))})),t}function pj(){const e=a1(fv()).domain([1,10]);return e.copy=()=>uf(e,pj()).base(e.base()),kr.apply(e,arguments),e}function i2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function r2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function s1(e){var t=1,n=e(i2(t),r2(t));return n.constant=function(i){return arguments.length?e(i2(t=+i),r2(t)):t},Ho(n)}function mj(){var e=s1(fv());return e.copy=function(){return uf(e,mj()).constant(e.constant())},kr.apply(e,arguments)}function a2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $$(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function G$(e){return e<0?-e*e:e*e}function o1(e){var t=e(Si,Si),n=1;function i(){return n===1?e(Si,Si):n===.5?e($$,G$):e(a2(n),a2(1/n))}return t.exponent=function(r){return arguments.length?(n=+r,i()):n},Ho(t)}function l1(){var e=o1(fv());return e.copy=function(){return uf(e,l1()).exponent(e.exponent())},kr.apply(e,arguments),e}function q$(){return l1.apply(null,arguments).exponent(.5)}function s2(e){return Math.sign(e)*e*e}function V$(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gj(){var e=n1(),t=[0,1],n=!1,i;function r(a){var o=V$(e(a));return isNaN(o)?i:n?Math.round(o):o}return r.invert=function(a){return e.invert(s2(a))},r.domain=function(a){return arguments.length?(e.domain(a),r):e.domain()},r.range=function(a){return arguments.length?(e.range((t=Array.from(a,hg)).map(s2)),r):t.slice()},r.rangeRound=function(a){return r.range(a).round(!0)},r.round=function(a){return arguments.length?(n=!!a,r):n},r.clamp=function(a){return arguments.length?(e.clamp(a),r):e.clamp()},r.unknown=function(a){return arguments.length?(i=a,r):i},r.copy=function(){return gj(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},kr.apply(r,arguments),Ho(r)}function vj(){var e=[],t=[],n=[],i;function r(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=Z8(e,o/c);return a}function a(o){return o==null||isNaN(o=+o)?i:t[lf(n,o)]}return a.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(No),r()},a.range=function(o){return arguments.length?(t=Array.from(o),r()):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return vj().domain(e).range(t).unknown(i)},kr.apply(a,arguments)}function yj(){var e=0,t=1,n=1,i=[.5],r=[0,1],a;function o(d){return d!=null&&d<=d?r[lf(i,d,0,n)]:a}function c(){var d=-1;for(i=new Array(n);++d<n;)i[d]=((d+1)*t-(d-n)*e)/(n+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(n=(r=Array.from(d)).length-1,c()):r.slice()},o.invertExtent=function(d){var f=r.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,i[0]]:f>=n?[i[n-1],t]:[i[f-1],i[f]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return i.slice()},o.copy=function(){return yj().domain([e,t]).range(r).unknown(a)},kr.apply(Ho(o),arguments)}function bj(){var e=[.5],t=[0,1],n,i=1;function r(a){return a!=null&&a<=a?t[lf(e,a,0,i)]:n}return r.domain=function(a){return arguments.length?(e=Array.from(a),i=Math.min(e.length,t.length-1),r):e.slice()},r.range=function(a){return arguments.length?(t=Array.from(a),i=Math.min(e.length,t.length-1),r):t.slice()},r.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},r.unknown=function(a){return arguments.length?(n=a,r):n},r.copy=function(){return bj().domain(e).range(t).unknown(n)},kr.apply(r,arguments)}const bx=new Date,xx=new Date;function zn(e,t,n,i){function r(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return r.floor=a=>(e(a=new Date(+a)),a),r.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),r.round=a=>{const o=r(a),c=r.ceil(a);return a-o<c-a?o:c},r.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),r.range=(a,o,c)=>{const d=[];if(a=r.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return d;let f;do d.push(f=new Date(+a)),t(a,c),e(a);while(f<a&&a<o);return d},r.filter=a=>zn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!a(o););else for(;--c>=0;)for(;t(o,1),!a(o););}),n&&(r.count=(a,o)=>(bx.setTime(+a),xx.setTime(+o),e(bx),e(xx),Math.floor(n(bx,xx))),r.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?r.filter(i?o=>i(o)%a===0:o=>r.count(0,o)%a===0):r)),r}const mg=zn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);mg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):mg);mg.range;const ys=1e3,Tr=ys*60,bs=Tr*60,As=bs*24,c1=As*7,o2=As*30,_x=As*365,zl=zn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ys)},(e,t)=>(t-e)/ys,e=>e.getUTCSeconds());zl.range;const u1=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());u1.range;const d1=zn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());d1.range;const h1=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ys-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getHours());h1.range;const f1=zn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*bs)},(e,t)=>(t-e)/bs,e=>e.getUTCHours());f1.range;const df=zn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/As,e=>e.getDate()-1);df.range;const pv=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/As,e=>e.getUTCDate()-1);pv.range;const xj=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/As,e=>Math.floor(e/As));xj.range;function oc(e){return zn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/c1)}const mv=oc(0),gg=oc(1),W$=oc(2),Y$=oc(3),Pu=oc(4),K$=oc(5),Z$=oc(6);mv.range;gg.range;W$.range;Y$.range;Pu.range;K$.range;Z$.range;function lc(e){return zn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/c1)}const gv=lc(0),vg=lc(1),X$=lc(2),Q$=lc(3),Mu=lc(4),J$=lc(5),tG=lc(6);gv.range;vg.range;X$.range;Q$.range;Mu.range;J$.range;tG.range;const p1=zn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());p1.range;const m1=zn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());m1.range;const Ss=zn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ss.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ss.range;const Es=zn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Es.range;function _j(e,t,n,i,r,a){const o=[[zl,1,ys],[zl,5,5*ys],[zl,15,15*ys],[zl,30,30*ys],[a,1,Tr],[a,5,5*Tr],[a,15,15*Tr],[a,30,30*Tr],[r,1,bs],[r,3,3*bs],[r,6,6*bs],[r,12,12*bs],[i,1,As],[i,2,2*As],[n,1,c1],[t,1,o2],[t,3,3*o2],[e,1,_x]];function c(f,p,m){const y=p<f;y&&([f,p]=[p,f]);const b=m&&typeof m.range=="function"?m:d(f,p,m),A=b?b.range(f,+p+1):[];return y?A.reverse():A}function d(f,p,m){const y=Math.abs(p-f)/m,b=Zw(([,,C])=>C).right(o,y);if(b===o.length)return e.every(D_(f/_x,p/_x,m));if(b===0)return mg.every(Math.max(D_(f,p,m),1));const[A,w]=o[y/o[b-1][2]<o[b][2]/y?b-1:b];return A.every(w)}return[c,d]}const[eG,nG]=_j(Es,m1,gv,xj,f1,d1),[iG,rG]=_j(Ss,p1,mv,df,h1,u1);function wx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ax(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function oh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function aG(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,a=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,f=lh(r),p=ch(r),m=lh(a),y=ch(a),b=lh(o),A=ch(o),w=lh(c),C=ch(c),O=lh(d),k=ch(d),M={a:Q,A:nt,b:bt,B:Z,c:null,d:f2,e:f2,f:OG,g:BG,G:FG,H:EG,I:CG,j:TG,L:wj,m:PG,M:MG,p:U,q:X,Q:g2,s:v2,S:NG,u:kG,U:DG,V:jG,w:LG,W:RG,x:null,X:null,y:IG,Y:zG,Z:UG,"%":m2},j={a:ut,A:gt,b:_t,B:wt,c:null,d:p2,e:p2,f:qG,g:eq,G:iq,H:HG,I:$G,j:GG,L:Sj,m:VG,M:WG,p:At,q:Yt,Q:g2,s:v2,S:YG,u:KG,U:ZG,V:XG,w:QG,W:JG,x:null,X:null,y:tq,Y:nq,Z:rq,"%":m2},I={a:et,A:Y,b:q,B:yt,c:ct,d:d2,e:d2,f:_G,g:u2,G:c2,H:h2,I:h2,j:vG,L:xG,m:gG,M:yG,p:W,q:mG,Q:AG,s:SG,S:bG,u:uG,U:dG,V:hG,w:cG,W:fG,x:xt,X:$,y:u2,Y:c2,Z:pG,"%":wG};M.x=R(n,M),M.X=R(i,M),M.c=R(t,M),j.x=R(n,j),j.X=R(i,j),j.c=R(t,j);function R(dt,Rt){return function(Bt){var vt=[],He=-1,Jt=0,yn=dt.length,bn,Vi,ta;for(Bt instanceof Date||(Bt=new Date(+Bt));++He<yn;)dt.charCodeAt(He)===37&&(vt.push(dt.slice(Jt,He)),(Vi=l2[bn=dt.charAt(++He)])!=null?bn=dt.charAt(++He):Vi=bn==="e"?" ":"0",(ta=Rt[bn])&&(bn=ta(Bt,Vi)),vt.push(bn),Jt=He+1);return vt.push(dt.slice(Jt,He)),vt.join("")}}function z(dt,Rt){return function(Bt){var vt=oh(1900,void 0,1),He=H(vt,dt,Bt+="",0),Jt,yn;if(He!=Bt.length)return null;if("Q"in vt)return new Date(vt.Q);if("s"in vt)return new Date(vt.s*1e3+("L"in vt?vt.L:0));if(Rt&&!("Z"in vt)&&(vt.Z=0),"p"in vt&&(vt.H=vt.H%12+vt.p*12),vt.m===void 0&&(vt.m="q"in vt?vt.q:0),"V"in vt){if(vt.V<1||vt.V>53)return null;"w"in vt||(vt.w=1),"Z"in vt?(Jt=Ax(oh(vt.y,0,1)),yn=Jt.getUTCDay(),Jt=yn>4||yn===0?vg.ceil(Jt):vg(Jt),Jt=pv.offset(Jt,(vt.V-1)*7),vt.y=Jt.getUTCFullYear(),vt.m=Jt.getUTCMonth(),vt.d=Jt.getUTCDate()+(vt.w+6)%7):(Jt=wx(oh(vt.y,0,1)),yn=Jt.getDay(),Jt=yn>4||yn===0?gg.ceil(Jt):gg(Jt),Jt=df.offset(Jt,(vt.V-1)*7),vt.y=Jt.getFullYear(),vt.m=Jt.getMonth(),vt.d=Jt.getDate()+(vt.w+6)%7)}else("W"in vt||"U"in vt)&&("w"in vt||(vt.w="u"in vt?vt.u%7:"W"in vt?1:0),yn="Z"in vt?Ax(oh(vt.y,0,1)).getUTCDay():wx(oh(vt.y,0,1)).getDay(),vt.m=0,vt.d="W"in vt?(vt.w+6)%7+vt.W*7-(yn+5)%7:vt.w+vt.U*7-(yn+6)%7);return"Z"in vt?(vt.H+=vt.Z/100|0,vt.M+=vt.Z%100,Ax(vt)):wx(vt)}}function H(dt,Rt,Bt,vt){for(var He=0,Jt=Rt.length,yn=Bt.length,bn,Vi;He<Jt;){if(vt>=yn)return-1;if(bn=Rt.charCodeAt(He++),bn===37){if(bn=Rt.charAt(He++),Vi=I[bn in l2?Rt.charAt(He++):bn],!Vi||(vt=Vi(dt,Bt,vt))<0)return-1}else if(bn!=Bt.charCodeAt(vt++))return-1}return vt}function W(dt,Rt,Bt){var vt=f.exec(Rt.slice(Bt));return vt?(dt.p=p.get(vt[0].toLowerCase()),Bt+vt[0].length):-1}function et(dt,Rt,Bt){var vt=b.exec(Rt.slice(Bt));return vt?(dt.w=A.get(vt[0].toLowerCase()),Bt+vt[0].length):-1}function Y(dt,Rt,Bt){var vt=m.exec(Rt.slice(Bt));return vt?(dt.w=y.get(vt[0].toLowerCase()),Bt+vt[0].length):-1}function q(dt,Rt,Bt){var vt=O.exec(Rt.slice(Bt));return vt?(dt.m=k.get(vt[0].toLowerCase()),Bt+vt[0].length):-1}function yt(dt,Rt,Bt){var vt=w.exec(Rt.slice(Bt));return vt?(dt.m=C.get(vt[0].toLowerCase()),Bt+vt[0].length):-1}function ct(dt,Rt,Bt){return H(dt,t,Rt,Bt)}function xt(dt,Rt,Bt){return H(dt,n,Rt,Bt)}function $(dt,Rt,Bt){return H(dt,i,Rt,Bt)}function Q(dt){return o[dt.getDay()]}function nt(dt){return a[dt.getDay()]}function bt(dt){return d[dt.getMonth()]}function Z(dt){return c[dt.getMonth()]}function U(dt){return r[+(dt.getHours()>=12)]}function X(dt){return 1+~~(dt.getMonth()/3)}function ut(dt){return o[dt.getUTCDay()]}function gt(dt){return a[dt.getUTCDay()]}function _t(dt){return d[dt.getUTCMonth()]}function wt(dt){return c[dt.getUTCMonth()]}function At(dt){return r[+(dt.getUTCHours()>=12)]}function Yt(dt){return 1+~~(dt.getUTCMonth()/3)}return{format:function(dt){var Rt=R(dt+="",M);return Rt.toString=function(){return dt},Rt},parse:function(dt){var Rt=z(dt+="",!1);return Rt.toString=function(){return dt},Rt},utcFormat:function(dt){var Rt=R(dt+="",j);return Rt.toString=function(){return dt},Rt},utcParse:function(dt){var Rt=z(dt+="",!0);return Rt.toString=function(){return dt},Rt}}}var l2={"-":"",_:" ",0:"0"},Xn=/^\s*\d+/,sG=/^%/,oG=/[\\^$*+?|[\]().{}]/g;function pe(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function lG(e){return e.replace(oG,"\\$&")}function lh(e){return new RegExp("^(?:"+e.map(lG).join("|")+")","i")}function ch(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cG(e,t,n){var i=Xn.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function uG(e,t,n){var i=Xn.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function dG(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function hG(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function fG(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function c2(e,t,n){var i=Xn.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function u2(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function pG(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function mG(e,t,n){var i=Xn.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function gG(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function d2(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function vG(e,t,n){var i=Xn.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function h2(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function yG(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function bG(e,t,n){var i=Xn.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function xG(e,t,n){var i=Xn.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function _G(e,t,n){var i=Xn.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function wG(e,t,n){var i=sG.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function AG(e,t,n){var i=Xn.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function SG(e,t,n){var i=Xn.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function f2(e,t){return pe(e.getDate(),t,2)}function EG(e,t){return pe(e.getHours(),t,2)}function CG(e,t){return pe(e.getHours()%12||12,t,2)}function TG(e,t){return pe(1+df.count(Ss(e),e),t,3)}function wj(e,t){return pe(e.getMilliseconds(),t,3)}function OG(e,t){return wj(e,t)+"000"}function PG(e,t){return pe(e.getMonth()+1,t,2)}function MG(e,t){return pe(e.getMinutes(),t,2)}function NG(e,t){return pe(e.getSeconds(),t,2)}function kG(e){var t=e.getDay();return t===0?7:t}function DG(e,t){return pe(mv.count(Ss(e)-1,e),t,2)}function Aj(e){var t=e.getDay();return t>=4||t===0?Pu(e):Pu.ceil(e)}function jG(e,t){return e=Aj(e),pe(Pu.count(Ss(e),e)+(Ss(e).getDay()===4),t,2)}function LG(e){return e.getDay()}function RG(e,t){return pe(gg.count(Ss(e)-1,e),t,2)}function IG(e,t){return pe(e.getFullYear()%100,t,2)}function BG(e,t){return e=Aj(e),pe(e.getFullYear()%100,t,2)}function zG(e,t){return pe(e.getFullYear()%1e4,t,4)}function FG(e,t){var n=e.getDay();return e=n>=4||n===0?Pu(e):Pu.ceil(e),pe(e.getFullYear()%1e4,t,4)}function UG(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pe(t/60|0,"0",2)+pe(t%60,"0",2)}function p2(e,t){return pe(e.getUTCDate(),t,2)}function HG(e,t){return pe(e.getUTCHours(),t,2)}function $G(e,t){return pe(e.getUTCHours()%12||12,t,2)}function GG(e,t){return pe(1+pv.count(Es(e),e),t,3)}function Sj(e,t){return pe(e.getUTCMilliseconds(),t,3)}function qG(e,t){return Sj(e,t)+"000"}function VG(e,t){return pe(e.getUTCMonth()+1,t,2)}function WG(e,t){return pe(e.getUTCMinutes(),t,2)}function YG(e,t){return pe(e.getUTCSeconds(),t,2)}function KG(e){var t=e.getUTCDay();return t===0?7:t}function ZG(e,t){return pe(gv.count(Es(e)-1,e),t,2)}function Ej(e){var t=e.getUTCDay();return t>=4||t===0?Mu(e):Mu.ceil(e)}function XG(e,t){return e=Ej(e),pe(Mu.count(Es(e),e)+(Es(e).getUTCDay()===4),t,2)}function QG(e){return e.getUTCDay()}function JG(e,t){return pe(vg.count(Es(e)-1,e),t,2)}function tq(e,t){return pe(e.getUTCFullYear()%100,t,2)}function eq(e,t){return e=Ej(e),pe(e.getUTCFullYear()%100,t,2)}function nq(e,t){return pe(e.getUTCFullYear()%1e4,t,4)}function iq(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Mu(e):Mu.ceil(e),pe(e.getUTCFullYear()%1e4,t,4)}function rq(){return"+0000"}function m2(){return"%"}function g2(e){return+e}function v2(e){return Math.floor(+e/1e3)}var eu,Cj,Tj;aq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aq(e){return eu=aG(e),Cj=eu.format,eu.parse,Tj=eu.utcFormat,eu.utcParse,eu}function sq(e){return new Date(e)}function oq(e){return e instanceof Date?+e:+new Date(+e)}function g1(e,t,n,i,r,a,o,c,d,f){var p=n1(),m=p.invert,y=p.domain,b=f(".%L"),A=f(":%S"),w=f("%I:%M"),C=f("%I %p"),O=f("%a %d"),k=f("%b %d"),M=f("%B"),j=f("%Y");function I(R){return(d(R)<R?b:c(R)<R?A:o(R)<R?w:a(R)<R?C:i(R)<R?r(R)<R?O:k:n(R)<R?M:j)(R)}return p.invert=function(R){return new Date(m(R))},p.domain=function(R){return arguments.length?y(Array.from(R,oq)):y().map(sq)},p.ticks=function(R){var z=y();return e(z[0],z[z.length-1],R??10)},p.tickFormat=function(R,z){return z==null?I:f(z)},p.nice=function(R){var z=y();return(!R||typeof R.range!="function")&&(R=t(z[0],z[z.length-1],R??10)),R?y(fj(z,R)):p},p.copy=function(){return uf(p,g1(e,t,n,i,r,a,o,c,d,f))},p}function lq(){return kr.apply(g1(iG,rG,Ss,p1,mv,df,h1,u1,zl,Cj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cq(){return kr.apply(g1(eG,nG,Es,m1,gv,pv,f1,d1,zl,Tj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vv(){var e=0,t=1,n,i,r,a,o=Si,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:o(r===0?.5:(m=(a(m)-n)*r,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),i=a(t=+t),r=n===i?0:1/(i-n),f):[e,t]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(o=m,f):o};function p(m){return function(y){var b,A;return arguments.length?([b,A]=y,o=m(b,A),f):[o(0),o(1)]}}return f.range=p(Iu),f.rangeRound=p(e1),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return a=m,n=m(e),i=m(t),r=n===i?0:1/(i-n),f}}function $o(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Oj(){var e=Ho(vv()(Si));return e.copy=function(){return $o(e,Oj())},Ns.apply(e,arguments)}function Pj(){var e=a1(vv()).domain([1,10]);return e.copy=function(){return $o(e,Pj()).base(e.base())},Ns.apply(e,arguments)}function Mj(){var e=s1(vv());return e.copy=function(){return $o(e,Mj()).constant(e.constant())},Ns.apply(e,arguments)}function v1(){var e=o1(vv());return e.copy=function(){return $o(e,v1()).exponent(e.exponent())},Ns.apply(e,arguments)}function uq(){return v1.apply(null,arguments).exponent(.5)}function Nj(){var e=[],t=Si;function n(i){if(i!=null&&!isNaN(i=+i))return t((lf(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let r of i)r!=null&&!isNaN(r=+r)&&e.push(r);return e.sort(No),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,r)=>t(r/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(r,a)=>K8(e,a/i))},n.copy=function(){return Nj(t).domain(e)},Ns.apply(n,arguments)}function yv(){var e=0,t=.5,n=1,i=1,r,a,o,c,d,f=Si,p,m=!1,y;function b(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-a)*(i*w<i*a?c:d),f(m?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,n]=w,r=p(e=+e),a=p(t=+t),o=p(n=+n),c=r===a?0:.5/(a-r),d=a===o?0:.5/(o-a),i=a<r?-1:1,b):[e,t,n]},b.clamp=function(w){return arguments.length?(m=!!w,b):m},b.interpolator=function(w){return arguments.length?(f=w,b):f};function A(w){return function(C){var O,k,M;return arguments.length?([O,k,M]=C,f=w$(w,[O,k,M]),b):[f(0),f(.5),f(1)]}}return b.range=A(Iu),b.rangeRound=A(e1),b.unknown=function(w){return arguments.length?(y=w,b):y},function(w){return p=w,r=w(e),a=w(t),o=w(n),c=r===a?0:.5/(a-r),d=a===o?0:.5/(o-a),i=a<r?-1:1,b}}function kj(){var e=Ho(yv()(Si));return e.copy=function(){return $o(e,kj())},Ns.apply(e,arguments)}function Dj(){var e=a1(yv()).domain([.1,1,10]);return e.copy=function(){return $o(e,Dj()).base(e.base())},Ns.apply(e,arguments)}function jj(){var e=s1(yv());return e.copy=function(){return $o(e,jj()).constant(e.constant())},Ns.apply(e,arguments)}function y1(){var e=o1(yv());return e.copy=function(){return $o(e,y1()).exponent(e.exponent())},Ns.apply(e,arguments)}function dq(){return y1.apply(null,arguments).exponent(.5)}const bh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qw,scaleDiverging:kj,scaleDivergingLog:Dj,scaleDivergingPow:y1,scaleDivergingSqrt:dq,scaleDivergingSymlog:jj,scaleIdentity:hj,scaleImplicit:j_,scaleLinear:dj,scaleLog:pj,scaleOrdinal:Xw,scalePoint:Q8,scalePow:l1,scaleQuantile:vj,scaleQuantize:yj,scaleRadial:gj,scaleSequential:Oj,scaleSequentialLog:Pj,scaleSequentialPow:v1,scaleSequentialQuantile:Nj,scaleSequentialSqrt:uq,scaleSequentialSymlog:Mj,scaleSqrt:q$,scaleSymlog:mj,scaleThreshold:bj,scaleTime:lq,scaleUtc:cq,tickFormat:uj},Symbol.toStringTag,{value:"Module"}));var ks=e=>e.chartData,bv=it([ks],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),b1=(e,t,n,i)=>i?bv(e):ks(e),Lj=(e,t,n)=>n?bv(e):ks(e);function Cs(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Gt(t)&&Gt(n))return!0}return!1}function y2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Rj(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,i]=e,r,a;if(Gt(n))r=n;else if(typeof n=="function")return;if(Gt(i))a=i;else if(typeof i=="function")return;var o=[r,a];if(Cs(o))return o}}function hq(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,n);if(Cs(i))return y2(i,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[r,a]=e,o,c;if(r==="auto")t!=null&&(o=Math.min(...t));else if(Et(r))o=r;else if(typeof r=="function")try{t!=null&&(o=r(t?.[0]))}catch{}else if(typeof r=="string"&&OO.test(r)){var d=OO.exec(r);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[0]-f}}else o=t?.[0];if(a==="auto")t!=null&&(c=Math.max(...t));else if(Et(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[1]))}catch{}else if(typeof a=="string"&&PO.test(a)){var p=PO.exec(a);if(p==null||p[1]==null||t==null)c=void 0;else{var m=+p[1];c=t[1]+m}}else c=t?.[1];var y=[o,c];if(Cs(y))return t==null?y:y2(y,t,n)}}}var Bu=1e9,fq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_1,Ye=!0,Mr="[DecimalError] ",Wl=Mr+"Invalid argument: ",x1=Mr+"Exponent out of range: ",zu=Math.floor,Rl=Math.pow,pq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ar,Kn=1e7,Ue=7,Ij=9007199254740991,yg=zu(Ij/Ue),Pt={};Pt.absoluteValue=Pt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pt.comparedTo=Pt.cmp=function(e){var t,n,i,r,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(i=a.d.length,r=e.d.length,t=0,n=i<r?i:r;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return i===r?0:i>r^a.s<0?1:-1};Pt.decimalPlaces=Pt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ue;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Pt.dividedBy=Pt.div=function(e){return xs(this,new this.constructor(e))};Pt.dividedToIntegerBy=Pt.idiv=function(e){var t=this,n=t.constructor;return Le(xs(t,new n(e),0,1),n.precision)};Pt.equals=Pt.eq=function(e){return!this.cmp(e)};Pt.exponent=function(){return Pn(this)};Pt.greaterThan=Pt.gt=function(e){return this.cmp(e)>0};Pt.greaterThanOrEqualTo=Pt.gte=function(e){return this.cmp(e)>=0};Pt.isInteger=Pt.isint=function(){return this.e>this.d.length-2};Pt.isNegative=Pt.isneg=function(){return this.s<0};Pt.isPositive=Pt.ispos=function(){return this.s>0};Pt.isZero=function(){return this.s===0};Pt.lessThan=Pt.lt=function(e){return this.cmp(e)<0};Pt.lessThanOrEqualTo=Pt.lte=function(e){return this.cmp(e)<1};Pt.logarithm=Pt.log=function(e){var t,n=this,i=n.constructor,r=i.precision,a=r+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(ar))throw Error(Mr+"NaN");if(n.s<1)throw Error(Mr+(n.s?"NaN":"-Infinity"));return n.eq(ar)?new i(0):(Ye=!1,t=xs(zh(n,a),zh(e,a),a),Ye=!0,Le(t,r))};Pt.minus=Pt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Fj(t,e):Bj(t,(e.s=-e.s,e))};Pt.modulo=Pt.mod=function(e){var t,n=this,i=n.constructor,r=i.precision;if(e=new i(e),!e.s)throw Error(Mr+"NaN");return n.s?(Ye=!1,t=xs(n,e,0,1).times(e),Ye=!0,n.minus(t)):Le(new i(n),r)};Pt.naturalExponential=Pt.exp=function(){return zj(this)};Pt.naturalLogarithm=Pt.ln=function(){return zh(this)};Pt.negated=Pt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pt.plus=Pt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Bj(t,e):Fj(t,(e.s=-e.s,e))};Pt.precision=Pt.sd=function(e){var t,n,i,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wl+e);if(t=Pn(r)+1,i=r.d.length-1,n=i*Ue+1,i=r.d[i],i){for(;i%10==0;i/=10)n--;for(i=r.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};Pt.squareRoot=Pt.sqrt=function(){var e,t,n,i,r,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Mr+"NaN")}for(e=Pn(c),Ye=!1,r=Math.sqrt(+c),r==0||r==1/0?(t=Ma(c.d),(t.length+e)%2==0&&(t+="0"),r=Math.sqrt(t),e=zu((e+1)/2)-(e<0||e%2),r==1/0?t="5e"+e:(t=r.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new d(t)):i=new d(r.toString()),n=d.precision,r=o=n+3;;)if(a=i,i=a.plus(xs(c,a,o+2)).times(.5),Ma(a.d).slice(0,o)===(t=Ma(i.d)).slice(0,o)){if(t=t.slice(o-3,o+1),r==o&&t=="4999"){if(Le(a,n+1,0),a.times(a).eq(c)){i=a;break}}else if(t!="9999")break;o+=4}return Ye=!0,Le(i,n)};Pt.times=Pt.mul=function(e){var t,n,i,r,a,o,c,d,f,p=this,m=p.constructor,y=p.d,b=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,d=y.length,f=b.length,d<f&&(a=y,y=b,b=a,o=d,d=f,f=o),a=[],o=d+f,i=o;i--;)a.push(0);for(i=f;--i>=0;){for(t=0,r=d+i;r>i;)c=a[r]+b[i]*y[r-i-1]+t,a[r--]=c%Kn|0,t=c/Kn|0;a[r]=(a[r]+t)%Kn|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Ye?Le(e,m.precision):e};Pt.toDecimalPlaces=Pt.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(Da(e,0,Bu),t===void 0?t=i.rounding:Da(t,0,8),Le(n,e+Pn(n)+1,t))};Pt.toExponential=function(e,t){var n,i=this,r=i.constructor;return e===void 0?n=nc(i,!0):(Da(e,0,Bu),t===void 0?t=r.rounding:Da(t,0,8),i=Le(new r(i),e+1,t),n=nc(i,!0,e+1)),n};Pt.toFixed=function(e,t){var n,i,r=this,a=r.constructor;return e===void 0?nc(r):(Da(e,0,Bu),t===void 0?t=a.rounding:Da(t,0,8),i=Le(new a(r),e+Pn(r)+1,t),n=nc(i.abs(),!1,e+Pn(i)+1),r.isneg()&&!r.isZero()?"-"+n:n)};Pt.toInteger=Pt.toint=function(){var e=this,t=e.constructor;return Le(new t(e),Pn(e)+1,t.rounding)};Pt.toNumber=function(){return+this};Pt.toPower=Pt.pow=function(e){var t,n,i,r,a,o,c=this,d=c.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(ar);if(c=new d(c),!c.s){if(e.s<1)throw Error(Mr+"Infinity");return c}if(c.eq(ar))return c;if(i=d.precision,e.eq(ar))return Le(c,i);if(t=e.e,n=e.d.length-1,o=t>=n,a=c.s,o){if((n=p<0?-p:p)<=Ij){for(r=new d(ar),t=Math.ceil(i/Ue+4),Ye=!1;n%2&&(r=r.times(c),x2(r.d,t)),n=zu(n/2),n!==0;)c=c.times(c),x2(c.d,t);return Ye=!0,e.s<0?new d(ar).div(r):Le(r,i)}}else if(a<0)throw Error(Mr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,Ye=!1,r=e.times(zh(c,i+f)),Ye=!0,r=zj(r),r.s=a,r};Pt.toPrecision=function(e,t){var n,i,r=this,a=r.constructor;return e===void 0?(n=Pn(r),i=nc(r,n<=a.toExpNeg||n>=a.toExpPos)):(Da(e,1,Bu),t===void 0?t=a.rounding:Da(t,0,8),r=Le(new a(r),e,t),n=Pn(r),i=nc(r,e<=n||n<=a.toExpNeg,e)),i};Pt.toSignificantDigits=Pt.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(Da(e,1,Bu),t===void 0?t=i.rounding:Da(t,0,8)),Le(new i(n),e,t)};Pt.toString=Pt.valueOf=Pt.val=Pt.toJSON=Pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pn(e),n=e.constructor;return nc(e,t<=n.toExpNeg||t>=n.toExpPos)};function Bj(e,t){var n,i,r,a,o,c,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),Ye?Le(t,m):t;if(d=e.d,f=t.d,o=e.e,r=t.e,d=d.slice(),a=o-r,a){for(a<0?(i=d,a=-a,c=f.length):(i=f,r=o,c=d.length),o=Math.ceil(m/Ue),c=o>c?o+1:c+1,a>c&&(a=c,i.length=1),i.reverse();a--;)i.push(0);i.reverse()}for(c=d.length,a=f.length,c-a<0&&(a=c,i=f,f=d,d=i),n=0;a;)n=(d[--a]=d[a]+f[a]+n)/Kn|0,d[a]%=Kn;for(n&&(d.unshift(n),++r),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=r,Ye?Le(t,m):t}function Da(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wl+e)}function Ma(e){var t,n,i,r=e.length-1,a="",o=e[0];if(r>0){for(a+=o,t=1;t<r;t++)i=e[t]+"",n=Ue-i.length,n&&(a+=_o(n)),a+=i;o=e[t],i=o+"",n=Ue-i.length,n&&(a+=_o(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var xs=(function(){function e(i,r){var a,o=0,c=i.length;for(i=i.slice();c--;)a=i[c]*r+o,i[c]=a%Kn|0,o=a/Kn|0;return o&&i.unshift(o),i}function t(i,r,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(i[c]!=r[c]){d=i[c]>r[c]?1:-1;break}return d}function n(i,r,a){for(var o=0;a--;)i[a]-=o,o=i[a]<r[a]?1:0,i[a]=o*Kn+i[a]-r[a];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,a,o){var c,d,f,p,m,y,b,A,w,C,O,k,M,j,I,R,z,H,W=i.constructor,et=i.s==r.s?1:-1,Y=i.d,q=r.d;if(!i.s)return new W(i);if(!r.s)throw Error(Mr+"Division by zero");for(d=i.e-r.e,z=q.length,I=Y.length,b=new W(et),A=b.d=[],f=0;q[f]==(Y[f]||0);)++f;if(q[f]>(Y[f]||0)&&--d,a==null?k=a=W.precision:o?k=a+(Pn(i)-Pn(r))+1:k=a,k<0)return new W(0);if(k=k/Ue+2|0,f=0,z==1)for(p=0,q=q[0],k++;(f<I||p)&&k--;f++)M=p*Kn+(Y[f]||0),A[f]=M/q|0,p=M%q|0;else{for(p=Kn/(q[0]+1)|0,p>1&&(q=e(q,p),Y=e(Y,p),z=q.length,I=Y.length),j=z,w=Y.slice(0,z),C=w.length;C<z;)w[C++]=0;H=q.slice(),H.unshift(0),R=q[0],q[1]>=Kn/2&&++R;do p=0,c=t(q,w,z,C),c<0?(O=w[0],z!=C&&(O=O*Kn+(w[1]||0)),p=O/R|0,p>1?(p>=Kn&&(p=Kn-1),m=e(q,p),y=m.length,C=w.length,c=t(m,w,y,C),c==1&&(p--,n(m,z<y?H:q,y))):(p==0&&(c=p=1),m=q.slice()),y=m.length,y<C&&m.unshift(0),n(w,m,C),c==-1&&(C=w.length,c=t(q,w,z,C),c<1&&(p++,n(w,z<C?H:q,C))),C=w.length):c===0&&(p++,w=[0]),A[f++]=p,c&&w[0]?w[C++]=Y[j]||0:(w=[Y[j]],C=1);while((j++<I||w[0]!==void 0)&&k--)}return A[0]||A.shift(),b.e=d,Le(b,o?a+Pn(b)+1:a)}})();function zj(e,t){var n,i,r,a,o,c,d=0,f=0,p=e.constructor,m=p.precision;if(Pn(e)>16)throw Error(x1+Pn(e));if(!e.s)return new p(ar);for(Ye=!1,c=m,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(i=Math.log(Rl(2,f))/Math.LN10*2+5|0,c+=i,n=r=a=new p(ar),p.precision=c;;){if(r=Le(r.times(e),c),n=n.times(++d),o=a.plus(xs(r,n,c)),Ma(o.d).slice(0,c)===Ma(a.d).slice(0,c)){for(;f--;)a=Le(a.times(a),c);return p.precision=m,t==null?(Ye=!0,Le(a,m)):a}a=o}}function Pn(e){for(var t=e.e*Ue,n=e.d[0];n>=10;n/=10)t++;return t}function Sx(e,t,n){if(t>e.LN10.sd())throw Ye=!0,n&&(e.precision=n),Error(Mr+"LN10 precision limit exceeded");return Le(new e(e.LN10),t)}function _o(e){for(var t="";e--;)t+="0";return t}function zh(e,t){var n,i,r,a,o,c,d,f,p,m=1,y=10,b=e,A=b.d,w=b.constructor,C=w.precision;if(b.s<1)throw Error(Mr+(b.s?"NaN":"-Infinity"));if(b.eq(ar))return new w(0);if(t==null?(Ye=!1,f=C):f=t,b.eq(10))return t==null&&(Ye=!0),Sx(w,f);if(f+=y,w.precision=f,n=Ma(A),i=n.charAt(0),a=Pn(b),Math.abs(a)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)b=b.times(e),n=Ma(b.d),i=n.charAt(0),m++;a=Pn(b),i>1?(b=new w("0."+n),a++):b=new w(i+"."+n.slice(1))}else return d=Sx(w,f+2,C).times(a+""),b=zh(new w(i+"."+n.slice(1)),f-y).plus(d),w.precision=C,t==null?(Ye=!0,Le(b,C)):b;for(c=o=b=xs(b.minus(ar),b.plus(ar),f),p=Le(b.times(b),f),r=3;;){if(o=Le(o.times(p),f),d=c.plus(xs(o,new w(r),f)),Ma(d.d).slice(0,f)===Ma(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(Sx(w,f+2,C).times(a+""))),c=xs(c,new w(m),f),w.precision=C,t==null?(Ye=!0,Le(c,C)):c;c=d,r+=2}}function b2(e,t){var n,i,r;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(r=t.length;t.charCodeAt(r-1)===48;)--r;if(t=t.slice(i,r),t){if(r-=i,n=n-i-1,e.e=zu(n/Ue),e.d=[],i=(n+1)%Ue,n<0&&(i+=Ue),i<r){for(i&&e.d.push(+t.slice(0,i)),r-=Ue;i<r;)e.d.push(+t.slice(i,i+=Ue));t=t.slice(i),i=Ue-t.length}else i-=r;for(;i--;)t+="0";if(e.d.push(+t),Ye&&(e.e>yg||e.e<-yg))throw Error(x1+n)}else e.s=0,e.e=0,e.d=[0];return e}function Le(e,t,n){var i,r,a,o,c,d,f,p,m=e.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(i=t-o,i<0)i+=Ue,r=t,f=m[p=0];else{if(p=Math.ceil((i+1)/Ue),a=m.length,p>=a)return e;for(f=a=m[p],o=1;a>=10;a/=10)o++;i%=Ue,r=i-Ue+o}if(n!==void 0&&(a=Rl(10,o-r-1),c=f/a%10|0,d=t<0||m[p+1]!==void 0||f%a,d=n<4?(c||d)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(i>0?r>0?f/Rl(10,o-r):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(a=Pn(e),m.length=1,t=t-a-1,m[0]=Rl(10,(Ue-t%Ue)%Ue),e.e=zu(-t/Ue)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(i==0?(m.length=p,a=1,p--):(m.length=p+1,a=Rl(10,Ue-i),m[p]=r>0?(f/Rl(10,o-r)%Rl(10,r)|0)*a:0),d)for(;;)if(p==0){(m[0]+=a)==Kn&&(m[0]=1,++e.e);break}else{if(m[p]+=a,m[p]!=Kn)break;m[p--]=0,a=1}for(i=m.length;m[--i]===0;)m.pop();if(Ye&&(e.e>yg||e.e<-yg))throw Error(x1+Pn(e));return e}function Fj(e,t){var n,i,r,a,o,c,d,f,p,m,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Ye?Le(t,b):t;if(d=e.d,m=t.d,i=t.e,f=e.e,d=d.slice(),o=f-i,o){for(p=o<0,p?(n=d,o=-o,c=m.length):(n=m,i=f,c=d.length),r=Math.max(Math.ceil(b/Ue),c)+2,o>r&&(o=r,n.length=1),n.reverse(),r=o;r--;)n.push(0);n.reverse()}else{for(r=d.length,c=m.length,p=r<c,p&&(c=r),r=0;r<c;r++)if(d[r]!=m[r]){p=d[r]<m[r];break}o=0}for(p&&(n=d,d=m,m=n,t.s=-t.s),c=d.length,r=m.length-c;r>0;--r)d[c++]=0;for(r=m.length;r>o;){if(d[--r]<m[r]){for(a=r;a&&d[--a]===0;)d[a]=Kn-1;--d[a],d[r]+=Kn}d[r]-=m[r]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--i;return d[0]?(t.d=d,t.e=i,Ye?Le(t,b):t):new y(0)}function nc(e,t,n){var i,r=Pn(e),a=Ma(e.d),o=a.length;return t?(n&&(i=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+_o(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r<0?"e":"e+")+r):r<0?(a="0."+_o(-r-1)+a,n&&(i=n-o)>0&&(a+=_o(i))):r>=o?(a+=_o(r+1-o),n&&(i=n-r-1)>0&&(a=a+"."+_o(i))):((i=r+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),n&&(i=n-o)>0&&(r+1===o&&(a+="."),a+=_o(i))),e.s<0?"-"+a:a}function x2(e,t){if(e.length>t)return e.length=t,!0}function Uj(e){var t,n,i;function r(a){var o=this;if(!(o instanceof r))return new r(a);if(o.constructor=r,a instanceof r){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return b2(o,a.toString())}else if(typeof a!="string")throw Error(Wl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,pq.test(a))b2(o,a);else throw Error(Wl+a)}if(r.prototype=Pt,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=Uj,r.config=r.set=mq,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return r.config(e),r}function mq(e){if(!e||typeof e!="object")throw Error(Mr+"Object expected");var t,n,i,r=["precision",1,Bu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<r.length;t+=3)if((i=e[n=r[t]])!==void 0)if(zu(i)===i&&i>=r[t+1]&&i<=r[t+2])this[n]=i;else throw Error(Wl+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(Wl+n+": "+i);return this}var _1=Uj(fq);ar=new _1(1);const Ce=_1;function Hj(e){var t;return e===0?t=1:t=Math.floor(new Ce(e).abs().log(10).toNumber())+1,t}function $j(e,t,n){for(var i=new Ce(e),r=0,a=[];i.lt(t)&&r<1e5;)a.push(i.toNumber()),i=i.add(n),r++;return a}var Gj=e=>{var[t,n]=e,[i,r]=[t,n];return t>n&&([i,r]=[n,t]),[i,r]},qj=(e,t,n)=>{if(e.lte(0))return new Ce(0);var i=Hj(e.toNumber()),r=new Ce(10).pow(i),a=e.div(r),o=i!==1?.05:.1,c=new Ce(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=c.mul(r);return t?new Ce(d.toNumber()):new Ce(Math.ceil(d.toNumber()))},gq=(e,t,n)=>{var i=new Ce(1),r=new Ce(e);if(!r.isint()&&n){var a=Math.abs(e);a<1?(i=new Ce(10).pow(Hj(e)-1),r=new Ce(Math.floor(r.div(i).toNumber())).mul(i)):a>1&&(r=new Ce(Math.floor(e)))}else e===0?r=new Ce(Math.floor((t-1)/2)):n||(r=new Ce(Math.floor(e)));for(var o=Math.floor((t-1)/2),c=[],d=0;d<t;d++)c.push(r.add(new Ce(d-o).mul(i)).toNumber());return c},Vj=function(t,n,i,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(i-1)))return{step:new Ce(0),tickMin:new Ce(0),tickMax:new Ce(0)};var o=qj(new Ce(n).sub(t).div(i-1),r,a),c;t<=0&&n>=0?c=new Ce(0):(c=new Ce(t).add(n).div(2),c=c.sub(new Ce(c).mod(o)));var d=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Ce(n).sub(c).div(o).toNumber()),p=d+f+1;return p>i?Vj(t,n,i,r,a+1):(p<i&&(f=n>0?f+(i-p):f,d=n>0?d:d+(i-p)),{step:o,tickMin:c.sub(new Ce(d).mul(o)),tickMax:c.add(new Ce(f).mul(o))})},vq=function(t){var[n,i]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[c,d]=Gj([n,i]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...Array(r-1).fill(1/0)]:[...Array(r-1).fill(-1/0),d];return n>i?f.reverse():f}if(c===d)return gq(c,r,a);var{step:p,tickMin:m,tickMax:y}=Vj(c,d,o,a,0),b=$j(m,y.add(new Ce(.1).mul(p)),p);return n>i?b.reverse():b},yq=function(t,n){var[i,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=Gj([i,r]);if(o===-1/0||c===1/0)return[i,r];if(o===c)return[o];var d=Math.max(n,2),f=qj(new Ce(c).sub(o).div(d-1),a,0),p=[...$j(new Ce(o),new Ce(c),f),c];return a===!1&&(p=p.map(m=>Math.round(m))),i>r?p.reverse():p},Wj=e=>e.rootProps.maxBarSize,bq=e=>e.rootProps.barGap,Yj=e=>e.rootProps.barCategoryGap,xq=e=>e.rootProps.barSize,hf=e=>e.rootProps.stackOffset,Kj=e=>e.rootProps.reverseStackOrder,w1=e=>e.options.chartName,A1=e=>e.rootProps.syncId,Zj=e=>e.rootProps.syncMethod,S1=e=>e.options.eventEmitter,_q=e=>e.rootProps.baseValue,fn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Dl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},xa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},xv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function _v(e,t,n){if(n!=="auto")return n;if(e!=null)return Jr(e,t)?"category":"number"}function _2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function bg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_2(Object(n),!0).forEach(function(i){wq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wq(e,t,n){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w2={allowDataOverflow:Dl.allowDataOverflow,allowDecimals:Dl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Dl.angleAxisId,includeHidden:!1,name:void 0,reversed:Dl.reversed,scale:Dl.scale,tick:Dl.tick,tickCount:void 0,ticks:void 0,type:Dl.type,unit:void 0},A2={allowDataOverflow:xa.allowDataOverflow,allowDecimals:xa.allowDecimals,allowDuplicatedCategory:xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xa.radiusAxisId,includeHidden:xa.includeHidden,name:void 0,reversed:xa.reversed,scale:xa.scale,tick:xa.tick,tickCount:xa.tickCount,ticks:void 0,type:xa.type,unit:void 0},Eq=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},E1=it([Eq,jD],(e,t)=>{var n;if(e!=null)return e;var i=(n=_v(t,"angleAxis",w2.type))!==null&&n!==void 0?n:"category";return bg(bg({},w2),{},{type:i})}),Cq=(e,t)=>e.polarAxis.radiusAxis[t],C1=it([Cq,jD],(e,t)=>{var n;if(e!=null)return e;var i=(n=_v(t,"radiusAxis",A2.type))!==null&&n!==void 0?n:"category";return bg(bg({},A2),{},{type:i})}),wv=e=>e.polarOptions,T1=it([Ps,Ms,In],XD),Xj=it([wv,T1],(e,t)=>{if(e!=null)return mi(e.innerRadius,t,0)}),Qj=it([wv,T1],(e,t)=>{if(e!=null)return mi(e.outerRadius,t,t*.8)}),Tq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Jj=it([wv],Tq);it([E1,Jj],xv);var tL=it([T1,Xj,Qj],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});it([C1,tL],xv);var eL=it([le,wv,Xj,Qj,Ps,Ms],(e,t,n,i,r,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||i==null)){var{cx:o,cy:c,startAngle:d,endAngle:f}=t;return{cx:mi(o,r,r/2),cy:mi(c,a,a/2),innerRadius:n,outerRadius:i,startAngle:d,endAngle:f,clockWise:!1}}}),en=(e,t)=>t,ff=(e,t,n)=>n;function Av(e){return e?.id}function nL(e,t,n){var{chartData:i=[]}=t,{allowDuplicatedCategory:r,dataKey:a}=n,o=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:i;if(!(f==null||f.length===0)){var p=Av(c);f.forEach((m,y)=>{var b=a==null||r?y:String(Ae(m,a,null)),A=Ae(m,c.dataKey,0),w;o.has(b)?w=o.get(b):w={},Object.assign(w,{[p]:A}),o.set(b,w)})}}),Array.from(o.values())}function Sv(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ev=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Cv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Oq(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Qn=e=>{var t=le(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Fu=e=>e.tooltip.settings.axisId;function Pq(e){if(e in bh)return bh[e]();var t="scale".concat(Qh(e));if(t in bh)return bh[t]()}function S2(e){var t=e.ticks,n=e.bandwidth,i=e.range(),r=[Math.min(...i),Math.max(...i)];return{domain:()=>e.domain(),range:(function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o})(()=>r),rangeMin:()=>r[0],rangeMax:()=>r[1],isInRange(a){var o=r[0],c=r[1];return o<=c?a>=o&&a<=c:a>=c&&a<=o},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,o)=>{var c=e(a);if(c!=null){if(e.bandwidth&&o!==null&&o!==void 0&&o.position){var d=e.bandwidth();switch(o.position){case"middle":c+=d/2;break;case"end":c+=d;break}}return c}}}}function E2(e,t,n){if(typeof e=="function")return S2(e.copy().domain(t).range(n));if(e!=null){var i=Pq(e);if(i!=null)return i.domain(t).range(n),S2(i)}}var iL=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Cs(t)){for(var n,i,r=0;r<t.length;r++){var a=t[r];Gt(a)&&((n===void 0||a<n)&&(n=a),(i===void 0||a>i)&&(i=a))}return n!==void 0&&i!==void 0?[n,i]:void 0}return t}default:return t}};function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(i){Mq(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Mq(e,t,n){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B_=[0,"auto"],qn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},rL=(e,t)=>e.cartesianAxis.xAxis[t],Ba=(e,t)=>{var n=rL(e,t);return n??qn},Vn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:B_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:nf},aL=(e,t)=>e.cartesianAxis.yAxis[t],za=(e,t)=>{var n=aL(e,t);return n??Vn},Dq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},O1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Dq},pn=(e,t,n)=>{switch(t){case"xAxis":return Ba(e,n);case"yAxis":return za(e,n);case"zAxis":return O1(e,n);case"angleAxis":return E1(e,n);case"radiusAxis":return C1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jq=(e,t,n)=>{switch(t){case"xAxis":return Ba(e,n);case"yAxis":return za(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Uu=(e,t,n)=>{switch(t){case"xAxis":return Ba(e,n);case"yAxis":return za(e,n);case"angleAxis":return E1(e,n);case"radiusAxis":return C1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},sL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function P1(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var pf=e=>e.graphicalItems.cartesianItems,Lq=it([en,ff],P1),M1=(e,t,n)=>e.filter(n).filter(i=>t?.includeHidden===!0?!0:!i.hide),mf=it([pf,pn,Lq],M1,{memoizeOptions:{resultEqualityCheck:Cv}}),oL=it([mf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Sv)),lL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Rq=it([mf],lL),N1=e=>e.map(t=>t.data).filter(Boolean).flat(1),Iq=it([mf],N1,{memoizeOptions:{resultEqualityCheck:Cv}}),k1=(e,t)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:r}=t;return e.length>0?e:n.slice(i,r+1)},D1=it([Iq,b1],k1),j1=(e,t,n)=>t?.dataKey!=null?e.map(i=>({value:Ae(i,t.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>e.map(r=>({value:Ae(r,i)}))):e.map(i=>({value:i})),Tv=it([D1,pn,mf],j1);function cL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Mm(e){if(Or(e)||e instanceof Date){var t=Number(e);if(Gt(t))return t}}function T2(e){if(Array.isArray(e)){var t=[Mm(e[0]),Mm(e[1])];return Cs(t)?t:void 0}var n=Mm(e);if(n!=null)return[n,n]}function Ts(e){return e.map(Mm).filter($i)}function Bq(e,t,n){return!n||typeof t!="number"||Zr(t)?[]:n.length?Ts(n.flatMap(i=>{var r=Ae(e,i.dataKey),a,o;if(Array.isArray(r)?[a,o]=r:a=o=r,!(!Gt(a)||!Gt(o)))return[t-a,t+o]})):[]}var Fn=e=>{var t=Qn(e),n=Fu(e);return Uu(e,t,n)},gf=it([Fn],e=>e?.dataKey),zq=it([oL,b1,Fn],nL),uL=(e,t,n,i)=>{var r={},a=t.reduce((o,c)=>{if(c.stackId==null)return o;var d=o[c.stackId];return d==null&&(d=[]),d.push(c),o[c.stackId]=d,o},r);return Object.fromEntries(Object.entries(a).map(o=>{var[c,d]=o,f=i?[...d].reverse():d,p=f.map(Av);return[c,{stackedData:sU(e,p,n),graphicalItems:f}]}))},_g=it([zq,oL,hf,Kj],uL),dL=(e,t,n,i)=>{var{dataStartIndex:r,dataEndIndex:a}=t;if(i==null&&n!=="zAxis"){var o=uU(e,r,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Fq=it([pn],e=>e.allowDataOverflow),L1=e=>{var t;if(e==null||!("domain"in e))return B_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ts(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:B_},R1=it([pn],L1),I1=it([R1,Fq],Rj),Uq=it([_g,ks,en,I1],dL,{memoizeOptions:{resultEqualityCheck:Ev}}),Ov=e=>e.errorBars,Hq=(e,t,n)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>cL(n,i)),wg=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.filter(Boolean);if(r.length!==0){var a=r.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},B1=(e,t,n,i,r)=>{var a,o;if(n.length>0&&e.forEach(c=>{n.forEach(d=>{var f,p,m=(f=i[d.id])===null||f===void 0?void 0:f.filter(O=>cL(r,O)),y=Ae(c,(p=t.dataKey)!==null&&p!==void 0?p:d.dataKey),b=Bq(c,y,m);if(b.length>=2){var A=Math.min(...b),w=Math.max(...b);(a==null||A<a)&&(a=A),(o==null||w>o)&&(o=w)}var C=T2(y);C!=null&&(a=a==null?C[0]:Math.min(a,C[0]),o=o==null?C[1]:Math.max(o,C[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=T2(Ae(c,t.dataKey));d!=null&&(a=a==null?d[0]:Math.min(a,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),Gt(a)&&Gt(o))return[a,o]},$q=it([D1,pn,Rq,Ov,en],B1,{memoizeOptions:{resultEqualityCheck:Ev}});function Gq(e){var{value:t}=e;if(Or(t)||t instanceof Date)return t}var qq=(e,t,n)=>{var i=e.map(Gq).filter(r=>r!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&Mk(i))?ej(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},hL=e=>e.referenceElements.dots,Hu=(e,t,n)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===n:i.yAxisId===n),Vq=it([hL,en,ff],Hu),fL=e=>e.referenceElements.areas,Wq=it([fL,en,ff],Hu),pL=e=>e.referenceElements.lines,Yq=it([pL,en,ff],Hu),mL=(e,t)=>{if(e!=null){var n=Ts(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Kq=it(Vq,en,mL),gL=(e,t)=>{if(e!=null){var n=Ts(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Zq=it([Wq,en],gL);function Xq(e){var t;if(e.x!=null)return Ts([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(i=>i.x);return n==null||n.length===0?[]:Ts(n)}function Qq(e){var t;if(e.y!=null)return Ts([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(i=>i.y);return n==null||n.length===0?[]:Ts(n)}var vL=(e,t)=>{if(e!=null){var n=e.flatMap(i=>t==="xAxis"?Xq(i):Qq(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Jq=it([Yq,en],vL),tV=it(Kq,Jq,Zq,(e,t,n)=>wg(e,n,t)),z1=(e,t,n,i,r,a,o,c)=>{if(n!=null)return n;var d=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=d?wg(i,a,r):wg(a,r);return hq(t,f,e.allowDataOverflow)},eV=it([pn,R1,I1,Uq,$q,tV,le,en],z1,{memoizeOptions:{resultEqualityCheck:Ev}}),nV=[0,1],F1=(e,t,n,i,r,a,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:d}=e,f=Jr(t,a);if(f&&c==null){var p;return ej(0,(p=n?.length)!==null&&p!==void 0?p:0)}return d==="category"?qq(i,e,f):r==="expand"?nV:o}},U1=it([pn,le,D1,Tv,hf,en,eV],F1);function iV(e){return e in bh}var yL=(e,t,n)=>{if(e!=null){var{scale:i,type:r}=e;if(i==="auto")return r==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":r==="category"?"band":"linear";if(typeof i=="string"){var a="scale".concat(Qh(i));return iV(a)?a:"point"}}},Go=it([pn,sL,w1],yL);function H1(e,t,n,i){if(!(n==null||i==null))return typeof e.scale=="function"?E2(e.scale,n,i):E2(t,n,i)}var $1=(e,t,n)=>{var i=L1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Cs(e))return vq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cs(e))return yq(e,t.tickCount,t.allowDecimals)}},G1=it([U1,Uu,Go],$1),q1=(e,t,n,i)=>{if(i!=="angleAxis"&&e?.type==="number"&&Cs(t)&&Array.isArray(n)&&n.length>0){var r,a,o=t[0],c=(r=n[0])!==null&&r!==void 0?r:0,d=t[1],f=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,c),Math.max(d,f)]}return t},rV=it([pn,U1,G1,en],q1),aV=it(Tv,pn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,i=Array.from(Ts(e.map(m=>m.value))).sort((m,y)=>m-y),r=i[0],a=i[i.length-1];if(r==null||a==null)return 1/0;var o=a-r;if(o===0)return 1/0;for(var c=0;c<i.length-1;c++){var d=i[c],f=i[c+1];if(!(d==null||f==null)){var p=f-d;n=Math.min(n,p)}}return n/o}}),bL=it(aV,le,Yj,In,(e,t,n,i,r)=>r,(e,t,n,i,r)=>{if(!Gt(e))return 0;var a=t==="vertical"?i.height:i.width;if(r==="gap")return e*a/2;if(r==="no-gap"){var o=mi(n,e*a),c=e*a/2;return c-o-(c-o)/a*o}return 0}),sV=(e,t,n)=>{var i=Ba(e,t);return i==null||typeof i.padding!="string"?0:bL(e,"xAxis",t,n,i.padding)},oV=(e,t,n)=>{var i=za(e,t);return i==null||typeof i.padding!="string"?0:bL(e,"yAxis",t,n,i.padding)},lV=it(Ba,sV,(e,t)=>{var n,i;if(e==null)return{left:0,right:0};var{padding:r}=e;return typeof r=="string"?{left:t,right:t}:{left:((n=r.left)!==null&&n!==void 0?n:0)+t,right:((i=r.right)!==null&&i!==void 0?i:0)+t}}),cV=it(za,oV,(e,t)=>{var n,i;if(e==null)return{top:0,bottom:0};var{padding:r}=e;return typeof r=="string"?{top:t,bottom:t}:{top:((n=r.top)!==null&&n!==void 0?n:0)+t,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+t}}),uV=it([In,lV,cv,lv,(e,t,n)=>n],(e,t,n,i,r)=>{var{padding:a}=i;return r?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),dV=it([In,le,cV,cv,lv,(e,t,n)=>n],(e,t,n,i,r,a)=>{var{padding:o}=r;return a?[i.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),vf=(e,t,n,i)=>{var r;switch(t){case"xAxis":return uV(e,n,i);case"yAxis":return dV(e,n,i);case"zAxis":return(r=O1(e,n))===null||r===void 0?void 0:r.range;case"angleAxis":return Jj(e);case"radiusAxis":return tL(e,n);default:return}},xL=it([pn,vf],xv),hV=it([Go,rV],iL),Nu=it([pn,Go,hV,xL],H1);it([mf,Ov,en],Hq);function _L(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Pv=(e,t)=>t,Mv=(e,t,n)=>n,fV=it(sv,Pv,Mv,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(_L)),pV=it(ov,Pv,Mv,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(_L)),wL=(e,t)=>({width:e.width,height:t.height}),mV=(e,t)=>{var n=typeof t.width=="number"?t.width:nf;return{width:n,height:e.height}},AL=it(In,Ba,wL),gV=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},vV=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},yV=it(Ms,In,fV,Pv,Mv,(e,t,n,i,r)=>{var a={},o;return n.forEach(c=>{var d=wL(t,c);o==null&&(o=gV(t,i,e));var f=i==="top"&&!r||i==="bottom"&&r;a[c.id]=o-Number(f)*d.height,o+=(f?-1:1)*d.height}),a}),bV=it(Ps,In,pV,Pv,Mv,(e,t,n,i,r)=>{var a={},o;return n.forEach(c=>{var d=mV(t,c);o==null&&(o=vV(t,i,e));var f=i==="left"&&!r||i==="right"&&r;a[c.id]=o-Number(f)*d.width,o+=(f?-1:1)*d.width}),a}),xV=(e,t)=>{var n=Ba(e,t);if(n!=null)return yV(e,n.orientation,n.mirror)},_V=it([In,Ba,xV,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var r=n?.[i];return r==null?{x:e.left,y:0}:{x:e.left,y:r}}}),wV=(e,t)=>{var n=za(e,t);if(n!=null)return bV(e,n.orientation,n.mirror)},AV=it([In,za,wV,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var r=n?.[i];return r==null?{x:0,y:e.top}:{x:r,y:e.top}}}),SL=it(In,za,(e,t)=>{var n=typeof t.width=="number"?t.width:nf;return{width:n,height:e.height}}),O2=(e,t,n)=>{switch(t){case"xAxis":return AL(e,n).width;case"yAxis":return SL(e,n).height;default:return}},EL=(e,t,n,i)=>{if(n!=null){var{allowDuplicatedCategory:r,type:a,dataKey:o}=n,c=Jr(e,i),d=t.map(f=>f.value);if(o&&c&&a==="category"&&r&&Mk(d))return d}},V1=it([le,Tv,pn,en],EL),CL=(e,t,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:r,scale:a}=n,o=Jr(e,i);if(o&&(r==="number"||a!=="auto"))return t.map(c=>c.value)}},W1=it([le,Tv,Uu,en],CL),P2=it([le,jq,Go,Nu,V1,W1,vf,G1,en],(e,t,n,i,r,a,o,c,d)=>{if(t!=null){var f=Jr(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:a,duplicateDomain:r,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:i}}}),SV=(e,t,n,i,r,a,o,c,d)=>{if(!(t==null||i==null)){var f=Jr(e,d),{type:p,ticks:m,tickCount:y}=t,b=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,A=p==="category"&&i.bandwidth?i.bandwidth()/b:0;A=d==="angleAxis"&&a!=null&&a.length>=2?Zn(a[0]-a[1])*2*A:A;var w=m||r;return w?w.map((C,O)=>{var k=o?o.indexOf(C):C,M=i.map(k);return Gt(M)?{index:O,coordinate:M+A,value:C,offset:A}:null}).filter($i):f&&c?c.map((C,O)=>{var k=i.map(C);return Gt(k)?{coordinate:k+A,value:C,index:O,offset:A}:null}).filter($i):i.ticks?i.ticks(y).map((C,O)=>{var k=i.map(C);return Gt(k)?{coordinate:k+A,value:C,index:O,offset:A}:null}).filter($i):i.domain().map((C,O)=>{var k=i.map(C);return Gt(k)?{coordinate:k+A,value:o?o[C]:C,index:O,offset:A}:null}).filter($i)}},TL=it([le,Uu,Go,Nu,G1,vf,V1,W1,en],SV),EV=(e,t,n,i,r,a,o)=>{if(!(t==null||n==null||i==null||i[0]===i[1])){var c=Jr(e,o),{tickCount:d}=t,f=0;return f=o==="angleAxis"&&i?.length>=2?Zn(i[0]-i[1])*2*f:f,c&&a?a.map((p,m)=>{var y=n.map(p);return Gt(y)?{coordinate:y+f,value:p,index:m,offset:f}:null}).filter($i):n.ticks?n.ticks(d).map((p,m)=>{var y=n.map(p);return Gt(y)?{coordinate:y+f,value:p,index:m,offset:f}:null}).filter($i):n.domain().map((p,m)=>{var y=n.map(p);return Gt(y)?{coordinate:y+f,value:r?r[p]:p,index:m,offset:f}:null}).filter($i)}},ja=it([le,Uu,Nu,vf,V1,W1,en],EV),La=it(pn,Nu,(e,t)=>{if(!(e==null||t==null))return xg(xg({},e),{},{scale:t})}),CV=it([pn,Go,U1,xL],H1);it((e,t,n)=>O1(e,n),CV,(e,t)=>{if(!(e==null||t==null))return xg(xg({},e),{},{scale:t})});var TV=it([le,sv,ov],(e,t,n)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),OL=e=>e.options.defaultTooltipEventType,PL=e=>e.options.validateTooltipEventTypes;function ML(e,t,n){if(e==null)return t;var i=e?"axis":"item";return n==null?t:n.includes(i)?i:t}function Y1(e,t){var n=OL(e),i=PL(e);return ML(t,n,i)}function OV(e){return Tt(t=>Y1(t,e))}var NL=(e,t)=>{var n,i=Number(t);if(!(Zr(i)||t==null))return i>=0?e==null||(n=e[i])===null||n===void 0?void 0:n.value:void 0},PV=e=>e.tooltip.settings,Ao={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},MV={itemInteraction:{click:Ao,hover:Ao},axisInteraction:{click:Ao,hover:Ao},keyboardInteraction:Ao,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kL=qi({name:"tooltip",initialState:MV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:We()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:i}=t.payload,r=Kr(e).tooltipItemPayloads.indexOf(n);r>-1&&(e.tooltipItemPayloads[r]=i)},prepare:We()},removeTooltipEntrySettings:{reducer(e,t){var n=Kr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:We()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:NV,replaceTooltipEntrySettings:kV,removeTooltipEntrySettings:DV,setTooltipSettingsState:jV,setActiveMouseOverItemIndex:DL,mouseLeaveItem:LV,mouseLeaveChart:jL,setActiveClickItemIndex:RV,setMouseOverAxisIndex:LL,setMouseClickAxisIndex:IV,setSyncInteraction:z_,setKeyboardInteraction:F_}=kL.actions,BV=kL.reducer;function M2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function pm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M2(Object(n),!0).forEach(function(i){zV(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function zV(e,t,n){return(t=FV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HV(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function $V(e){return e.index!=null}var RL=(e,t,n,i)=>{if(t==null)return Ao;var r=HV(e,t,n);if(r==null)return Ao;if(r.active)return r;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if($V(r)){if(a)return pm(pm({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return pm(pm({},Ao),{},{coordinate:r.coordinate})};function GV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function qV(e,t){var n=GV(e),i=t[0],r=t[1];if(n===void 0)return!1;var a=Math.min(i,r),o=Math.max(i,r);return n>=a&&n<=o}function VV(e,t,n){if(n==null||t==null)return!0;var i=Ae(e,t);return i==null||!Cs(n)?!0:qV(i,n)}var K1=(e,t,n,i)=>{var r=e?.index;if(r==null)return null;var a=Number(r);if(!Gt(a))return r;var o=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(o,Math.min(a,c)),f=t[d];return f==null||VV(f,n,i)?String(d):null},IL=(e,t,n,i,r,a,o)=>{if(a!=null){var c=o[0],d=c?.getPosition(a);if(d!=null)return d;var f=r?.[Number(a)];if(f)return n==="horizontal"?{x:f.coordinate,y:(i.top+t)/2}:{x:(i.left+e)/2,y:f.coordinate}}},BL=(e,t,n,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var r;if(n==="hover"?r=e.itemInteraction.hover.graphicalItemId:r=e.itemInteraction.click.graphicalItemId,r==null&&i!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.graphicalItemId)===r})},zL=e=>e.options.tooltipPayloadSearcher,$u=e=>e.tooltip;function N2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function k2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(n),!0).forEach(function(i){WV(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function WV(e,t,n){return(t=YV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YV(e){var t=KV(e,"string");return typeof t=="symbol"?t:t+""}function KV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZV(e,t){return e??t}var FL=(e,t,n,i,r,a,o)=>{if(!(t==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:p}=n,m=[];return e.reduce((y,b)=>{var A,{dataDefinedOnItem:w,settings:C}=b,O=ZV(w,c),k=Array.isArray(O)?AD(O,f,p):O,M=(A=C?.dataKey)!==null&&A!==void 0?A:i,j=C?.nameKey,I;if(i&&Array.isArray(k)&&!Array.isArray(k[0])&&o==="axis"?I=Nk(k,i,r):I=a(k,t,d,j),Array.isArray(I))I.forEach(z=>{var H=k2(k2({},C),{},{name:z.name,unit:z.unit,color:void 0,fill:void 0});y.push(MO({tooltipEntrySettings:H,dataKey:z.dataKey,payload:z.payload,value:Ae(z.payload,z.dataKey),name:z.name}))});else{var R;y.push(MO({tooltipEntrySettings:C,dataKey:M,payload:I,value:Ae(I,M),name:(R=Ae(I,j))!==null&&R!==void 0?R:C?.name}))}return y},m)}},Z1=it([Fn,sL,w1],yL),XV=it([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),QV=it([Qn,Fu],P1),Gu=it([XV,Fn,QV],M1,{memoizeOptions:{resultEqualityCheck:Cv}}),JV=it([Gu],e=>e.filter(Sv)),t9=it([Gu],N1,{memoizeOptions:{resultEqualityCheck:Cv}}),qu=it([t9,ks],k1),e9=it([JV,ks,Fn],nL),X1=it([qu,Fn,Gu],j1),UL=it([Fn],L1),n9=it([Fn],e=>e.allowDataOverflow),HL=it([UL,n9],Rj),i9=it([Gu],e=>e.filter(Sv)),r9=it([e9,i9,hf,Kj],uL),a9=it([r9,ks,Qn,HL],dL),s9=it([Gu],lL),o9=it([qu,Fn,s9,Ov,Qn],B1,{memoizeOptions:{resultEqualityCheck:Ev}}),l9=it([hL,Qn,Fu],Hu),c9=it([l9,Qn],mL),u9=it([fL,Qn,Fu],Hu),d9=it([u9,Qn],gL),h9=it([pL,Qn,Fu],Hu),f9=it([h9,Qn],vL),p9=it([c9,f9,d9],wg),m9=it([Fn,UL,HL,a9,o9,p9,le,Qn],z1),yf=it([Fn,le,qu,X1,hf,Qn,m9],F1),g9=it([yf,Fn,Z1],$1),v9=it([Fn,yf,g9,Qn],q1),$L=e=>{var t=Qn(e),n=Fu(e),i=!1;return vf(e,t,n,i)},GL=it([Fn,$L],xv),qL=it([Fn,Z1,v9,GL],H1),y9=it([le,X1,Fn,Qn],EL),b9=it([le,X1,Fn,Qn],CL),x9=(e,t,n,i,r,a,o,c)=>{if(t){var{type:d}=t,f=Jr(e,c);if(i){var p=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,m=d==="category"&&i.bandwidth?i.bandwidth()/p:0;return m=c==="angleAxis"&&r!=null&&r?.length>=2?Zn(r[0]-r[1])*2*m:m,f&&o?o.map((y,b)=>{var A=i.map(y);return Gt(A)?{coordinate:A+m,value:y,index:b,offset:m}:null}).filter($i):i.domain().map((y,b)=>{var A=i.map(y);return Gt(A)?{coordinate:A+m,value:a?a[y]:y,index:b,offset:m}:null}).filter($i)}}},Ds=it([le,Fn,Z1,qL,$L,y9,b9,Qn],x9),Q1=it([OL,PL,PV],(e,t,n)=>ML(n.shared,e,t)),VL=e=>e.tooltip.settings.trigger,J1=e=>e.tooltip.settings.defaultIndex,bf=it([$u,Q1,VL,J1],RL),jo=it([bf,qu,gf,yf],K1),WL=it([Ds,jo],NL),tA=it([bf],e=>{if(e)return e.dataKey}),_9=it([bf],e=>{if(e)return e.graphicalItemId}),YL=it([$u,Q1,VL,J1],BL),w9=it([Ps,Ms,le,In,Ds,J1,YL],IL),A9=it([bf,w9],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),S9=it([bf],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),E9=it([YL,jo,ks,gf,WL,zL,Q1],FL),C9=it([E9],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function j2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(i){T9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function T9(e,t,n){return(t=O9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O9(e){var t=P9(e,"string");return typeof t=="symbol"?t:t+""}function P9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M9=()=>Tt(Fn),N9=()=>{var e=M9(),t=Tt(Ds),n=Tt(qL);return Do(!e||!n?void 0:j2(j2({},e),{},{scale:n}),t)};function L2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L2(Object(n),!0).forEach(function(i){k9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function k9(e,t,n){return(t=D9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){var t=j9(e,"string");return typeof t=="symbol"?t:t+""}function j9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L9=(e,t,n,i)=>{var r=t.find(a=>a&&a.index===n);if(r){if(e==="horizontal")return{x:r.coordinate,y:i.chartY};if(e==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},R9=(e,t,n,i)=>{var r=t.find(f=>f&&f.index===n);if(r){if(e==="centric"){var a=r.coordinate,{radius:o}=i;return nu(nu(nu({},i),On(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var c=r.coordinate,{angle:d}=i;return nu(nu(nu({},i),On(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function I9(e,t){var{chartX:n,chartY:i}=e;return n>=t.left&&n<=t.left+t.width&&i>=t.top&&i<=t.top+t.height}var KL=(e,t,n,i,r)=>{var a,o=(a=t?.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var c=0;c<o;c++){var d,f,p,m,y,b=c>0?(d=n[c-1])===null||d===void 0?void 0:d.coordinate:(f=n[o-1])===null||f===void 0?void 0:f.coordinate,A=(p=n[c])===null||p===void 0?void 0:p.coordinate,w=c>=o-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(y=n[c+1])===null||y===void 0?void 0:y.coordinate,C=void 0;if(!(b==null||A==null||w==null))if(Zn(A-b)!==Zn(w-A)){var O=[];if(Zn(w-A)===Zn(r[1]-r[0])){C=w;var k=A+r[1]-r[0];O[0]=Math.min(k,(k+b)/2),O[1]=Math.max(k,(k+b)/2)}else{C=b;var M=w+r[1]-r[0];O[0]=Math.min(A,(M+A)/2),O[1]=Math.max(A,(M+A)/2)}var j=[Math.min(A,(C+A)/2),Math.max(A,(C+A)/2)];if(e>j[0]&&e<=j[1]||e>=O[0]&&e<=O[1]){var I;return(I=n[c])===null||I===void 0?void 0:I.index}}else{var R=Math.min(b,w),z=Math.max(b,w);if(e>(R+A)/2&&e<=(z+A)/2){var H;return(H=n[c])===null||H===void 0?void 0:H.index}}}else if(t)for(var W=0;W<o;W++){var et=t[W];if(et!=null){var Y=t[W+1],q=t[W-1];if(W===0&&Y!=null&&e<=(et.coordinate+Y.coordinate)/2||W===o-1&&q!=null&&e>(et.coordinate+q.coordinate)/2||W>0&&W<o-1&&q!=null&&Y!=null&&e>(et.coordinate+q.coordinate)/2&&e<=(et.coordinate+Y.coordinate)/2)return et.index}}return-1},ZL=()=>Tt(w1),eA=(e,t)=>t,XL=(e,t,n)=>n,nA=(e,t,n,i)=>i,B9=it(Ds,e=>Zg(e,t=>t.coordinate)),iA=it([$u,eA,XL,nA],RL),rA=it([iA,qu,gf,yf],K1),z9=(e,t,n)=>{if(t!=null){var i=$u(e);return t==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},QL=it([$u,eA,XL,nA],BL),Ag=it([Ps,Ms,le,In,Ds,nA,QL],IL),F9=it([iA,Ag],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),JL=it([Ds,rA],NL),U9=it([QL,rA,ks,gf,JL,zL,eA],FL),H9=it([iA,rA],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),$9=(e,t,n,i,r,a,o)=>{if(!(!e||!n||!i||!r)&&I9(e,o)){var c=dU(e,t),d=KL(c,a,r,n,i),f=L9(t,r,d,e);return{activeIndex:String(d),activeCoordinate:f}}},G9=(e,t,n,i,r,a,o)=>{if(!(!e||!i||!r||!a||!n)){var c=O8(e,n);if(c){var d=hU(c,t),f=KL(d,o,a,i,r),p=R9(t,a,f,c);return{activeIndex:String(f),activeCoordinate:p}}}},q9=(e,t,n,i,r,a,o,c)=>{if(!(!e||!t||!i||!r||!a))return t==="horizontal"||t==="vertical"?$9(e,t,i,r,a,o,c):G9(e,t,n,i,r,a,o)},V9=it(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var i=e[t];if(i!=null)return n?i.panoramaElement:i.element}}),W9=it(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(i=>parseInt(i,10)).concat(Object.values(fn)),n=Array.from(new Set(t));return n.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:Oq}});function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function I2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(i){Y9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Y9(e,t,n){return(t=K9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=Z9(e,"string");return typeof t=="symbol"?t:t+""}function Z9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X9={},Q9={zIndexMap:Object.values(fn).reduce((e,t)=>I2(I2({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),X9)},J9=new Set(Object.values(fn));function t7(e){return J9.has(e)}var tR=qi({name:"zIndex",initialState:Q9,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:We()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!t7(n)&&delete e.zIndexMap[n])},prepare:We()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:i,isPanorama:r}=t.payload;e.zIndexMap[n]?r?e.zIndexMap[n].panoramaElement=i:e.zIndexMap[n].element=i:e.zIndexMap[n]={consumers:0,element:r?void 0:i,panoramaElement:r?i:void 0}},prepare:We()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:We()}}}),{registerZIndexPortal:e7,unregisterZIndexPortal:n7,registerZIndexPortalElement:i7,unregisterZIndexPortalElement:r7}=tR.actions,a7=tR.reducer;function gi(e){var{zIndex:t,children:n}=e,i=$U(),r=i&&t!==void 0&&t!==0,a=Bn(),o=Re();P.useLayoutEffect(()=>r?(o(e7({zIndex:t})),()=>{o(n7({zIndex:t}))}):zo,[o,t,r]);var c=Tt(d=>V9(d,t,a));return r?c?Ug.createPortal(n,c):null:n}function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},U_.apply(null,arguments)}function B2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function mm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(n),!0).forEach(function(i){s7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function s7(e,t,n){return(t=o7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c7(e){var{cursor:t,cursorComp:n,cursorProps:i}=e;return P.isValidElement(t)?P.cloneElement(t,i):P.createElement(n,i)}function u7(e){var t,{coordinate:n,payload:i,index:r,offset:a,tooltipAxisBandSize:o,layout:c,cursor:d,tooltipEventType:f,chartName:p}=e,m=n,y=i,b=r;if(!d||!m||p!=="ScatterChart"&&f!=="axis")return null;var A,w,C;if(p==="ScatterChart")A=m,w=HH,C=fn.cursorLine;else if(p==="BarChart")A=$H(c,m,a,o),w=ZD,C=fn.cursorRectangle;else if(c==="radial"&&Dk(m)){var{cx:O,cy:k,radius:M,startAngle:j,endAngle:I}=QD(m);A={cx:O,cy:k,startAngle:j,endAngle:I,innerRadius:M,outerRadius:M},w=tj,C=fn.cursorLine}else A={points:k8(c,m,a)},w=vu,C=fn.cursorLine;var R=typeof d=="object"&&"className"in d?d.className:void 0,z=mm(mm(mm(mm({stroke:"#ccc",pointerEvents:"none"},a),A),Kl(d)),{},{payload:y,payloadIndex:b,className:ce("recharts-tooltip-cursor",R)});return P.createElement(gi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:C},P.createElement(c7,{cursor:d,cursorComp:w,cursorProps:z}))}function d7(e){var t=N9(),n=DD(),i=Uo(),r=ZL();return t==null||n==null||i==null||r==null?null:P.createElement(u7,U_({},e,{offset:n,layout:i,tooltipAxisBandSize:t,chartName:r}))}var eR=P.createContext(null),h7=()=>P.useContext(eR),Ex={exports:{}},z2;function f7(){return z2||(z2=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function a(d,f,p,m,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new r(p,m||d,y),A=n?n+f:f;return d._events[A]?d._events[A].fn?d._events[A]=[d._events[A],b]:d._events[A].push(b):(d._events[A]=b,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new i:delete d._events[f]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,A=new Array(b);y<b;y++)A[y]=m[y].fn;return A},c.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,y,b,A){var w=n?n+f:f;if(!this._events[w])return!1;var C=this._events[w],O=arguments.length,k,M;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),O){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,m),!0;case 4:return C.fn.call(C.context,p,m,y),!0;case 5:return C.fn.call(C.context,p,m,y,b),!0;case 6:return C.fn.call(C.context,p,m,y,b,A),!0}for(M=1,k=new Array(O-1);M<O;M++)k[M-1]=arguments[M];C.fn.apply(C.context,k)}else{var j=C.length,I;for(M=0;M<j;M++)switch(C[M].once&&this.removeListener(f,C[M].fn,void 0,!0),O){case 1:C[M].fn.call(C[M].context);break;case 2:C[M].fn.call(C[M].context,p);break;case 3:C[M].fn.call(C[M].context,p,m);break;case 4:C[M].fn.call(C[M].context,p,m,y);break;default:if(!k)for(I=1,k=new Array(O-1);I<O;I++)k[I-1]=arguments[I];C[M].fn.apply(C[M].context,k)}}return!0},c.prototype.on=function(f,p,m){return a(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return a(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,y){var b=n?n+f:f;if(!this._events[b])return this;if(!p)return o(this,b),this;var A=this._events[b];if(A.fn)A.fn===p&&(!y||A.once)&&(!m||A.context===m)&&o(this,b);else{for(var w=0,C=[],O=A.length;w<O;w++)(A[w].fn!==p||y&&!A[w].once||m&&A[w].context!==m)&&C.push(A[w]);C.length?this._events[b]=C.length===1?C[0]:C:o(this,b)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&o(this,p)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(Ex)),Ex.exports}var p7=f7();const m7=Ia(p7);var Fh=new m7,H_="recharts.syncEvent.tooltip",F2="recharts.syncEvent.brush",Nv=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!Zr(n))return e[n]}},g7={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},nR=qi({name:"options",initialState:g7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),v7=nR.reducer,{createEventEmitter:y7}=nR.actions;function b7(e){return e.tooltip.syncInteraction}var x7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},iR=qi({name:"chartData",initialState:x7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:i}=t.payload;n!=null&&(e.dataStartIndex=n),i!=null&&(e.dataEndIndex=i)}}}),{setChartData:U2,setDataStartEndIndexes:_7,setComputedData:vit}=iR.actions,w7=iR.reducer,A7=["x","y"];function H2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(n),!0).forEach(function(i){S7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function S7(e,t,n){return(t=E7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T7(e,t){if(e==null)return{};var n,i,r=O7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function P7(){var e=Tt(A1),t=Tt(S1),n=Re(),i=Tt(Zj),r=Tt(Ds),a=Uo(),o=rf(),c=Tt(d=>d.rootProps.className);P.useEffect(()=>{if(e==null)return zo;var d=(f,p,m)=>{if(t!==m&&e===f){if(i==="index"){var y;if(o&&p!==null&&p!==void 0&&(y=p.payload)!==null&&y!==void 0&&y.coordinate&&p.payload.sourceViewBox){var b=p.payload.coordinate,{x:A,y:w}=b,C=T7(b,A7),{x:O,y:k,width:M,height:j}=p.payload.sourceViewBox,I=iu(iu({},C),{},{x:o.x+(M?(A-O)/M:0)*o.width,y:o.y+(j?(w-k)/j:0)*o.height});n(iu(iu({},p),{},{payload:iu(iu({},p.payload),{},{coordinate:I})}))}else n(p);return}if(r!=null){var R;if(typeof i=="function"){var z={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},H=i(r,z);R=r[H]}else i==="value"&&(R=r.find($=>String($.value)===p.payload.label));var{coordinate:W}=p.payload;if(R==null||p.payload.active===!1||W==null||o==null){n(z_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:et,y:Y}=W,q=Math.min(et,o.x+o.width),yt=Math.min(Y,o.y+o.height),ct={x:a==="horizontal"?R.coordinate:q,y:a==="horizontal"?yt:R.coordinate},xt=z_({active:p.payload.active,coordinate:ct,dataKey:p.payload.dataKey,index:String(R.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox,graphicalItemId:p.payload.graphicalItemId});n(xt)}}};return Fh.on(H_,d),()=>{Fh.off(H_,d)}},[c,n,t,e,i,r,a,o])}function M7(){var e=Tt(A1),t=Tt(S1),n=Re();P.useEffect(()=>{if(e==null)return zo;var i=(r,a,o)=>{t!==o&&e===r&&n(_7(a))};return Fh.on(F2,i),()=>{Fh.off(F2,i)}},[n,t,e])}function N7(){var e=Re();P.useEffect(()=>{e(y7())},[e]),P7(),M7()}function k7(e,t,n,i,r,a){var o=Tt(b=>z9(b,e,t)),c=Tt(S1),d=Tt(A1),f=Tt(Zj),p=Tt(b7),m=p?.active,y=rf();P.useEffect(()=>{if(!m&&d!=null&&c!=null){var b=z_({active:a,coordinate:n,dataKey:o,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:y,graphicalItemId:void 0});Fh.emit(H_,d,b,c)}},[m,n,o,r,i,c,d,f,a,y])}function $2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function G2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(n),!0).forEach(function(i){D7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function D7(e,t,n){return(t=j7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j7(e){var t=L7(e,"string");return typeof t=="symbol"?t:t+""}function L7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R7(e){return e.dataKey}function I7(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(_H,t)}var q2=[],B7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function uh(e){var t,n,i=tn(e,B7),{active:r,allowEscapeViewBox:a,animationDuration:o,animationEasing:c,content:d,filterNull:f,isAnimationActive:p,offset:m,payloadUniqBy:y,position:b,reverseDirection:A,useTranslate3d:w,wrapperStyle:C,cursor:O,shared:k,trigger:M,defaultIndex:j,portal:I,axisId:R}=i,z=Re(),H=typeof j=="number"?String(j):j;P.useEffect(()=>{z(jV({shared:k,trigger:M,axisId:R,active:r,defaultIndex:H}))},[z,k,M,R,r,H]);var W=rf(),et=qD(),Y=OV(k),{activeIndex:q,isActive:yt}=(t=Tt(At=>H9(At,Y,M,H)))!==null&&t!==void 0?t:{},ct=Tt(At=>U9(At,Y,M,H)),xt=Tt(At=>JL(At,Y,M,H)),$=Tt(At=>F9(At,Y,M,H)),Q=ct,nt=h7(),bt=(n=r??yt)!==null&&n!==void 0?n:!1,[Z,U]=Wk([Q,bt]),X=Y==="axis"?xt:void 0;k7(Y,M,$,X,q,bt);var ut=I??nt;if(ut==null||W==null||Y==null)return null;var gt=Q??q2;bt||(gt=q2),f&&gt.length&&(gt=Hk(gt.filter(At=>At.value!=null&&(At.hide!==!0||i.includeHidden)),y,R7));var _t=gt.length>0,wt=P.createElement(OH,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:p,active:bt,coordinate:$,hasPayload:_t,offset:m,position:b,reverseDirection:A,useTranslate3d:w,viewBox:W,wrapperStyle:C,lastBoundingBox:Z,innerRef:U,hasPortalFromProps:!!I},I7(d,G2(G2({},i),{},{payload:gt,label:X,active:bt,activeIndex:q,coordinate:$,accessibilityLayer:et})));return P.createElement(P.Fragment,null,Ug.createPortal(wt,ut),bt&&P.createElement(d7,{cursor:O,tooltipEventType:Y,coordinate:$,payload:gt,index:q}))}var ic=e=>null;ic.displayName="Cell";function z7(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=U7(e,"string");return typeof t=="symbol"?t:t+""}function U7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class H7{constructor(t){z7(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function V2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function $7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V2(Object(n),!0).forEach(function(i){G7(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function G7(e,t,n){return(t=q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W7={cacheSize:2e3,enableCache:!0},rR=$7({},W7),W2=new H7(rR.cacheSize),Y7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Y2="recharts_measurement_span";function K7(e,t){var n=t.fontSize||"",i=t.fontFamily||"",r=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(i,"|").concat(r,"|").concat(a,"|").concat(o,"|").concat(c)}var K2=(e,t)=>{try{var n=document.getElementById(Y2);n||(n=document.createElement("span"),n.setAttribute("id",Y2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Y7,t),n.textContent="".concat(e);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Eh=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||of.isSsr)return{width:0,height:0};if(!rR.enableCache)return K2(t,n);var i=K7(t,n),r=W2.get(i);if(r)return r;var a=K2(t,n);return W2.set(i,a),a},aR;function Z7(e,t,n){return(t=X7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tW=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nW=["cm","mm","pt","pc","in","Q","px"];function iW(e){return nW.includes(e)}var uu="NaN";function rW(e,t){return e*eW[t]}class si{static parse(t){var n,[,i,r]=(n=tW.exec(t))!==null&&n!==void 0?n:[];return i==null?si.NaN:new si(parseFloat(i),r??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Zr(t)&&(this.unit=""),n!==""&&!J7.test(n)&&(this.num=NaN,this.unit=""),iW(n)&&(this.num=rW(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new si(NaN,""):new si(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new si(NaN,""):new si(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new si(NaN,""):new si(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new si(NaN,""):new si(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zr(this.num)}}aR=si;Z7(si,"NaN",new aR(NaN,""));function sR(e){if(e==null||e.includes(uu))return uu;for(var t=e;t.includes("*")||t.includes("/");){var n,[,i,r,a]=(n=Z2.exec(t))!==null&&n!==void 0?n:[],o=si.parse(i??""),c=si.parse(a??""),d=r==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return uu;t=t.replace(Z2,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,m,y]=(f=X2.exec(t))!==null&&f!==void 0?f:[],b=si.parse(p??""),A=si.parse(y??""),w=m==="+"?b.add(A):b.subtract(A);if(w.isNaN())return uu;t=t.replace(X2,w.toString())}return t}var Q2=/\(([^()]*)\)/;function aW(e){for(var t=e,n;(n=Q2.exec(t))!=null;){var[,i]=n;t=t.replace(Q2,sR(i))}return t}function sW(e){var t=e.replace(/\s+/g,"");return t=aW(t),t=sR(t),t}function oW(e){try{return sW(e)}catch{return uu}}function Cx(e){var t=oW(e.slice(5,-1));return t===uu?"":t}var lW=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],cW=["dx","dy","angle","className","breakAll"];function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$_.apply(null,arguments)}function J2(e,t){if(e==null)return{};var n,i,r=uW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uW(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var oR=/[ \f\n\r\t\v\u2028\u2029]+/,lR=e=>{var{children:t,breakAll:n,style:i}=e;try{var r=[];Ke(t)||(n?r=t.toString().split(""):r=t.toString().split(oR));var a=r.map(c=>({word:c,width:Eh(c,i).width})),o=n?0:Eh("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function dW(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var cR=(e,t,n,i)=>e.reduce((r,a)=>{var{word:o,width:c}=a,d=r[r.length-1];if(d&&c!=null&&(t==null||i||d.width+c+n<Number(t)))d.words.push(o),d.width+=c+n;else{var f={words:[o],width:c};r.push(f)}return r},[]),uR=e=>e.reduce((t,n)=>t.width>n.width?t:n),hW="",tM=(e,t,n,i,r,a,o,c)=>{var d=e.slice(0,t),f=lR({breakAll:n,style:i,children:d+hW});if(!f)return[!1,[]];var p=cR(f.wordsWithComputedWidth,a,o,c),m=p.length>r||uR(p).width>Number(a);return[m,p]},fW=(e,t,n,i,r)=>{var{maxLines:a,children:o,style:c,breakAll:d}=e,f=Et(a),p=String(o),m=cR(t,i,n,r);if(!f||r)return m;var y=m.length>a||uR(m).width>Number(i);if(!y)return m;for(var b=0,A=p.length-1,w=0,C;b<=A&&w<=p.length-1;){var O=Math.floor((b+A)/2),k=O-1,[M,j]=tM(p,k,d,c,a,i,n,r),[I]=tM(p,O,d,c,a,i,n,r);if(!M&&!I&&(b=O+1),M&&I&&(A=O-1),!M&&I){C=j;break}w++}return C||m},eM=e=>{var t=Ke(e)?[]:e.toString().split(oR);return[{words:t,width:void 0}]},pW=e=>{var{width:t,scaleToFit:n,children:i,style:r,breakAll:a,maxLines:o}=e;if((t||n)&&!of.isSsr){var c,d,f=lR({breakAll:a,children:i,style:r});if(f){var{wordsWithComputedWidth:p,spaceWidth:m}=f;c=p,d=m}else return eM(i);return fW({breakAll:a,children:i,maxLines:o,style:r},c,d,t,!!n)}return eM(i)},dR="#808080",mW={angle:0,breakAll:!1,capHeight:"0.71em",fill:dR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},kv=P.forwardRef((e,t)=>{var n=tn(e,mW),{x:i,y:r,lineHeight:a,capHeight:o,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:p}=n,m=J2(n,lW),y=P.useMemo(()=>pW({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:b,dy:A,angle:w,className:C,breakAll:O}=m,k=J2(m,cW);if(!Or(i)||!Or(r)||y.length===0)return null;var M=Number(i)+(Et(b)?b:0),j=Number(r)+(Et(A)?A:0);if(!Gt(M)||!Gt(j))return null;var I;switch(p){case"start":I=Cx("calc(".concat(o,")"));break;case"middle":I=Cx("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:I=Cx("calc(".concat(y.length-1," * -").concat(a,")"));break}var R=[],z=y[0];if(d&&z!=null){var H=z.width,{width:W}=m;R.push("scale(".concat(Et(W)&&Et(H)?W/H:1,")"))}return w&&R.push("rotate(".concat(w,", ").concat(M,", ").concat(j,")")),R.length&&(k.transform=R.join(" ")),P.createElement("text",$_({},ci(k),{ref:t,x:M,y:j,className:ce("recharts-text",C),textAnchor:f,fill:c.includes("url")?dR:c}),y.map((et,Y)=>{var q=et.words.join(O?"":" ");return P.createElement("tspan",{x:M,dy:Y===0?I:a,key:"".concat(q,"-").concat(Y)},q)}))});kv.displayName="Text";function nM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function _a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(n),!0).forEach(function(i){gW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gW(e,t,n){return(t=vW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bW=e=>{var{viewBox:t,position:n,offset:i=0,parentViewBox:r}=e,{x:a,y:o,height:c,upperWidth:d,lowerWidth:f}=$w(t),p=a,m=a+(d-f)/2,y=(p+m)/2,b=(d+f)/2,A=p+d/2,w=c>=0?1:-1,C=w*i,O=w>0?"end":"start",k=w>0?"start":"end",M=d>=0?1:-1,j=M*i,I=M>0?"end":"start",R=M>0?"start":"end",z=r;if(n==="top"){var H={x:p+d/2,y:o-C,horizontalAnchor:"middle",verticalAnchor:O};return z&&(H.height=Math.max(o-z.y,0),H.width=d),H}if(n==="bottom"){var W={x:m+f/2,y:o+c+C,horizontalAnchor:"middle",verticalAnchor:k};return z&&(W.height=Math.max(z.y+z.height-(o+c),0),W.width=f),W}if(n==="left"){var et={x:y-j,y:o+c/2,horizontalAnchor:I,verticalAnchor:"middle"};return z&&(et.width=Math.max(et.x-z.x,0),et.height=c),et}if(n==="right"){var Y={x:y+b+j,y:o+c/2,horizontalAnchor:R,verticalAnchor:"middle"};return z&&(Y.width=Math.max(z.x+z.width-Y.x,0),Y.height=c),Y}var q=z?{width:b,height:c}:{};return n==="insideLeft"?_a({x:y+j,y:o+c/2,horizontalAnchor:R,verticalAnchor:"middle"},q):n==="insideRight"?_a({x:y+b-j,y:o+c/2,horizontalAnchor:I,verticalAnchor:"middle"},q):n==="insideTop"?_a({x:p+d/2,y:o+C,horizontalAnchor:"middle",verticalAnchor:k},q):n==="insideBottom"?_a({x:m+f/2,y:o+c-C,horizontalAnchor:"middle",verticalAnchor:O},q):n==="insideTopLeft"?_a({x:p+j,y:o+C,horizontalAnchor:R,verticalAnchor:k},q):n==="insideTopRight"?_a({x:p+d-j,y:o+C,horizontalAnchor:I,verticalAnchor:k},q):n==="insideBottomLeft"?_a({x:m+j,y:o+c-C,horizontalAnchor:R,verticalAnchor:O},q):n==="insideBottomRight"?_a({x:m+f-j,y:o+c-C,horizontalAnchor:I,verticalAnchor:O},q):n&&typeof n=="object"&&(Et(n.x)||Ql(n.x))&&(Et(n.y)||Ql(n.y))?_a({x:a+mi(n.x,b),y:o+mi(n.y,c),horizontalAnchor:"end",verticalAnchor:"end"},q):_a({x:A,y:o+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},q)},xW=["labelRef"],_W=["content"];function iM(e,t){if(e==null)return{};var n,i,r=wW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wW(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function rM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function xh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(n),!0).forEach(function(i){AW(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AW(e,t,n){return(t=SW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SW(e){var t=EW(e,"string");return typeof t=="symbol"?t:t+""}function EW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},vs.apply(null,arguments)}var hR=P.createContext(null),fR=e=>{var{x:t,y:n,upperWidth:i,lowerWidth:r,width:a,height:o,children:c}=e,d=P.useMemo(()=>({x:t,y:n,upperWidth:i,lowerWidth:r,width:a,height:o}),[t,n,i,r,a,o]);return P.createElement(hR.Provider,{value:d},c)},pR=()=>{var e=P.useContext(hR),t=rf();return e||(t?$w(t):void 0)},CW=P.createContext(null),TW=()=>{var e=P.useContext(CW),t=Tt(eL);return e||t},OW=e=>{var{value:t,formatter:n}=e,i=Ke(e.children)?t:e.children;return typeof n=="function"?n(i):i},aA=e=>e!=null&&typeof e=="function",PW=(e,t)=>{var n=Zn(t-e),i=Math.min(Math.abs(t-e),360);return n*i},MW=(e,t,n,i,r)=>{var{offset:a,className:o}=e,{cx:c,cy:d,innerRadius:f,outerRadius:p,startAngle:m,endAngle:y,clockWise:b}=r,A=(f+p)/2,w=PW(m,y),C=w>=0?1:-1,O,k;switch(t){case"insideStart":O=m+C*a,k=b;break;case"insideEnd":O=y-C*a,k=!b;break;case"end":O=y+C*a,k=b;break;default:throw new Error("Unsupported position ".concat(t))}k=w<=0?k:!k;var M=On(c,d,A,O),j=On(c,d,A,O+(k?1:-1)*359),I="M".concat(M.x,",").concat(M.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(k?0:1,`,
    `).concat(j.x,",").concat(j.y),R=Ke(e.id)?Th("recharts-radial-line-"):e.id;return P.createElement("text",vs({},i,{dominantBaseline:"central",className:ce("recharts-radial-bar-label",o)}),P.createElement("defs",null,P.createElement("path",{id:R,d:I})),P.createElement("textPath",{xlinkHref:"#".concat(R)},n))},NW=(e,t,n)=>{var{cx:i,cy:r,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(n==="outside"){var{x:p,y:m}=On(i,r,o+t,f);return{x:p,y:m,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var y=(a+o)/2,{x:b,y:A}=On(i,r,y,f);return{x:b,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Nm=e=>e!=null&&"cx"in e&&Et(e.cx),kW={angle:0,offset:5,zIndex:fn.label,position:"middle",textBreakAll:!1};function DW(e){if(!Nm(e))return e;var{cx:t,cy:n,outerRadius:i}=e,r=i*2;return{x:t-i,y:n-i,width:r,upperWidth:r,lowerWidth:r,height:r}}function wo(e){var t=tn(e,kW),{viewBox:n,parentViewBox:i,position:r,value:a,children:o,content:c,className:d="",textBreakAll:f,labelRef:p}=t,m=TW(),y=pR(),b=r==="center"?y:m??y,A,w,C;n==null?A=b:Nm(n)?A=n:A=$w(n);var O=DW(A);if(!A||Ke(a)&&Ke(o)&&!P.isValidElement(c)&&typeof c!="function")return null;var k=xh(xh({},t),{},{viewBox:A});if(P.isValidElement(c)){var{labelRef:M}=k,j=iM(k,xW);return P.cloneElement(c,j)}if(typeof c=="function"){var{content:I}=k,R=iM(k,_W);if(w=P.createElement(c,R),P.isValidElement(w))return w}else w=OW(t);var z=ci(t);if(Nm(A)){if(r==="insideStart"||r==="insideEnd"||r==="end")return MW(t,r,w,z,A);C=NW(A,t.offset,t.position)}else{if(!O)return null;var H=bW({viewBox:O,position:r,offset:t.offset,parentViewBox:Nm(i)?void 0:i});C=xh(xh({x:H.x,y:H.y,textAnchor:H.horizontalAnchor,verticalAnchor:H.verticalAnchor},H.width!==void 0?{width:H.width}:{}),H.height!==void 0?{height:H.height}:{})}return P.createElement(gi,{zIndex:t.zIndex},P.createElement(kv,vs({ref:p,className:ce("recharts-label",d)},z,C,{textAnchor:dW(z.textAnchor)?z.textAnchor:C.textAnchor,breakAll:f}),w))}wo.displayName="Label";var jW=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return e===!0?P.createElement(wo,vs({key:"label-implicit"},i)):Or(e)?P.createElement(wo,vs({key:"label-implicit",value:e},i)):P.isValidElement(e)?e.type===wo?P.cloneElement(e,xh({key:"label-implicit"},i)):P.createElement(wo,vs({key:"label-implicit",content:e},i)):aA(e)?P.createElement(wo,vs({key:"label-implicit",content:e},i)):e&&typeof e=="object"?P.createElement(wo,vs({},e,{key:"label-implicit"},i)):null};function mR(e){var{label:t,labelRef:n}=e,i=pR();return jW(t,i,n)||null}var Tx={},Ox={},aM;function LW(){return aM||(aM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Ox)),Ox}var Px={},sM;function RW(){return sM||(sM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Px)),Px}var oM;function IW(){return oM||(oM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LW(),n=RW(),i=kw();function r(a){if(i.isArrayLike(a))return t.last(n.toArray(a))}e.last=r})(Tx)),Tx}var Mx,lM;function BW(){return lM||(lM=1,Mx=IW().last),Mx}var zW=BW();const FW=Ia(zW);var UW=["valueAccessor"],HW=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sg.apply(null,arguments)}function cM(e,t){if(e==null)return{};var n,i,r=$W(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $W(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var GW=e=>Array.isArray(e.value)?FW(e.value):e.value,gR=P.createContext(void 0),sA=gR.Provider,vR=P.createContext(void 0),qW=vR.Provider;function VW(){return P.useContext(gR)}function WW(){return P.useContext(vR)}function km(e){var{valueAccessor:t=GW}=e,n=cM(e,UW),{dataKey:i,clockWise:r,id:a,textBreakAll:o,zIndex:c}=n,d=cM(n,HW),f=VW(),p=WW(),m=f||p;return!m||!m.length?null:P.createElement(gi,{zIndex:c??fn.label},P.createElement(Je,{className:"recharts-label-list"},m.map((y,b)=>{var A,w=Ke(i)?t(y,b):Ae(y.payload,i),C=Ke(a)?{}:{id:"".concat(a,"-").concat(b)};return P.createElement(wo,Sg({key:"label-".concat(b)},ci(y),d,C,{fill:(A=n.fill)!==null&&A!==void 0?A:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:o,viewBox:y.viewBox,index:b,zIndex:0}))})))}km.displayName="LabelList";function Dv(e){var{label:t}=e;return t?t===!0?P.createElement(km,{key:"labelList-implicit"}):P.isValidElement(t)||aA(t)?P.createElement(km,{key:"labelList-implicit",content:t}):typeof t=="object"?P.createElement(km,Sg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function G_(){return G_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},G_.apply(null,arguments)}var yR=e=>{var{cx:t,cy:n,r:i,className:r}=e,a=ce("recharts-dot",r);return Et(t)&&Et(n)&&Et(i)?P.createElement("circle",G_({},Ci(e),Nw(e),{className:a,cx:t,cy:n,r:i})):null},bR=e=>e.graphicalItems.polarItems,YW=it([en,ff],P1),jv=it([bR,pn,YW],M1),KW=it([jv],N1),Lv=it([KW,bv],k1),ZW=it([Lv,pn,jv],j1);it([Lv,pn,jv],(e,t,n)=>n.length>0?e.flatMap(i=>n.flatMap(r=>{var a,o=Ae(i,(a=t.dataKey)!==null&&a!==void 0?a:r.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:Ae(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})));var uM=()=>{},XW=it([Lv,pn,jv,Ov,en],B1),QW=it([pn,R1,I1,uM,XW,uM,le,en],z1),xR=it([pn,le,Lv,ZW,hf,en,QW],F1),JW=it([xR,Uu,Go],$1),tY=it([pn,xR,JW,en],q1);it([Go,tY],iL);var eY={radiusAxis:{},angleAxis:{}},_R=qi({name:"polarAxis",initialState:eY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yit,removeRadiusAxis:bit,addAngleAxis:xit,removeAngleAxis:_it}=_R.actions,nY=_R.reducer;function wR(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function dM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(n),!0).forEach(function(i){iY(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function iY(e,t,n){return(t=rY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sY=(e,t)=>t,oA=it([bR,sY],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),oY=[],lA=(e,t,n)=>n?.length===0?oY:n,AR=it([bv,oA,lA],(e,t,n)=>{var{chartData:i}=e;if(t!=null){var r;if(t?.data!=null&&t.data.length>0?r=t.data:r=i,(!r||!r.length)&&n!=null&&(r=n.map(a=>hM(hM({},t.presentationProps),a.props))),r!=null)return r}}),lY=it([AR,oA,lA],(e,t,n)=>{if(!(e==null||t==null))return e.map((i,r)=>{var a,o=Ae(i,t.nameKey,t.name),c;return n!=null&&(a=n[r])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=n[r].props.fill:typeof i=="object"&&i!=null&&"fill"in i?c=i.fill:c=t.fill,{value:Fo(o,t.dataKey),color:c,payload:i,type:t.legendType}})}),cY=it([AR,oA,lA,In],(e,t,n,i)=>{if(!(t==null||e==null))return uK({offset:i,pieSettings:t,displayedData:e,cells:n})}),Nx={exports:{}},Ne={};var fM;function uY(){if(fM)return Ne;fM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function A(w){if(typeof w=="object"&&w!==null){var C=w.$$typeof;switch(C){case e:switch(w=w.type,w){case n:case r:case i:case d:case f:case y:return w;default:switch(w=w&&w.$$typeof,w){case o:case c:case m:case p:return w;case a:return w;default:return C}}case t:return C}}}return Ne.ContextConsumer=a,Ne.ContextProvider=o,Ne.Element=e,Ne.ForwardRef=c,Ne.Fragment=n,Ne.Lazy=m,Ne.Memo=p,Ne.Portal=t,Ne.Profiler=r,Ne.StrictMode=i,Ne.Suspense=d,Ne.SuspenseList=f,Ne.isContextConsumer=function(w){return A(w)===a},Ne.isContextProvider=function(w){return A(w)===o},Ne.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Ne.isForwardRef=function(w){return A(w)===c},Ne.isFragment=function(w){return A(w)===n},Ne.isLazy=function(w){return A(w)===m},Ne.isMemo=function(w){return A(w)===p},Ne.isPortal=function(w){return A(w)===t},Ne.isProfiler=function(w){return A(w)===r},Ne.isStrictMode=function(w){return A(w)===i},Ne.isSuspense=function(w){return A(w)===d},Ne.isSuspenseList=function(w){return A(w)===f},Ne.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===r||w===i||w===d||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===m||w.$$typeof===p||w.$$typeof===o||w.$$typeof===a||w.$$typeof===c||w.$$typeof===b||w.getModuleId!==void 0)},Ne.typeOf=A,Ne}var pM;function dY(){return pM||(pM=1,Nx.exports=uY()),Nx.exports}var hY=dY(),mM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",gM=null,kx=null,SR=e=>{if(e===gM&&Array.isArray(kx))return kx;var t=[];return P.Children.forEach(e,n=>{Ke(n)||(hY.isFragment(n)?t=t.concat(SR(n.props.children)):t.push(n))}),kx=t,gM=e,t};function cA(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(r=>mM(r)):i=[mM(t)],SR(e).forEach(r=>{var a=Xl(r,"type.displayName")||Xl(r,"type.name");a&&i.indexOf(a)!==-1&&n.push(r)}),n}var uA=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Dx={},vM;function fY(){return vM||(vM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const r=n[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${r}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}e.isPlainObject=t})(Dx)),Dx}var jx,yM;function pY(){return yM||(yM=1,jx=fY().isPlainObject),jx}var mY=pY();const gY=Ia(mY);var bM,xM,_M,wM,AM;function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function EM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(i){vY(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vY(e,t,n){return(t=yY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yY(e){var t=bY(e,"string");return typeof t=="symbol"?t:t+""}function bY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Eg.apply(null,arguments)}function dh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var CM=(e,t,n,i,r)=>{var a=n-i,o;return o=cn(bM||(bM=dh(["M ",",",""])),e,t),o+=cn(xM||(xM=dh(["L ",",",""])),e+n,t),o+=cn(_M||(_M=dh(["L ",",",""])),e+n-a/2,t+r),o+=cn(wM||(wM=dh(["L ",",",""])),e+n-a/2-i,t+r),o+=cn(AM||(AM=dh(["L ",","," Z"])),e,t),o},xY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_Y=e=>{var t=tn(e,xY),{x:n,y:i,upperWidth:r,lowerWidth:a,height:o,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=t,y=P.useRef(null),[b,A]=P.useState(-1),w=P.useRef(r),C=P.useRef(a),O=P.useRef(o),k=P.useRef(n),M=P.useRef(i),j=Ru(e,"trapezoid-");if(P.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var ct=y.current.getTotalLength();ct&&A(ct)}catch{}},[]),n!==+n||i!==+i||r!==+r||a!==+a||o!==+o||r===0&&a===0||o===0)return null;var I=ce("recharts-trapezoid",c);if(!m)return P.createElement("g",null,P.createElement("path",Eg({},ci(t),{className:I,d:CM(n,i,r,a,o)})));var R=w.current,z=C.current,H=O.current,W=k.current,et=M.current,Y="0px ".concat(b===-1?1:b,"px"),q="".concat(b,"px 0px"),yt=VD(["strokeDasharray"],f,d);return P.createElement(Lu,{animationId:j,key:j,canBegin:b>0,duration:f,easing:d,isActive:m,begin:p},ct=>{var xt=we(R,r,ct),$=we(z,a,ct),Q=we(H,o,ct),nt=we(W,n,ct),bt=we(et,i,ct);y.current&&(w.current=xt,C.current=$,O.current=Q,k.current=nt,M.current=bt);var Z=ct>0?{transition:yt,strokeDasharray:q}:{strokeDasharray:Y};return P.createElement("path",Eg({},ci(t),{className:I,d:CM(nt,bt,xt,$,Q),ref:y,style:EM(EM({},Z),t.style)}))})},wY=["option","shapeType","activeClassName"];function AY(e,t){if(e==null)return{};var n,i,r=SY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SY(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Cg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(i){EY(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function EY(e,t,n){return(t=CY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OY(e,t){return Cg(Cg({},t),e)}function PY(e,t){return e==="symbols"}function OM(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return P.createElement(ZD,n);case"trapezoid":return P.createElement(_Y,n);case"sector":return P.createElement(tj,n);case"symbols":if(PY(t))return P.createElement(Mw,n);break;case"curve":return P.createElement(vu,n);default:return null}}function MY(e){return P.isValidElement(e)?e.props:e}function dA(e){var{option:t,shapeType:n,activeClassName:i="recharts-active-shape"}=e,r=AY(e,wY),a;if(P.isValidElement(t))a=P.cloneElement(t,Cg(Cg({},r),MY(t)));else if(typeof t=="function")a=t(r,r.index);else if(gY(t)&&typeof t!="boolean"){var o=OY(t,r);a=P.createElement(OM,{shapeType:n,elementProps:o})}else{var c=r;a=P.createElement(OM,{shapeType:n,elementProps:c})}return r.isActive?P.createElement(Je,{className:i},a):a}var hA=(e,t,n)=>{var i=Re();return(r,a)=>o=>{e?.(r,a,o),i(DL({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:n}))}},fA=e=>{var t=Re();return(n,i)=>r=>{e?.(n,i,r),t(LV())}},pA=(e,t,n)=>{var i=Re();return(r,a)=>o=>{e?.(r,a,o),i(RV({activeIndex:String(a),activeDataKey:t,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:n}))}};function Rv(e){var{tooltipEntrySettings:t}=e,n=Re(),i=Bn(),r=P.useRef(null);return P.useLayoutEffect(()=>{i||(r.current===null?n(NV(t)):r.current!==t&&n(kV({prev:r.current,next:t})),r.current=t)},[t,n,i]),P.useLayoutEffect(()=>()=>{r.current&&(n(DV(r.current)),r.current=null)},[n]),null}function mA(e){var{legendPayload:t}=e,n=Re(),i=Bn(),r=P.useRef(null);return P.useLayoutEffect(()=>{i||(r.current===null?n(HD(t)):r.current!==t&&n($D({prev:r.current,next:t})),r.current=t)},[n,i,t]),P.useLayoutEffect(()=>()=>{r.current&&(n(GD(r.current)),r.current=null)},[n]),null}function NY(e){var{legendPayload:t}=e,n=Re(),i=Tt(le),r=P.useRef(null);return P.useLayoutEffect(()=>{i!=="centric"&&i!=="radial"||(r.current===null?n(HD(t)):r.current!==t&&n($D({prev:r.current,next:t})),r.current=t)},[n,i,t]),P.useLayoutEffect(()=>()=>{r.current&&(n(GD(r.current)),r.current=null)},[n]),null}var Lx,kY=()=>{var[e]=P.useState(()=>Th("uid-"));return e},DY=(Lx=Az.useId)!==null&&Lx!==void 0?Lx:kY;function jY(e,t){var n=DY();return t||(e?"".concat(e,"-").concat(n):n)}var LY=P.createContext(void 0),Iv=e=>{var{id:t,type:n,children:i}=e,r=jY("recharts-".concat(n),t);return P.createElement(LY.Provider,{value:r},i(r))},RY={cartesianItems:[],polarItems:[]},ER=qi({name:"graphicalItems",initialState:RY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:We()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:i}=t.payload,r=Kr(e).cartesianItems.indexOf(n);r>-1&&(e.cartesianItems[r]=i)},prepare:We()},removeCartesianGraphicalItem:{reducer(e,t){var n=Kr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:We()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:We()},removePolarGraphicalItem:{reducer(e,t){var n=Kr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:We()}}}),{addCartesianGraphicalItem:IY,replaceCartesianGraphicalItem:BY,removeCartesianGraphicalItem:zY,addPolarGraphicalItem:FY,removePolarGraphicalItem:UY}=ER.actions,HY=ER.reducer,$Y=e=>{var t=Re(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?t(IY(e)):n.current!==e&&t(BY({prev:n.current,next:e})),n.current=e},[t,e]),P.useLayoutEffect(()=>()=>{n.current&&(t(zY(n.current)),n.current=null)},[t]),null},gA=P.memo($Y);function GY(e){var t=Re();return P.useLayoutEffect(()=>(t(FY(e)),()=>{t(UY(e))}),[t,e]),null}var qY=["key"],VY=["onMouseEnter","onClick","onMouseLeave"],WY=["id"],YY=["id"];function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(i){KY(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function KY(e,t,n){return(t=ZY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Lo.apply(null,arguments)}function Bv(e,t){if(e==null)return{};var n,i,r=QY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QY(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function JY(e){var t=P.useMemo(()=>cA(e.children,ic),[e.children]),n=Tt(i=>lY(i,e.id,t));return n==null?null:P.createElement(NY,{legendPayload:n})}var tK=P.memo(e=>{var{dataKey:t,nameKey:n,sectors:i,stroke:r,strokeWidth:a,fill:o,name:c,hide:d,tooltipType:f,id:p}=e,m={dataDefinedOnItem:i.map(y=>y.tooltipPayload),getPosition:y=>{var b;return(b=i[Number(y)])===null||b===void 0?void 0:b.tooltipPosition},settings:{stroke:r,strokeWidth:a,fill:o,dataKey:t,nameKey:n,name:Fo(c,t),hide:d,type:f,color:o,unit:"",graphicalItemId:p}};return P.createElement(Rv,{tooltipEntrySettings:m})}),eK=(e,t)=>e>t?"start":e<t?"end":"middle",nK=(e,t,n)=>mi(typeof t=="function"?t(e):t,n,n*.8),iK=(e,t,n)=>{var{top:i,left:r,width:a,height:o}=t,c=XD(a,o),d=r+mi(e.cx,a,a/2),f=i+mi(e.cy,o,o/2),p=mi(e.innerRadius,c,0),m=nK(n,e.outerRadius,c),y=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:d,cy:f,innerRadius:p,outerRadius:m,maxRadius:y}},rK=(e,t)=>{var n=Zn(t-e),i=Math.min(Math.abs(t-e),360);return n*i},aK=(e,t)=>{if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ce("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:i}=t,r=Bv(t,qY);return P.createElement(vu,Lo({},r,{type:"linear",className:n}))},sK=(e,t,n)=>{if(P.isValidElement(e))return P.cloneElement(e,t);var i=n;if(typeof e=="function"&&(i=e(t),P.isValidElement(i)))return i;var r=ce("recharts-pie-label-text",wR(e));return P.createElement(kv,Lo({},t,{alignmentBaseline:"middle",className:r}),i)};function oK(e){var{sectors:t,props:n,showLabels:i}=e,{label:r,labelLine:a,dataKey:o}=n;if(!i||!r||!t)return null;var c=Ci(n),d=Kl(r),f=Kl(a),p=typeof r=="object"&&"offsetRadius"in r&&typeof r.offsetRadius=="number"&&r.offsetRadius||20,m=t.map((y,b)=>{var A=(y.startAngle+y.endAngle)/2,w=On(y.cx,y.cy,y.outerRadius+p,A),C=un(un(un(un({},c),y),{},{stroke:"none"},d),{},{index:b,textAnchor:eK(w.x,y.cx)},w),O=un(un(un(un({},c),y),{},{fill:"none",stroke:y.fill},f),{},{index:b,points:[On(y.cx,y.cy,y.outerRadius,A),w],key:"line"});return P.createElement(gi,{zIndex:fn.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},P.createElement(Je,null,a&&aK(a,O),sK(r,C,Ae(y,o))))});return P.createElement(Je,{className:"recharts-pie-labels"},m)}function lK(e){var{sectors:t,props:n,showLabels:i}=e,{label:r}=n;return typeof r=="object"&&r!=null&&"position"in r?P.createElement(Dv,{label:r}):P.createElement(oK,{sectors:t,props:n,showLabels:i})}function cK(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:r,shape:a,id:o}=e,c=Tt(jo),d=Tt(tA),f=Tt(_9),{onMouseEnter:p,onClick:m,onMouseLeave:y}=r,b=Bv(r,VY),A=hA(p,r.dataKey,o),w=fA(y),C=pA(m,r.dataKey,o);return t==null||t.length===0?null:P.createElement(P.Fragment,null,t.map((O,k)=>{if(O?.startAngle===0&&O?.endAngle===0&&t.length!==1)return null;var M=f==null||f===o,j=String(k)===c&&(d==null||r.dataKey===d)&&M,I=c?i:null,R=n&&j?n:I,z=un(un({},O),{},{stroke:O.stroke,tabIndex:-1,[OD]:k,[PD]:o});return P.createElement(Je,Lo({key:"sector-".concat(O?.startAngle,"-").concat(O?.endAngle,"-").concat(O.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},Jh(b,O,k),{onMouseEnter:A(O,k),onMouseLeave:w(O,k),onClick:C(O,k)}),P.createElement(dA,Lo({option:a??R,index:k,shapeType:"sector",isActive:j},z)))}))}function uK(e){var t,{pieSettings:n,displayedData:i,cells:r,offset:a}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:f,nameKey:p,tooltipType:m}=n,y=Math.abs(n.minAngle),b=rK(c,d),A=Math.abs(b),w=i.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=i.filter(R=>Ae(R,f,0)!==0).length,O=(A>=360?C:C-1)*w,k=A-C*y-O,M=i.reduce((R,z)=>{var H=Ae(z,f,0);return R+(Et(H)?H:0)},0),j;if(M>0){var I;j=i.map((R,z)=>{var H=Ae(R,f,0),W=Ae(R,p,z),et=iK(n,a,R),Y=(Et(H)?H:0)/M,q,yt=un(un({},R),r&&r[z]&&r[z].props);z?q=I.endAngle+Zn(b)*w*(H!==0?1:0):q=c;var ct=q+Zn(b)*((H!==0?y:0)+Y*k),xt=(q+ct)/2,$=(et.innerRadius+et.outerRadius)/2,Q=[{name:W,value:H,payload:yt,dataKey:f,type:m,graphicalItemId:n.id}],nt=On(et.cx,et.cy,$,xt);return I=un(un(un(un({},n.presentationProps),{},{percent:Y,cornerRadius:typeof o=="string"?parseFloat(o):o,name:W,tooltipPayload:Q,midAngle:xt,middleRadius:$,tooltipPosition:nt},yt),et),{},{value:H,dataKey:f,startAngle:q,endAngle:ct,payload:yt,paddingAngle:Zn(b)*w}),I})}return j}function dK(e){var{showLabels:t,sectors:n,children:i}=e,r=P.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return P.createElement(qW,{value:t?r:void 0},i)}function hK(e){var{props:t,previousSectorsRef:n,id:i}=e,{sectors:r,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:p,onAnimationStart:m,onAnimationEnd:y}=t,b=Ru(t,"recharts-pie-"),A=n.current,[w,C]=P.useState(!1),O=P.useCallback(()=>{typeof y=="function"&&y(),C(!1)},[y]),k=P.useCallback(()=>{typeof m=="function"&&m(),C(!0)},[m]);return P.createElement(dK,{showLabels:!w,sectors:r},P.createElement(Lu,{animationId:b,begin:o,duration:c,isActive:a,easing:d,onAnimationStart:k,onAnimationEnd:O,key:b},M=>{var j,I=[],R=r&&r[0],z=(j=R?.startAngle)!==null&&j!==void 0?j:0;return r?.forEach((H,W)=>{var et=A&&A[W],Y=W>0?Xl(H,"paddingAngle",0):0;if(et){var q=we(et.endAngle-et.startAngle,H.endAngle-H.startAngle,M),yt=un(un({},H),{},{startAngle:z+Y,endAngle:z+q+Y});I.push(yt),z=yt.endAngle}else{var{endAngle:ct,startAngle:xt}=H,$=we(0,ct-xt,M),Q=un(un({},H),{},{startAngle:z+Y,endAngle:z+$+Y});I.push(Q),z=Q.endAngle}}),n.current=I,P.createElement(Je,null,P.createElement(cK,{sectors:I,activeShape:f,inactiveShape:p,allOtherPieProps:t,shape:t.shape,id:i}))}),P.createElement(lK,{showLabels:!w,sectors:r,props:t}),t.children)}var fK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fn.area};function pK(e){var{id:t}=e,n=Bv(e,WY),{hide:i,className:r,rootTabIndex:a}=e,o=P.useMemo(()=>cA(e.children,ic),[e.children]),c=Tt(p=>cY(p,t,o)),d=P.useRef(null),f=ce("recharts-pie",r);return i||c==null?(d.current=null,P.createElement(Je,{tabIndex:a,className:f})):P.createElement(gi,{zIndex:e.zIndex},P.createElement(tK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),P.createElement(Je,{tabIndex:a,className:f},P.createElement(hK,{props:un(un({},n),{},{sectors:c}),previousSectorsRef:d,id:t})))}function Tg(e){var t=tn(e,fK),{id:n}=t,i=Bv(t,YY),r=Ci(i);return P.createElement(Iv,{id:n,type:"pie"},a=>P.createElement(P.Fragment,null,P.createElement(GY,{type:"pie",id:a,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:r,maxRadius:t.maxRadius}),P.createElement(JY,Lo({},i,{id:a})),P.createElement(pK,Lo({},i,{id:a}))))}Tg.displayName="Pie";var mK=["points"];function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(i){gK(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function gK(e,t,n){return(t=vK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vK(e){var t=yK(e,"string");return typeof t=="symbol"?t:t+""}function yK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Og.apply(null,arguments)}function bK(e,t){if(e==null)return{};var n,i,r=xK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xK(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function _K(e){var{option:t,dotProps:n,className:i}=e;if(P.isValidElement(t))return P.cloneElement(t,n);if(typeof t=="function")return t(n);var r=ce(i,typeof t!="boolean"?t.className:""),a=n??{},{points:o}=a,c=bK(a,mK);return P.createElement(yR,Og({},c,{className:r}))}function wK(e,t){return e==null?!1:t?!0:e.length===1}function CR(e){var{points:t,dot:n,className:i,dotClassName:r,dataKey:a,baseProps:o,needClip:c,clipPathId:d,zIndex:f=fn.scatter}=e;if(!wK(t,n))return null;var p=uA(n),m=UF(n),y=t.map((A,w)=>{var C,O,k=Rx(Rx(Rx({r:3},o),m),{},{index:w,cx:(C=A.x)!==null&&C!==void 0?C:void 0,cy:(O=A.y)!==null&&O!==void 0?O:void 0,dataKey:a,value:A.value,payload:A.payload,points:t});return P.createElement(_K,{key:"dot-".concat(w),option:n,dotProps:k,className:r})}),b={};return c&&d!=null&&(b.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(d,")")),P.createElement(gi,{zIndex:f},P.createElement(Je,Og({className:i},b),y))}function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function kM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(i){AK(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function AK(e,t,n){return(t=SK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SK(e){var t=EK(e,"string");return typeof t=="symbol"?t:t+""}function EK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TR=0,CK={xAxis:{},yAxis:{},zAxis:{}},OR=qi({name:"cartesianAxis",initialState:CK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:We()},replaceXAxis:{reducer(e,t){var{prev:n,next:i}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==i.id&&delete e.xAxis[n.id],e.xAxis[i.id]=i)},prepare:We()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:We()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:We()},replaceYAxis:{reducer(e,t){var{prev:n,next:i}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==i.id&&delete e.yAxis[n.id],e.yAxis[i.id]=i)},prepare:We()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:We()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:We()},replaceZAxis:{reducer(e,t){var{prev:n,next:i}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==i.id&&delete e.zAxis[n.id],e.zAxis[i.id]=i)},prepare:We()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:We()},updateYAxisWidth(e,t){var{id:n,width:i}=t.payload,r=e.yAxis[n];if(r){var a,o=r.widthHistory||[];if(o.length===3&&o[0]===o[2]&&i===o[1]&&i!==r.width&&Math.abs(i-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var c=[...o,i].slice(-3);e.yAxis[n]=kM(kM({},r),{},{width:i,widthHistory:c})}}}}),{addXAxis:TK,replaceXAxis:OK,removeXAxis:PK,addYAxis:MK,replaceYAxis:NK,removeYAxis:kK,addZAxis:wit,replaceZAxis:Ait,removeZAxis:Sit,updateYAxisWidth:DK}=OR.actions,jK=OR.reducer,LK=it([In],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),RK=it([LK,Ps,Ms],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),zv=()=>Tt(RK),IK=()=>Tt(C9);function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Ix(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(i){BK(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function BK(e,t,n){return(t=zK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UK=e=>{var{point:t,childIndex:n,mainColor:i,activeDot:r,dataKey:a,clipPath:o}=e;if(r===!1||t.x==null||t.y==null)return null;var c={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=Ix(Ix(Ix({},c),Kl(r)),Nw(r)),f;return P.isValidElement(r)?f=P.cloneElement(r,d):typeof r=="function"?f=r(d):f=P.createElement(yR,d),P.createElement(Je,{className:"recharts-active-dot",clipPath:o},f)};function q_(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:r,clipPath:a,zIndex:o=fn.activeDot}=e,c=Tt(jo),d=IK();if(t==null||d==null)return null;var f=t.find(p=>d.includes(p.payload));return Ke(f)?null:P.createElement(gi,{zIndex:o},P.createElement(UK,{point:f,childIndex:Number(c),mainColor:n,dataKey:r,activeDot:i,clipPath:a}))}var jM=(e,t,n)=>{var i=n??e;if(!Ke(i))return mi(i,t,0)},HK=(e,t,n)=>{var i={},r=e.filter(Sv),a=e.filter(f=>f.stackId==null),o=r.reduce((f,p)=>{var m=f[p.stackId];return m==null&&(m=[]),m.push(p),f[p.stackId]=m,f},i),c=Object.entries(o).map(f=>{var p,[m,y]=f,b=y.map(w=>w.dataKey),A=jM(t,n,(p=y[0])===null||p===void 0?void 0:p.barSize);return{stackId:m,dataKeys:b,barSize:A}}),d=a.map(f=>{var p=[f.dataKey].filter(y=>y!=null),m=jM(t,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...d]};function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(i){$K(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $K(e,t,n){return(t=GK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GK(e){var t=qK(e,"string");return typeof t=="symbol"?t:t+""}function qK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VK(e,t,n,i,r){var a,o=i.length;if(!(o<1)){var c=mi(e,n,0,!0),d,f=[];if(Gt((a=i[0])===null||a===void 0?void 0:a.barSize)){var p=!1,m=n/o,y=i.reduce((k,M)=>k+(M.barSize||0),0);y+=(o-1)*c,y>=n&&(y-=(o-1)*c,c=0),y>=n&&m>0&&(p=!0,m*=.9,y=o*m);var b=(n-y)/2>>0,A={offset:b-c,size:0};d=i.reduce((k,M)=>{var j,I={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:A.offset+A.size+c,size:p?m:(j=M.barSize)!==null&&j!==void 0?j:0}},R=[...k,I];return A=I.position,R},f)}else{var w=mi(t,n,0,!0);n-2*w-(o-1)*c<=0&&(c=0);var C=(n-2*w-(o-1)*c)/o;C>1&&(C>>=0);var O=Gt(r)?Math.min(C,r):C;d=i.reduce((k,M,j)=>[...k,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:w+(C+c)*j+(C-O)/2,size:O}}],f)}return d}}var WK=(e,t,n,i,r,a,o)=>{var c=Ke(o)?t:o,d=VK(n,i,r!==a?r:a,e,c);return r!==a&&d!=null&&(d=d.map(f=>gm(gm({},f),{},{position:gm(gm({},f.position),{},{offset:f.position.offset-r/2})}))),d},YK=(e,t)=>{var n=Av(t);if(!(!e||n==null||t==null)){var{stackId:i}=t;if(i!=null){var r=e[i];if(r){var{stackedData:a}=r;if(a)return a.find(o=>o.key===n)}}}},KK=(e,t)=>{if(!(e==null||t==null)){var n=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function ZK(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Gt(e.zIndex)?e.zIndex:t}var PR=e=>{var{chartData:t}=e,n=Re(),i=Bn();return P.useEffect(()=>i?()=>{}:(n(U2(t)),()=>{n(U2(void 0))}),[t,n,i]),null},RM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MR=qi({name:"brush",initialState:RM,reducers:{setBrushSettings(e,t){return t.payload==null?RM:t.payload}}}),{setBrushSettings:Eit}=MR.actions,XK=MR.reducer,QK=(e,t)=>{var{x:n,y:i}=e,{x:r,y:a}=t;return{x:Math.min(n,r),y:Math.min(i,a),width:Math.abs(r-n),height:Math.abs(a-i)}},JK=e=>{var{x1:t,y1:n,x2:i,y2:r}=e;return QK({x:t,y:n},{x:i,y:r})};function tZ(e){return(e%180+180)%180}var eZ=function(t){var{width:n,height:i}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=tZ(r),o=a*Math.PI/180,c=Math.atan(i/n),d=o>c&&o<Math.PI-c?i/Math.sin(o):n/Math.cos(o);return Math.abs(d)},nZ={dots:[],areas:[],lines:[]},NR=qi({name:"referenceElements",initialState:nZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Kr(e).dots.findIndex(i=>i===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Kr(e).areas.findIndex(i=>i===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Kr(e).lines.findIndex(i=>i===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Cit,removeDot:Tit,addArea:Oit,removeArea:Pit,addLine:iZ,removeLine:rZ}=NR.actions,aZ=NR.reducer,kR=P.createContext(void 0),sZ=e=>{var{children:t}=e,[n]=P.useState("".concat(Th("recharts"),"-clip")),i=zv();if(i==null)return null;var{x:r,y:a,width:o,height:c}=i;return P.createElement(kR.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:r,y:a,height:c,width:o}))),t)},oZ=()=>P.useContext(kR);class lZ{constructor(t){var{x:n,y:i}=t;this.xAxisScale=n,this.yAxisScale=i}map(t,n){var i,r,{position:a}=n;return{x:(i=this.xAxisScale.map(t.x,{position:a}))!==null&&i!==void 0?i:0,y:(r=this.yAxisScale.map(t.y,{position:a}))!==null&&r!==void 0?r:0}}mapWithFallback(t,n){var i,r,{position:a,fallback:o}=n,c,d;return o==="rangeMin"?c=this.yAxisScale.rangeMin():o==="rangeMax"?c=this.yAxisScale.rangeMax():c=0,o==="rangeMin"?d=this.xAxisScale.rangeMin():o==="rangeMax"?d=this.xAxisScale.rangeMax():d=0,{x:(i=this.xAxisScale.map(t.x,{position:a}))!==null&&i!==void 0?i:d,y:(r=this.yAxisScale.map(t.y,{position:a}))!==null&&r!==void 0?r:c}}isInRange(t){var{x:n,y:i}=t,r=n==null||this.xAxisScale.isInRange(n),a=i==null||this.yAxisScale.isInRange(i);return r&&a}}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function BM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(i){cZ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cZ(e,t,n){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Pg.apply(null,arguments)}var hZ=(e,t)=>{var n;if(P.isValidElement(e))n=P.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!Gt(t.x1)||!Gt(t.y1)||!Gt(t.x2)||!Gt(t.y2))return null;n=P.createElement("line",Pg({},t,{className:"recharts-reference-line-line"}))}return n},fZ=(e,t,n,i,r,a)=>{var{x:o,width:c}=a,d=r.map(e,{position:n});if(!Gt(d)||t==="discard"&&!r.isInRange(d))return null;var f=[{x:o+c,y:d},{x:o,y:d}];return i==="left"?f.reverse():f},pZ=(e,t,n,i,r,a)=>{var{y:o,height:c}=a,d=r.map(e,{position:n});if(!Gt(d)||t==="discard"&&!r.isInRange(d))return null;var f=[{x:d,y:o+c},{x:d,y:o}];return i==="top"?f.reverse():f},mZ=(e,t,n,i)=>{var r=[i.mapWithFallback(e[0],{position:n,fallback:"rangeMin"}),i.mapWithFallback(e[1],{position:n,fallback:"rangeMax"})];return t==="discard"&&r.some(a=>!i.isInRange(a))?null:r},gZ=(e,t,n,i,r,a,o)=>{var{x:c,y:d,segment:f,ifOverflow:p}=o,m=Or(c),y=Or(d);return y?fZ(d,p,i,a,t,n):m?pZ(c,p,i,r,e,n):f!=null&&f.length===2?mZ(f,p,i,new lZ({x:e,y:t})):null};function vZ(e){var t=Re();return P.useEffect(()=>(t(iZ(e)),()=>{t(rZ(e))})),null}function yZ(e){var{xAxisId:t,yAxisId:n,shape:i,className:r,ifOverflow:a}=e,o=Bn(),c=oZ(),d=Tt(z=>Ba(z,t)),f=Tt(z=>za(z,n)),p=Tt(z=>Nu(z,"xAxis",t,o)),m=Tt(z=>Nu(z,"yAxis",n,o)),y=rf();if(!c||!y||d==null||f==null||p==null||m==null)return null;var b=gZ(p,m,y,e.position,d.orientation,f.orientation,e);if(!b)return null;var A=b[0],w=b[1];if(A==null||w==null)return null;var{x:C,y:O}=A,{x:k,y:M}=w,j=a==="hidden"?"url(#".concat(c,")"):void 0,I=BM(BM({clipPath:j},ci(e)),{},{x1:C,y1:O,x2:k,y2:M}),R=JK({x1:C,y1:O,x2:k,y2:M});return P.createElement(gi,{zIndex:e.zIndex},P.createElement(Je,{className:ce("recharts-reference-line",r)},hZ(i,I),P.createElement(fR,Pg({},R,{lowerWidth:R.width,upperWidth:R.width}),P.createElement(mR,{label:e.label}),e.children)))}var bZ={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:fn.line};function vA(e){var t=tn(e,bZ);return P.createElement(P.Fragment,null,P.createElement(vZ,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),P.createElement(yZ,t))}vA.displayName="ReferenceLine";function DR(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],i=0;i<e.length;i+=t){var r=e[i];r!==void 0&&n.push(r)}return n}function xZ(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return eZ(i,n)}function _Z(e,t,n){var i=n==="width",{x:r,y:a,width:o,height:c}=e;return t===1?{start:i?r:a,end:i?r+o:a+c}:{start:i?r+o:a+c,end:i?r:a}}function Uh(e,t,n,i,r){if(e*t<e*i||e*t>e*r)return!1;var a=n();return e*(t-e*a/2-i)>=0&&e*(t+e*a/2-r)<=0}function wZ(e,t){return DR(e,t+1)}function AZ(e,t,n,i,r){for(var a=(i||[]).slice(),{start:o,end:c}=t,d=0,f=1,p=o,m=function(){var A=i?.[d];if(A===void 0)return{v:DR(i,f)};var w=d,C,O=()=>(C===void 0&&(C=n(A,w)),C),k=A.coordinate,M=d===0||Uh(e,k,O,p,c);M||(d=0,p=o,f+=1),M&&(p=k+e*(O()/2+r),d+=f)},y;f<=a.length;)if(y=m(),y)return y.v;return[]}function SZ(e,t,n,i,r){var a=(i||[]).slice(),o=a.length;if(o===0)return[];for(var{start:c,end:d}=t,f=1;f<=o;f++){for(var p=(o-1)%f,m=c,y=!0,b=function(){var j=i[w];if(j==null)return 0;var I=w,R,z=()=>(R===void 0&&(R=n(j,I)),R),H=j.coordinate,W=w===p||Uh(e,H,z,m,d);if(!W)return y=!1,1;W&&(m=H+e*(z()/2+r))},A,w=p;w<o&&(A=b(),!(A!==0&&A===1));w+=f);if(y){for(var C=[],O=p;O<o;O+=f){var k=i[O];k!=null&&C.push(k)}return C}}return[]}function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(i){EZ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function EZ(e,t,n){return(t=CZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CZ(e){var t=TZ(e,"string");return typeof t=="symbol"?t:t+""}function TZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OZ(e,t,n,i,r){for(var a=(i||[]).slice(),o=a.length,{start:c}=t,{end:d}=t,f=function(y){var b=a[y];if(b==null)return 1;var A=b,w,C=()=>(w===void 0&&(w=n(b,y)),w);if(y===o-1){var O=e*(A.coordinate+e*C()/2-d);a[y]=A=fi(fi({},A),{},{tickCoord:O>0?A.coordinate-O*e:A.coordinate})}else a[y]=A=fi(fi({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var k=Uh(e,A.tickCoord,C,c,d);k&&(d=A.tickCoord-e*(C()/2+r),a[y]=fi(fi({},A),{},{isShow:!0}))}},p=o-1;p>=0;p--)f(p);return a}function PZ(e,t,n,i,r,a){var o=(i||[]).slice(),c=o.length,{start:d,end:f}=t;if(a){var p=i[c-1];if(p!=null){var m=n(p,c-1),y=e*(p.coordinate+e*m/2-f);if(o[c-1]=p=fi(fi({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate}),p.tickCoord!=null){var b=Uh(e,p.tickCoord,()=>m,d,f);b&&(f=p.tickCoord-e*(m/2+r),o[c-1]=fi(fi({},p),{},{isShow:!0}))}}}for(var A=a?c-1:c,w=function(k){var M=o[k];if(M==null)return 1;var j=M,I,R=()=>(I===void 0&&(I=n(M,k)),I);if(k===0){var z=e*(j.coordinate-e*R()/2-d);o[k]=j=fi(fi({},j),{},{tickCoord:z<0?j.coordinate-z*e:j.coordinate})}else o[k]=j=fi(fi({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var H=Uh(e,j.tickCoord,R,d,f);H&&(d=j.tickCoord+e*(R()/2+r),o[k]=fi(fi({},j),{},{isShow:!0}))}},C=0;C<A;C++)w(C);return o}function yA(e,t,n){var{tick:i,ticks:r,viewBox:a,minTickGap:o,orientation:c,interval:d,tickFormatter:f,unit:p,angle:m}=e;if(!r||!r.length||!i)return[];if(Et(d)||of.isSsr){var y;return(y=wZ(r,Et(d)?d:0))!==null&&y!==void 0?y:[]}var b=[],A=c==="top"||c==="bottom"?"width":"height",w=p&&A==="width"?Eh(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(I,R)=>{var z=typeof f=="function"?f(I.value,R):I.value;return A==="width"?xZ(Eh(z,{fontSize:t,letterSpacing:n}),w,m):Eh(z,{fontSize:t,letterSpacing:n})[A]},O=r[0],k=r[1],M=r.length>=2&&O!=null&&k!=null?Zn(k.coordinate-O.coordinate):1,j=_Z(a,M,A);return d==="equidistantPreserveStart"?AZ(M,j,C,r,o):d==="equidistantPreserveEnd"?SZ(M,j,C,r,o):(d==="preserveStart"||d==="preserveStartEnd"?b=PZ(M,j,C,r,o,d==="preserveStartEnd"):b=OZ(M,j,C,r,o),b.filter(I=>I.isShow))}var MZ=e=>{var{ticks:t,label:n,labelGapWithTick:i=5,tickSize:r=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>o&&(o=m.width)}});var c=n?n.getBoundingClientRect().width:0,d=r+a,f=o+d+c+(n?i:0);return Math.round(f)}return 0},NZ=["axisLine","width","height","className","hide","ticks","axisType"];function kZ(e,t){if(e==null)return{};var n,i,r=DZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DZ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rc.apply(null,arguments)}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(i){jZ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function jZ(e,t,n){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _s={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fn.axis};function IZ(e){var{x:t,y:n,width:i,height:r,orientation:a,mirror:o,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=ln(ln(ln({},d),Ci(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var p=+(a==="top"&&!o||a==="bottom"&&o);f=ln(ln({},f),{},{x1:t,y1:n+p*r,x2:t+i,y2:n+p*r})}else{var m=+(a==="left"&&!o||a==="right"&&o);f=ln(ln({},f),{},{x1:t+m*i,y1:n,x2:t+m*i,y2:n+r})}return P.createElement("line",rc({},f,{className:ce("recharts-cartesian-axis-line",Xl(c,"className"))}))}function BZ(e,t,n,i,r,a,o,c,d){var f,p,m,y,b,A,w=c?-1:1,C=e.tickSize||o,O=Et(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":f=p=e.coordinate,y=n+ +!c*r,m=y-w*C,A=m-w*d,b=O;break;case"left":m=y=e.coordinate,p=t+ +!c*i,f=p-w*C,b=f-w*d,A=O;break;case"right":m=y=e.coordinate,p=t+ +c*i,f=p+w*C,b=f+w*d,A=O;break;default:f=p=e.coordinate,y=n+ +c*r,m=y+w*C,A=m+w*d,b=O;break}return{line:{x1:f,y1:m,x2:p,y2:y},tick:{x:b,y:A}}}function zZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function FZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function UZ(e){var{option:t,tickProps:n,value:i}=e,r,a=ce(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(t))r=P.cloneElement(t,ln(ln({},n),{},{className:a}));else if(typeof t=="function")r=t(ln(ln({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ce(o,wR(t))),r=P.createElement(kv,rc({},n,{className:o}),i)}return r}var HZ=P.forwardRef((e,t)=>{var{ticks:n=[],tick:i,tickLine:r,stroke:a,tickFormatter:o,unit:c,padding:d,tickTextProps:f,orientation:p,mirror:m,x:y,y:b,width:A,height:w,tickSize:C,tickMargin:O,fontSize:k,letterSpacing:M,getTicksConfig:j,events:I,axisType:R}=e,z=yA(ln(ln({},j),{},{ticks:n}),k,M),H=zZ(p,m),W=FZ(p,m),et=Ci(j),Y=Kl(i),q={};typeof r=="object"&&(q=r);var yt=ln(ln({},et),{},{fill:"none"},q),ct=z.map(Q=>ln({entry:Q},BZ(Q,y,b,A,w,p,C,m,O))),xt=ct.map(Q=>{var{entry:nt,line:bt}=Q;return P.createElement(Je,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(nt.value,"-").concat(nt.coordinate,"-").concat(nt.tickCoord)},r&&P.createElement("line",rc({},yt,bt,{className:ce("recharts-cartesian-axis-tick-line",Xl(r,"className"))})))}),$=ct.map((Q,nt)=>{var bt,Z,{entry:U,tick:X}=Q,ut=ln(ln(ln(ln({verticalAnchor:W},et),{},{textAnchor:H,stroke:"none",fill:a},X),{},{index:nt,payload:U,visibleTicksCount:z.length,tickFormatter:o,padding:d},f),{},{angle:(bt=(Z=f?.angle)!==null&&Z!==void 0?Z:et.angle)!==null&&bt!==void 0?bt:0}),gt=ln(ln({},ut),Y);return P.createElement(Je,rc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},Jh(I,U,nt)),i&&P.createElement(UZ,{option:i,tickProps:gt,value:"".concat(typeof o=="function"?o(U.value,nt):U.value).concat(c||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},$.length>0&&P.createElement(gi,{zIndex:fn.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},$)),xt.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},xt))}),$Z=P.forwardRef((e,t)=>{var{axisLine:n,width:i,height:r,className:a,hide:o,ticks:c,axisType:d}=e,f=kZ(e,NZ),[p,m]=P.useState(""),[y,b]=P.useState(""),A=P.useRef(null);P.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var C;return MZ({ticks:A.current,label:(C=e.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=P.useCallback(C=>{if(C){var O=C.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=O;var k=O[0];if(k){var M=window.getComputedStyle(k),j=M.fontSize,I=M.letterSpacing;(j!==p||I!==y)&&(m(j),b(I))}}},[p,y]);return o||i!=null&&i<=0||r!=null&&r<=0?null:P.createElement(gi,{zIndex:e.zIndex},P.createElement(Je,{className:ce("recharts-cartesian-axis",a)},P.createElement(IZ,{x:e.x,y:e.y,width:i,height:r,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ci(e)}),P.createElement(HZ,{ref:w,axisType:d,events:f,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),P.createElement(fR,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},P.createElement(mR,{label:e.label,labelRef:e.labelRef}),e.children)))}),bA=P.forwardRef((e,t)=>{var n=tn(e,_s);return P.createElement($Z,rc({},n,{ref:t}))});bA.displayName="CartesianAxis";var GZ=["x1","y1","x2","y2","key"],qZ=["offset"],VZ=["xAxisId","yAxisId"],WZ=["xAxisId","yAxisId"];function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function pi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(i){YZ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function YZ(e,t,n){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KZ(e){var t=ZZ(e,"string");return typeof t=="symbol"?t:t+""}function ZZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fl.apply(null,arguments)}function Mg(e,t){if(e==null)return{};var n,i,r=XZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XZ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var QZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:i,y:r,width:a,height:o,ry:c}=e;return P.createElement("rect",{x:i,y:r,ry:c,width:a,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function jR(e){var{option:t,lineItemProps:n}=e,i;if(P.isValidElement(t))i=P.cloneElement(t,n);else if(typeof t=="function")i=t(n);else{var r,{x1:a,y1:o,x2:c,y2:d,key:f}=n,p=Mg(n,GZ),m=(r=Ci(p))!==null&&r!==void 0?r:{},{offset:y}=m,b=Mg(m,qZ);i=P.createElement("line",Fl({},b,{x1:a,y1:o,x2:c,y2:d,fill:"none",key:f}))}return i}function JZ(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:r}=e;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Mg(e,VZ),d=r.map((f,p)=>{var m=pi(pi({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return P.createElement(jR,{key:"line-".concat(p),option:i,lineItemProps:m})});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function tX(e){var{y:t,height:n,vertical:i=!0,verticalPoints:r}=e;if(!i||!r||!r.length)return null;var{xAxisId:a,yAxisId:o}=e,c=Mg(e,WZ),d=r.map((f,p)=>{var m=pi(pi({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return P.createElement(jR,{option:i,lineItemProps:m,key:"line-".concat(p)})});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function eX(e){var{horizontalFill:t,fillOpacity:n,x:i,y:r,width:a,height:o,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(m=>Math.round(m+r-r)).sort((m,y)=>m-y);r!==f[0]&&f.unshift(0);var p=f.map((m,y)=>{var b=f[y+1],A=b==null,w=A?r+o-m:b-m;if(w<=0)return null;var C=y%t.length;return P.createElement("rect",{key:"react-".concat(y),y:m,x:i,height:w,width:a,stroke:"none",fill:t[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function nX(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:r,y:a,width:o,height:c,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(m=>Math.round(m+r-r)).sort((m,y)=>m-y);r!==f[0]&&f.unshift(0);var p=f.map((m,y)=>{var b=f[y+1],A=b==null,w=A?r+o-m:b-m;if(w<=0)return null;var C=y%n.length;return P.createElement("rect",{key:"react-".concat(y),x:m,y:a,width:w,height:c,stroke:"none",fill:n[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var iX=(e,t)=>{var{xAxis:n,width:i,height:r,offset:a}=e;return SD(yA(pi(pi(pi({},_s),n),{},{ticks:ED(n),viewBox:{x:0,y:0,width:i,height:r}})),a.left,a.left+a.width,t)},rX=(e,t)=>{var{yAxis:n,width:i,height:r,offset:a}=e;return SD(yA(pi(pi(pi({},_s),n),{},{ticks:ED(n),viewBox:{x:0,y:0,width:i,height:r}})),a.top,a.top+a.height,t)},aX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fn.grid};function To(e){var t=Gw(),n=qw(),i=DD(),r=pi(pi({},tn(e,aX)),{},{x:Et(e.x)?e.x:i.left,y:Et(e.y)?e.y:i.top,width:Et(e.width)?e.width:i.width,height:Et(e.height)?e.height:i.height}),{xAxisId:a,yAxisId:o,x:c,y:d,width:f,height:p,syncWithTicks:m,horizontalValues:y,verticalValues:b}=r,A=Bn(),w=Tt(W=>P2(W,"xAxis",a,A)),C=Tt(W=>P2(W,"yAxis",o,A));if(!ka(f)||!ka(p)||!Et(c)||!Et(d))return null;var O=r.verticalCoordinatesGenerator||iX,k=r.horizontalCoordinatesGenerator||rX,{horizontalPoints:M,verticalPoints:j}=r;if((!M||!M.length)&&typeof k=="function"){var I=y&&y.length,R=k({yAxis:C?pi(pi({},C),{},{ticks:I?y:C.ticks}):void 0,width:t??f,height:n??p,offset:i},I?!0:m);Jm(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(M=R)}if((!j||!j.length)&&typeof O=="function"){var z=b&&b.length,H=O({xAxis:w?pi(pi({},w),{},{ticks:z?b:w.ticks}):void 0,width:t??f,height:n??p,offset:i},z?!0:m);Jm(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(j=H)}return P.createElement(gi,{zIndex:r.zIndex},P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(QZ,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),P.createElement(eX,Fl({},r,{horizontalPoints:M})),P.createElement(nX,Fl({},r,{verticalPoints:j})),P.createElement(JZ,Fl({},r,{offset:i,horizontalPoints:M,xAxis:w,yAxis:C})),P.createElement(tX,Fl({},r,{offset:i,verticalPoints:j,xAxis:w,yAxis:C}))))}To.displayName="CartesianGrid";var sX={},LR=qi({name:"errorBars",initialState:sX,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]||(e[n]=[]),e[n].push(i)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:i,next:r}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===i.dataKey&&a.direction===i.direction?r:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]&&(e[n]=e[n].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:Mit,replaceErrorBar:Nit,removeErrorBar:kit}=LR.actions,oX=LR.reducer,lX=["children"];function cX(e,t){if(e==null)return{};var n,i,r=uX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uX(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var dX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hX=P.createContext(dX);function RR(e){var{children:t}=e,n=cX(e,lX);return P.createElement(hX.Provider,{value:n},t)}function Fv(e,t){var n,i,r=Tt(f=>Ba(f,e)),a=Tt(f=>za(f,t)),o=(n=r?.allowDataOverflow)!==null&&n!==void 0?n:qn.allowDataOverflow,c=(i=a?.allowDataOverflow)!==null&&i!==void 0?i:Vn.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function xA(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,r=zv(),{needClipX:a,needClipY:o,needClip:c}=Fv(t,n);if(!c||!r)return null;var{x:d,y:f,width:p,height:m}=r;return P.createElement("clipPath",{id:"clipPath-".concat(i)},P.createElement("rect",{x:a?d:d-p/2,y:o?f:f-m/2,width:a?p:p*2,height:o?m:m*2}))}var IR=(e,t,n,i)=>La(e,"xAxis",t,i),BR=(e,t,n,i)=>ja(e,"xAxis",t,i),zR=(e,t,n,i)=>La(e,"yAxis",n,i),FR=(e,t,n,i)=>ja(e,"yAxis",n,i),fX=it([le,IR,zR,BR,FR],(e,t,n,i,r)=>Jr(e,"xAxis")?Do(t,i,!1):Do(n,r,!1)),pX=(e,t,n,i,r)=>r;function mX(e){return e.type==="line"}var gX=it([pf,pX],(e,t)=>e.filter(mX).find(n=>n.id===t)),vX=it([le,IR,zR,BR,FR,gX,fX,b1],(e,t,n,i,r,a,o,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:p}=c;if(!(a==null||t==null||n==null||i==null||r==null||i.length===0||r.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:m,data:y}=a,b;if(y!=null&&y.length>0?b=y:b=d?.slice(f,p+1),b!=null)return iQ({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:r,dataKey:m,bandSize:o,displayedData:b})}});function UR(e){var t=Kl(e),n=3,i=2;if(t!=null){var{r,strokeWidth:a}=t,o=Number(r),c=Number(a);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(c)||c<0)&&(c=i),{r:o,strokeWidth:c}}return{r:n,strokeWidth:i}}var Bx={exports:{}},zx={};var HM;function yX(){if(HM)return zx;HM=1;var e=Du();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,r=e.useRef,a=e.useEffect,o=e.useMemo,c=e.useDebugValue;return zx.useSyncExternalStoreWithSelector=function(d,f,p,m,y){var b=r(null);if(b.current===null){var A={hasValue:!1,value:null};b.current=A}else A=b.current;b=o(function(){function C(I){if(!O){if(O=!0,k=I,I=m(I),y!==void 0&&A.hasValue){var R=A.value;if(y(R,I))return M=R}return M=I}if(R=M,n(k,I))return R;var z=m(I);return y!==void 0&&y(R,z)?(k=I,R):(k=I,M=z)}var O=!1,k,M,j=p===void 0?null:p;return[function(){return C(f())},j===null?void 0:function(){return C(j())}]},[f,p,m,y]);var w=i(d,b[0],b[1]);return a(function(){A.hasValue=!0,A.value=w},[w]),c(w),w},zx}var $M;function bX(){return $M||($M=1,Bx.exports=yX()),Bx.exports}bX();function xX(e){e()}function _X(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){!i||e===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var GM={notify(){},get:()=>[]};function wX(e,t){let n,i=GM,r=0,a=!1;function o(w){p();const C=i.subscribe(w);let O=!1;return()=>{O||(O=!0,C(),m())}}function c(){i.notify()}function d(){A.onStateChange&&A.onStateChange()}function f(){return a}function p(){r++,n||(n=e.subscribe(d),i=_X())}function m(){r--,n&&r===0&&(n(),n=void 0,i.clear(),i=GM)}function y(){a||(a=!0,p())}function b(){a&&(a=!1,m())}const A={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>i};return A}var AX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SX=AX(),EX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",CX=EX(),TX=()=>SX||CX?P.useLayoutEffect:P.useEffect,OX=TX();function qM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function PX(e,t){if(qM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!qM(e[n[r]],t[n[r]]))return!1;return!0}var MX=Symbol.for("react-redux-context"),NX=typeof globalThis<"u"?globalThis:{};function kX(){if(!P.createContext)return{};const e=NX[MX]??=new Map;let t=e.get(P.createContext);return t||(t=P.createContext(null),e.set(P.createContext,t)),t}var DX=kX();function jX(e){const{children:t,context:n,serverState:i,store:r}=e,a=P.useMemo(()=>{const d=wX(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),o=P.useMemo(()=>r.getState(),[r]);OX(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const c=n||DX;return P.createElement(c.Provider,{value:a},t)}var LX=jX,RX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function IX(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function xf(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var i of n)if(RX.has(i)){if(e[i]==null&&t[i]==null)continue;if(!PX(e[i],t[i]))return!1}else if(!IX(e[i],t[i]))return!1;return!0}var BX=["id"],zX=["type","layout","connectNulls","needClip","shape"],FX=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hh.apply(null,arguments)}function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(i){UX(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function UX(e,t,n){return(t=HX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _A(e,t){if(e==null)return{};var n,i,r=GX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GX(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var qX=e=>{var{dataKey:t,name:n,stroke:i,legendType:r,hide:a}=e;return[{inactive:a,dataKey:t,type:r,color:i,value:Fo(n,t),payload:e}]},VX=P.memo(e=>{var{dataKey:t,data:n,stroke:i,strokeWidth:r,fill:a,name:o,hide:c,unit:d,tooltipType:f,id:p}=e,m={dataDefinedOnItem:n,getPosition:zo,settings:{stroke:i,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Fo(o,t),hide:c,type:f,color:i,unit:d,graphicalItemId:p}};return P.createElement(Rv,{tooltipEntrySettings:m})}),HR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function WX(e,t){for(var n=e.length%2!==0?[...e,0]:e,i=[],r=0;r<t;++r)i=[...i,...n];return i}var YX=(e,t,n)=>{var i=n.reduce((b,A)=>b+A);if(!i)return HR(t,e);for(var r=Math.floor(e/i),a=e%i,o=t-e,c=[],d=0,f=0;d<n.length;f+=(p=n[d])!==null&&p!==void 0?p:0,++d){var p,m=n[d];if(m!=null&&f+m>a){c=[...n.slice(0,d),a-f];break}}var y=c.length%2===0?[0,o]:[o];return[...WX(n,r),...c,...y].map(b=>"".concat(b,"px")).join(", ")};function KX(e){var{clipPathId:t,points:n,props:i}=e,{dot:r,dataKey:a,needClip:o}=i,{id:c}=i,d=_A(i,BX),f=Ci(d);return P.createElement(CR,{points:n,dot:r,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:o,clipPathId:t})}function ZX(e){var{showLabels:t,children:n,points:i}=e,r=P.useMemo(()=>i?.map(a=>{var o,c,d={x:(o=a.x)!==null&&o!==void 0?o:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ta(Ta({},d),{},{value:a.value,payload:a.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[i]);return P.createElement(sA,{value:t?r:void 0},n)}function WM(e){var{clipPathId:t,pathRef:n,points:i,strokeDasharray:r,props:a}=e,{type:o,layout:c,connectNulls:d,needClip:f,shape:p}=a,m=_A(a,zX),y=Ta(Ta({},ci(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:i,type:o,layout:c,connectNulls:d,strokeDasharray:r??a.strokeDasharray});return P.createElement(P.Fragment,null,i?.length>1&&P.createElement(dA,Hh({shapeType:"curve",option:p},y,{pathRef:n})),P.createElement(KX,{points:i,clipPathId:t,props:a}))}function XX(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function QX(e){var{clipPathId:t,props:n,pathRef:i,previousPointsRef:r,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:m,animateNewValues:y,width:b,height:A,onAnimationEnd:w,onAnimationStart:C}=n,O=r.current,k=Ru(o,"recharts-line-"),M=P.useRef(k),[j,I]=P.useState(!1),R=!j,z=P.useCallback(()=>{typeof w=="function"&&w(),I(!1)},[w]),H=P.useCallback(()=>{typeof C=="function"&&C(),I(!0)},[C]),W=XX(i.current),et=P.useRef(0);M.current!==k&&(et.current=a.current,M.current=k);var Y=et.current;return P.createElement(ZX,{points:o,showLabels:R},n.children,P.createElement(Lu,{animationId:k,begin:f,duration:p,isActive:d,easing:m,onAnimationEnd:z,onAnimationStart:H,key:k},q=>{var yt=we(Y,W+Y,q),ct=Math.min(yt,W),xt;if(d)if(c){var $="".concat(c).split(/[,\s]+/gim).map(bt=>parseFloat(bt));xt=YX(ct,W,$)}else xt=HR(W,ct);else xt=c==null?void 0:String(c);if(q>0&&W>0&&(r.current=o,a.current=Math.max(a.current,ct)),O){var Q=O.length/o.length,nt=q===1?o:o.map((bt,Z)=>{var U=Math.floor(Z*Q);if(O[U]){var X=O[U];return Ta(Ta({},bt),{},{x:we(X.x,bt.x,q),y:we(X.y,bt.y,q)})}return y?Ta(Ta({},bt),{},{x:we(b*2,bt.x,q),y:we(A/2,bt.y,q)}):Ta(Ta({},bt),{},{x:bt.x,y:bt.y})});return r.current=nt,P.createElement(WM,{props:n,points:nt,clipPathId:t,pathRef:i,strokeDasharray:xt})}return P.createElement(WM,{props:n,points:o,clipPathId:t,pathRef:i,strokeDasharray:xt})}),P.createElement(Dv,{label:n.label}))}function JX(e){var{clipPathId:t,props:n}=e,i=P.useRef(null),r=P.useRef(0),a=P.useRef(null);return P.createElement(QX,{props:n,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:r,pathRef:a})}var tQ=(e,t)=>{var n,i;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(i=e.y)!==null&&i!==void 0?i:void 0,value:e.value,errorVal:Ae(e.payload,t)}};class eQ extends P.Component{render(){var{hide:t,dot:n,points:i,className:r,xAxisId:a,yAxisId:o,top:c,left:d,width:f,height:p,id:m,needClip:y,zIndex:b}=this.props;if(t)return null;var A=ce("recharts-line",r),w=m,{r:C,strokeWidth:O}=UR(n),k=uA(n),M=C*2+O,j=y?"url(#clipPath-".concat(k?"":"dots-").concat(w,")"):void 0;return P.createElement(gi,{zIndex:b},P.createElement(Je,{className:A},y&&P.createElement("defs",null,P.createElement(xA,{clipPathId:w,xAxisId:a,yAxisId:o}),!k&&P.createElement("clipPath",{id:"clipPath-dots-".concat(w)},P.createElement("rect",{x:d-M/2,y:c-M/2,width:f+M,height:p+M}))),P.createElement(RR,{xAxisId:a,yAxisId:o,data:i,dataPointFormatter:tQ,errorBarOffset:0},P.createElement(JX,{props:this.props,clipPathId:w}))),P.createElement(q_,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:j}))}}var $R={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fn.line,type:"linear"};function nQ(e){var t=tn(e,$R),{activeDot:n,animateNewValues:i,animationBegin:r,animationDuration:a,animationEasing:o,connectNulls:c,dot:d,hide:f,isAnimationActive:p,label:m,legendType:y,xAxisId:b,yAxisId:A,id:w}=t,C=_A(t,FX),{needClip:O}=Fv(b,A),k=zv(),M=Uo(),j=Bn(),I=Tt(et=>vX(et,b,A,j,w));if(M!=="horizontal"&&M!=="vertical"||I==null||k==null)return null;var{height:R,width:z,x:H,y:W}=k;return P.createElement(eQ,Hh({},C,{id:w,connectNulls:c,dot:d,activeDot:n,animateNewValues:i,animationBegin:r,animationDuration:a,animationEasing:o,isAnimationActive:p,hide:f,label:m,legendType:y,xAxisId:b,yAxisId:A,points:I,layout:M,height:R,width:z,left:H,top:W,needClip:O}))}function iQ(e){var{layout:t,xAxis:n,yAxis:i,xAxisTicks:r,yAxisTicks:a,dataKey:o,bandSize:c,displayedData:d}=e;return d.map((f,p)=>{var m=Ae(f,o);if(t==="horizontal"){var y=Qm({axis:n,ticks:r,bandSize:c,entry:f,index:p}),b=Ke(m)?null:i.scale.map(m);return{x:y,y:b??null,value:m,payload:f}}var A=Ke(m)?null:n.scale.map(m),w=Qm({axis:i,ticks:a,bandSize:c,entry:f,index:p});return A==null||w==null?null:{x:A,y:w,value:m,payload:f}}).filter(Boolean)}function rQ(e){var t=tn(e,$R),n=Bn();return P.createElement(Iv,{id:t.id,type:"line"},i=>P.createElement(P.Fragment,null,P.createElement(mA,{legendPayload:qX(t)}),P.createElement(VX,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),P.createElement(gA,{type:"line",id:i,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),P.createElement(nQ,Hh({},t,{id:i}))))}var wA=P.memo(rQ,xf);wA.displayName="Line";function Fa(e,t){var n,i;return(n=(i=e.graphicalItems.cartesianItems.find(r=>r.id===t))===null||i===void 0?void 0:i.xAxisId)!==null&&n!==void 0?n:TR}function Ua(e,t){var n,i;return(n=(i=e.graphicalItems.cartesianItems.find(r=>r.id===t))===null||i===void 0?void 0:i.yAxisId)!==null&&n!==void 0?n:TR}var GR=(e,t,n)=>La(e,"xAxis",Fa(e,t),n),qR=(e,t,n)=>ja(e,"xAxis",Fa(e,t),n),VR=(e,t,n)=>La(e,"yAxis",Ua(e,t),n),WR=(e,t,n)=>ja(e,"yAxis",Ua(e,t),n),aQ=it([le,GR,VR,qR,WR],(e,t,n,i,r)=>Jr(e,"xAxis")?Do(t,i,!1):Do(n,r,!1)),sQ=(e,t)=>t,YR=it([pf,sQ],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),KR=e=>{var t=le(e),n=Jr(t,"xAxis");return n?"yAxis":"xAxis"},oQ=(e,t)=>{var n=KR(e);return n==="yAxis"?Ua(e,t):Fa(e,t)},lQ=(e,t,n)=>_g(e,KR(e),oQ(e,t),n),cQ=it([YR,lQ],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:i}=e,r=Av(e);if(!(i==null||r==null)){var a=(n=t[i])===null||n===void 0?void 0:n.stackedData,o=a?.find(c=>c.key===r);if(o!=null)return o.map(c=>[c[0],c[1]])}}}),uQ=it([le,GR,VR,qR,WR,cQ,Lj,aQ,YR,_q],(e,t,n,i,r,a,o,c,d,f)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:y}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||i==null||r==null||i.length===0||r.length===0||c==null)){var{data:b}=d,A;if(b&&b.length>0?A=b:A=p?.slice(m,y+1),A!=null)return PQ({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:r,dataStartIndex:m,areaSettings:d,stackedData:a,displayedData:A,chartBaseValue:f,bandSize:c})}}),dQ=["id"],hQ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yl.apply(null,arguments)}function ZR(e,t){if(e==null)return{};var n,i,r=fQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fQ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(i){pQ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pQ(e,t,n){return(t=mQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ng(e,t){return e&&e!=="none"?e:t}var vQ=e=>{var{dataKey:t,name:n,stroke:i,fill:r,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Ng(i,r),value:Fo(n,t),payload:e}]},yQ=P.memo(e=>{var{dataKey:t,data:n,stroke:i,strokeWidth:r,fill:a,name:o,hide:c,unit:d,tooltipType:f,id:p}=e,m={dataDefinedOnItem:n,getPosition:zo,settings:{stroke:i,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:Fo(o,t),hide:c,type:f,color:Ng(i,a),unit:d,graphicalItemId:p}};return P.createElement(Rv,{tooltipEntrySettings:m})});function bQ(e){var{clipPathId:t,points:n,props:i}=e,{needClip:r,dot:a,dataKey:o}=i,c=Ci(i);return P.createElement(CR,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:r,clipPathId:t})}function xQ(e){var{showLabels:t,children:n,points:i}=e,r=i.map(a=>{var o,c,d={x:(o=a.x)!==null&&o!==void 0?o:0,y:(c=a.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return du(du({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return P.createElement(sA,{value:t?r:void 0},n)}function KM(e){var{points:t,baseLine:n,needClip:i,clipPathId:r,props:a}=e,{layout:o,type:c,stroke:d,connectNulls:f,isRange:p}=a,{id:m}=a,y=ZR(a,dQ),b=Ci(y),A=ci(y);return P.createElement(P.Fragment,null,t?.length>1&&P.createElement(Je,{clipPath:i?"url(#clipPath-".concat(r,")"):void 0},P.createElement(vu,Yl({},A,{id:m,points:t,connectNulls:f,type:c,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&P.createElement(vu,Yl({},b,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&p&&P.createElement(vu,Yl({},b,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:n}))),P.createElement(bQ,{points:t,props:y,clipPathId:r}))}function _Q(e){var t,n,{alpha:i,baseLine:r,points:a,strokeWidth:o}=e,c=(t=a[0])===null||t===void 0?void 0:t.y,d=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!Gt(c)||!Gt(d))return null;var f=i*Math.abs(c-d),p=Math.max(...a.map(m=>m.x||0));return Et(r)?p=Math.max(r,p):r&&Array.isArray(r)&&r.length&&(p=Math.max(...r.map(m=>m.x||0),p)),Et(p)?P.createElement("rect",{x:0,y:c<d?c:c-f,width:p+(o?parseInt("".concat(o),10):1),height:Math.floor(f)}):null}function wQ(e){var t,n,{alpha:i,baseLine:r,points:a,strokeWidth:o}=e,c=(t=a[0])===null||t===void 0?void 0:t.x,d=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!Gt(c)||!Gt(d))return null;var f=i*Math.abs(c-d),p=Math.max(...a.map(m=>m.y||0));return Et(r)?p=Math.max(r,p):r&&Array.isArray(r)&&r.length&&(p=Math.max(...r.map(m=>m.y||0),p)),Et(p)?P.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(p+(o?parseInt("".concat(o),10):1))}):null}function AQ(e){var{alpha:t,layout:n,points:i,baseLine:r,strokeWidth:a}=e;return n==="vertical"?P.createElement(_Q,{alpha:t,points:i,baseLine:r,strokeWidth:a}):P.createElement(wQ,{alpha:t,points:i,baseLine:r,strokeWidth:a})}function SQ(e){var{needClip:t,clipPathId:n,props:i,previousPointsRef:r,previousBaselineRef:a}=e,{points:o,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:p,animationEasing:m,onAnimationStart:y,onAnimationEnd:b}=i,A=P.useMemo(()=>({points:o,baseLine:c}),[o,c]),w=Ru(A,"recharts-area-"),C=Vw(),[O,k]=P.useState(!1),M=!O,j=P.useCallback(()=>{typeof b=="function"&&b(),k(!1)},[b]),I=P.useCallback(()=>{typeof y=="function"&&y(),k(!0)},[y]);if(C==null)return null;var R=r.current,z=a.current;return P.createElement(xQ,{showLabels:M,points:o},i.children,P.createElement(Lu,{animationId:w,begin:f,duration:p,isActive:d,easing:m,onAnimationEnd:j,onAnimationStart:I,key:w},H=>{if(R){var W=R.length/o.length,et=H===1?o:o.map((q,yt)=>{var ct=Math.floor(yt*W);if(R[ct]){var xt=R[ct];return du(du({},q),{},{x:we(xt.x,q.x,H),y:we(xt.y,q.y,H)})}return q}),Y;return Et(c)?Y=we(z,c,H):Ke(c)||Zr(c)?Y=we(z,0,H):Y=c.map((q,yt)=>{var ct=Math.floor(yt*W);if(Array.isArray(z)&&z[ct]){var xt=z[ct];return du(du({},q),{},{x:we(xt.x,q.x,H),y:we(xt.y,q.y,H)})}return q}),H>0&&(r.current=et,a.current=Y),P.createElement(KM,{points:et,baseLine:Y,needClip:t,clipPathId:n,props:i})}return H>0&&(r.current=o,a.current=c),P.createElement(Je,null,d&&P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(n)},P.createElement(AQ,{alpha:H,points:o,baseLine:c,layout:C,strokeWidth:i.strokeWidth}))),P.createElement(Je,{clipPath:"url(#animationClipPath-".concat(n,")")},P.createElement(KM,{points:o,baseLine:c,needClip:t,clipPathId:n,props:i})))}),P.createElement(Dv,{label:i.label}))}function EQ(e){var{needClip:t,clipPathId:n,props:i}=e,r=P.useRef(null),a=P.useRef();return P.createElement(SQ,{needClip:t,clipPathId:n,props:i,previousPointsRef:r,previousBaselineRef:a})}class CQ extends P.PureComponent{render(){var{hide:t,dot:n,points:i,className:r,top:a,left:o,needClip:c,xAxisId:d,yAxisId:f,width:p,height:m,id:y,baseLine:b,zIndex:A}=this.props;if(t)return null;var w=ce("recharts-area",r),C=y,{r:O,strokeWidth:k}=UR(n),M=uA(n),j=O*2+k,I=c?"url(#clipPath-".concat(M?"":"dots-").concat(C,")"):void 0;return P.createElement(gi,{zIndex:A},P.createElement(Je,{className:w},c&&P.createElement("defs",null,P.createElement(xA,{clipPathId:C,xAxisId:d,yAxisId:f}),!M&&P.createElement("clipPath",{id:"clipPath-dots-".concat(C)},P.createElement("rect",{x:o-j/2,y:a-j/2,width:p+j,height:m+j}))),P.createElement(EQ,{needClip:c,clipPathId:C,props:this.props})),P.createElement(q_,{points:i,mainColor:Ng(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(b)&&P.createElement(q_,{points:b,mainColor:Ng(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var XR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:fn.area};function TQ(e){var t,n=tn(e,XR),{activeDot:i,animationBegin:r,animationDuration:a,animationEasing:o,connectNulls:c,dot:d,fill:f,fillOpacity:p,hide:m,isAnimationActive:y,legendType:b,stroke:A,xAxisId:w,yAxisId:C}=n,O=ZR(n,hQ),k=Uo(),M=ZL(),{needClip:j}=Fv(w,C),I=Bn(),{points:R,isRange:z,baseLine:H}=(t=Tt(ct=>uQ(ct,e.id,I)))!==null&&t!==void 0?t:{},W=zv();if(k!=="horizontal"&&k!=="vertical"||W==null||M!=="AreaChart"&&M!=="ComposedChart")return null;var{height:et,width:Y,x:q,y:yt}=W;return!R||!R.length?null:P.createElement(CQ,Yl({},O,{activeDot:i,animationBegin:r,animationDuration:a,animationEasing:o,baseLine:H,connectNulls:c,dot:d,fill:f,fillOpacity:p,height:et,hide:m,layout:k,isAnimationActive:y==="auto"?!of.isSsr:y,isRange:z,legendType:b,needClip:j,points:R,stroke:A,width:Y,left:q,top:yt,xAxisId:w,yAxisId:C}))}var OQ=(e,t,n,i,r)=>{var a=n??t;if(Et(a))return a;var o=e==="horizontal"?r:i,c=o.scale.domain();if(o.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]};function PQ(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:i},stackedData:r,layout:a,chartBaseValue:o,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:p,xAxisTicks:m,yAxisTicks:y,bandSize:b}=e,A=r&&r.length,w=OQ(a,o,n,c,d),C=a==="horizontal",O=!1,k=f.map((j,I)=>{var R,z,H,W;if(A)W=r[p+I];else{var et=Ae(j,i);Array.isArray(et)?(W=et,O=!0):W=[w,et]}var Y=(R=(z=W)===null||z===void 0?void 0:z[1])!==null&&R!==void 0?R:null,q=Y==null||A&&!t&&Ae(j,i)==null;if(C){var yt;return{x:Qm({axis:c,ticks:m,bandSize:b,entry:j,index:I}),y:q?null:(yt=d.scale.map(Y))!==null&&yt!==void 0?yt:null,value:W,payload:j}}return{x:q?null:(H=c.scale.map(Y))!==null&&H!==void 0?H:null,y:Qm({axis:d,ticks:y,bandSize:b,entry:j,index:I}),value:W,payload:j}}),M;return A||O?M=k.map(j=>{var I,R=Array.isArray(j.value)?j.value[0]:null;if(C){var z;return{x:j.x,y:R!=null&&j.y!=null&&(z=d.scale.map(R))!==null&&z!==void 0?z:null,payload:j.payload}}return{x:R!=null&&(I=c.scale.map(R))!==null&&I!==void 0?I:null,y:j.y,payload:j.payload}}):M=C?d.scale.map(w):c.scale.map(w),{points:k,baseLine:M??0,isRange:O}}function MQ(e){var t=tn(e,XR),n=Bn();return P.createElement(Iv,{id:t.id,type:"area"},i=>P.createElement(P.Fragment,null,P.createElement(mA,{legendPayload:vQ(t)}),P.createElement(yQ,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),P.createElement(gA,{type:"area",id:i,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:CD(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),P.createElement(TQ,Yl({},t,{id:i}))))}var $h=P.memo(MQ,xf);$h.displayName="Area";var NQ="Invariant failed";function kQ(e,t){throw new Error(NQ)}function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},V_.apply(null,arguments)}function kg(e){return P.createElement(dA,V_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var DQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(Et(t))return t;var a=Et(i)||Ke(i);return a?t(i,r):(a||kQ(),n)}},jQ=(e,t,n)=>n,LQ=(e,t)=>t,_f=it([pf,LQ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),RQ=it([_f],e=>e?.maxBarSize),IQ=(e,t,n,i)=>i,BQ=it([le,pf,Fa,Ua,jQ],(e,t,n,i,r)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===i).filter(a=>a.isPanorama===r).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),zQ=(e,t,n)=>{var i=le(e),r=Fa(e,t),a=Ua(e,t);if(!(r==null||a==null))return i==="horizontal"?_g(e,"yAxis",a,n):_g(e,"xAxis",r,n)},FQ=(e,t)=>{var n=le(e),i=Fa(e,t),r=Ua(e,t);if(!(i==null||r==null))return n==="horizontal"?O2(e,"xAxis",i):O2(e,"yAxis",r)},UQ=it([BQ,xq,FQ],HK),HQ=(e,t,n)=>{var i,r,a=_f(e,t);if(a==null)return 0;var o=Fa(e,t),c=Ua(e,t);if(o==null||c==null)return 0;var d=le(e),f=Wj(e),{maxBarSize:p}=a,m=Ke(p)?f:p,y,b;return d==="horizontal"?(y=La(e,"xAxis",o,n),b=ja(e,"xAxis",o,n)):(y=La(e,"yAxis",c,n),b=ja(e,"yAxis",c,n)),(i=(r=Do(y,b,!0))!==null&&r!==void 0?r:m)!==null&&i!==void 0?i:0},QR=(e,t,n)=>{var i=le(e),r=Fa(e,t),a=Ua(e,t);if(!(r==null||a==null)){var o,c;return i==="horizontal"?(o=La(e,"xAxis",r,n),c=ja(e,"xAxis",r,n)):(o=La(e,"yAxis",a,n),c=ja(e,"yAxis",a,n)),Do(o,c)}},$Q=it([UQ,Wj,bq,Yj,HQ,QR,RQ],WK),GQ=(e,t,n)=>{var i=Fa(e,t);if(i!=null)return La(e,"xAxis",i,n)},qQ=(e,t,n)=>{var i=Ua(e,t);if(i!=null)return La(e,"yAxis",i,n)},VQ=(e,t,n)=>{var i=Fa(e,t);if(i!=null)return ja(e,"xAxis",i,n)},WQ=(e,t,n)=>{var i=Ua(e,t);if(i!=null)return ja(e,"yAxis",i,n)},YQ=it([$Q,_f],KK),KQ=it([zQ,_f],YK),ZQ=it([In,Uw,GQ,qQ,VQ,WQ,YQ,le,Lj,QR,KQ,_f,IQ],(e,t,n,i,r,a,o,c,d,f,p,m,y)=>{var{chartData:b,dataStartIndex:A,dataEndIndex:w}=d;if(!(m==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||i==null||r==null||a==null||f==null)){var{data:C}=m,O;if(C!=null&&C.length>0?O=C:O=b?.slice(A,w+1),O!=null)return SJ({layout:c,barSettings:m,pos:o,parentViewBox:t,bandSize:f,xAxis:n,yAxis:i,xAxisTicks:r,yAxisTicks:a,stackedData:p,displayedData:O,offset:e,cells:y,dataStartIndex:A})}}),XQ=["index"];function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W_.apply(null,arguments)}function QQ(e,t){if(e==null)return{};var n,i,r=JQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JQ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var JR=P.createContext(void 0),tJ=e=>{var t=P.useContext(JR);if(t!=null)return t.stackId;if(e!=null)return CD(e)},eJ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),nJ=e=>{var t=P.useContext(JR);if(t!=null){var{stackId:n}=t;return"url(#".concat(eJ(n,e),")")}},tI=e=>{var{index:t}=e,n=QQ(e,XQ),i=nJ(t);return P.createElement(Je,W_({className:"recharts-bar-stack-layer",clipPath:i},n))},iJ=["onMouseEnter","onMouseLeave","onClick"],rJ=["value","background","tooltipPosition"],aJ=["id"],sJ=["onMouseEnter","onClick","onMouseLeave"];function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Os.apply(null,arguments)}function ZM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(n),!0).forEach(function(i){oJ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function oJ(e,t,n){return(t=lJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lJ(e){var t=cJ(e,"string");return typeof t=="symbol"?t:t+""}function cJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dg(e,t){if(e==null)return{};var n,i,r=uJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uJ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var dJ=e=>{var{dataKey:t,name:n,fill:i,legendType:r,hide:a}=e;return[{inactive:a,dataKey:t,type:r,color:i,value:Fo(n,t),payload:e}]},hJ=P.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:i,fill:r,name:a,hide:o,unit:c,tooltipType:d,id:f}=e,p={dataDefinedOnItem:void 0,getPosition:zo,settings:{stroke:n,strokeWidth:i,fill:r,dataKey:t,nameKey:void 0,name:Fo(a,t),hide:o,type:d,color:r,unit:c,graphicalItemId:f}};return P.createElement(Rv,{tooltipEntrySettings:p})});function fJ(e){var t=Tt(jo),{data:n,dataKey:i,background:r,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:c,onClick:d}=a,f=Dg(a,iJ),p=hA(o,i,a.id),m=fA(c),y=pA(d,i,a.id);if(!r||n==null)return null;var b=Kl(r);return P.createElement(gi,{zIndex:ZK(r,fn.barBackground)},n.map((A,w)=>{var{value:C,background:O,tooltipPosition:k}=A,M=Dg(A,rJ);if(!O)return null;var j=p(A,w),I=m(A,w),R=y(A,w),z=Ai(Ai(Ai(Ai(Ai({option:r,isActive:String(w)===t},M),{},{fill:"#eee"},O),b),Jh(f,A,w)),{},{onMouseEnter:j,onMouseLeave:I,onClick:R,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return P.createElement(kg,Os({key:"background-bar-".concat(w)},z))}))}function pJ(e){var{showLabels:t,children:n,rects:i}=e,r=i?.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Ai(Ai({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return P.createElement(sA,{value:t?r:void 0},n)}function mJ(e){var{shape:t,activeBar:n,baseProps:i,entry:r,index:a,dataKey:o}=e,c=Tt(jo),d=Tt(tA),f=n&&String(a)===c&&(d==null||o===d),p=f?n:t;return f?P.createElement(gi,{zIndex:fn.activeBar},P.createElement(tI,{index:a},P.createElement(kg,Os({},i,{name:String(i.name)},r,{isActive:f,option:p,index:a,dataKey:o})))):P.createElement(kg,Os({},i,{name:String(i.name)},r,{isActive:f,option:p,index:a,dataKey:o}))}function gJ(e){var{shape:t,baseProps:n,entry:i,index:r,dataKey:a}=e;return P.createElement(kg,Os({},n,{name:String(n.name)},i,{isActive:!1,option:t,index:r,dataKey:a}))}function vJ(e){var t,{data:n,props:i}=e,r=(t=Ci(i))!==null&&t!==void 0?t:{},{id:a}=r,o=Dg(r,aJ),{shape:c,dataKey:d,activeBar:f}=i,{onMouseEnter:p,onClick:m,onMouseLeave:y}=i,b=Dg(i,sJ),A=hA(p,d,a),w=fA(y),C=pA(m,d,a);return n?P.createElement(P.Fragment,null,n.map((O,k)=>P.createElement(tI,Os({index:k,key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(k),className:"recharts-bar-rectangle"},Jh(b,O,k),{onMouseEnter:A(O,k),onMouseLeave:w(O,k),onClick:C(O,k)}),f?P.createElement(mJ,{shape:c,activeBar:f,baseProps:o,entry:O,index:k,dataKey:d}):P.createElement(gJ,{shape:c,baseProps:o,entry:O,index:k,dataKey:d})))):null}function yJ(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:r,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:p}=t,m=n.current,y=Ru(t,"recharts-bar-"),[b,A]=P.useState(!1),w=!b,C=P.useCallback(()=>{typeof f=="function"&&f(),A(!1)},[f]),O=P.useCallback(()=>{typeof p=="function"&&p(),A(!0)},[p]);return P.createElement(pJ,{showLabels:w,rects:i},P.createElement(Lu,{animationId:y,begin:o,duration:c,isActive:a,easing:d,onAnimationEnd:C,onAnimationStart:O,key:y},k=>{var M=k===1?i:i?.map((j,I)=>{var R=m&&m[I];if(R)return Ai(Ai({},j),{},{x:we(R.x,j.x,k),y:we(R.y,j.y,k),width:we(R.width,j.width,k),height:we(R.height,j.height,k)});if(r==="horizontal"){var z=we(0,j.height,k),H=we(j.stackedBarStart,j.y,k);return Ai(Ai({},j),{},{y:H,height:z})}var W=we(0,j.width,k),et=we(j.stackedBarStart,j.x,k);return Ai(Ai({},j),{},{width:W,x:et})});return k>0&&(n.current=M??null),M==null?null:P.createElement(Je,null,P.createElement(vJ,{props:t,data:M}))}),P.createElement(Dv,{label:t.label}),t.children)}function bJ(e){var t=P.useRef(null);return P.createElement(yJ,{previousRectanglesRef:t,props:e})}var eI=0,xJ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ae(e,t)}};class _J extends P.PureComponent{render(){var{hide:t,data:n,dataKey:i,className:r,xAxisId:a,yAxisId:o,needClip:c,background:d,id:f}=this.props;if(t||n==null)return null;var p=ce("recharts-bar",r),m=f;return P.createElement(Je,{className:p,id:f},c&&P.createElement("defs",null,P.createElement(xA,{clipPathId:m,xAxisId:a,yAxisId:o})),P.createElement(Je,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},P.createElement(fJ,{data:n,dataKey:i,background:d,allOtherBarProps:this.props}),P.createElement(bJ,this.props)))}}var wJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:eI,xAxisId:0,yAxisId:0,zIndex:fn.bar};function AJ(e){var{xAxisId:t,yAxisId:n,hide:i,legendType:r,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p}=e,{needClip:m}=Fv(t,n),y=Uo(),b=Bn(),A=cA(e.children,ic),w=Tt(k=>ZQ(k,e.id,b,A));if(y!=="vertical"&&y!=="horizontal")return null;var C,O=w?.[0];return O==null||O.height==null||O.width==null?C=0:C=y==="vertical"?O.height/2:O.width/2,P.createElement(RR,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:xJ,errorBarOffset:C},P.createElement(_J,Os({},e,{layout:y,needClip:m,data:w,xAxisId:t,yAxisId:n,hide:i,legendType:r,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:p})))}function SJ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:i},pos:r,bandSize:a,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:p,displayedData:m,offset:y,cells:b,parentViewBox:A,dataStartIndex:w}=e,C=t==="horizontal"?c:o,O=p?C.scale.domain():null,k=oU({numericAxis:C}),M=C.scale.map(k);return m.map((j,I)=>{var R,z,H,W,et,Y;if(p){var q=p[I+w];if(q==null)return null;R=nU(q,O)}else R=Ae(j,n),Array.isArray(R)||(R=[k,R]);var yt=DQ(i,eI)(R[1],I);if(t==="horizontal"){var ct,xt=c.scale.map(R[0]),$=c.scale.map(R[1]);if(xt==null||$==null)return null;z=TO({axis:o,ticks:d,bandSize:a,offset:r.offset,entry:j,index:I}),H=(ct=$??xt)!==null&&ct!==void 0?ct:void 0,W=r.size;var Q=xt-$;if(et=Zr(Q)?0:Q,Y={x:z,y:y.top,width:W,height:y.height},Math.abs(yt)>0&&Math.abs(et)<Math.abs(yt)){var nt=Zn(et||yt)*(Math.abs(yt)-Math.abs(et));H-=nt,et+=nt}}else{var bt=o.scale.map(R[0]),Z=o.scale.map(R[1]);if(bt==null||Z==null)return null;if(z=bt,H=TO({axis:c,ticks:f,bandSize:a,offset:r.offset,entry:j,index:I}),W=Z-bt,et=r.size,Y={x:y.left,y:H,width:y.width,height:et},Math.abs(yt)>0&&Math.abs(W)<Math.abs(yt)){var U=Zn(W||yt)*(Math.abs(yt)-Math.abs(W));W+=U}}if(z==null||H==null||W==null||et==null)return null;var X=Ai(Ai({},j),{},{stackedBarStart:M,x:z,y:H,width:W,height:et,value:p?R:R[1],payload:j,background:Y,tooltipPosition:{x:z+W/2,y:H+et/2},parentViewBox:A},b&&b[I]&&b[I].props);return X}).filter(Boolean)}function EJ(e){var t=tn(e,wJ),n=tJ(t.stackId),i=Bn();return P.createElement(Iv,{id:t.id,type:"bar"},r=>P.createElement(P.Fragment,null,P.createElement(mA,{legendPayload:dJ(t)}),P.createElement(hJ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),P.createElement(gA,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:i}),P.createElement(gi,{zIndex:t.zIndex},P.createElement(AJ,Os({},t,{id:r})))))}var Oo=P.memo(EJ,xf);Oo.displayName="Bar";var CJ=["domain","range"],TJ=["domain","range"];function XM(e,t){if(e==null)return{};var n,i,r=OJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OJ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function QM(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function nI(e,t){if(e===t)return!0;var{domain:n,range:i}=e,r=XM(e,CJ),{domain:a,range:o}=t,c=XM(t,TJ);return!QM(n,a)||!QM(i,o)?!1:xf(r,c)}var PJ=["type"],MJ=["dangerouslySetInnerHTML","ticks","scale"],NJ=["id","scale"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Y_.apply(null,arguments)}function JM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function tN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(n),!0).forEach(function(i){kJ(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function kJ(e,t,n){return(t=DJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K_(e,t){if(e==null)return{};var n,i,r=LJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LJ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function RJ(e){var t=Re(),n=P.useRef(null),i=Vw(),{type:r}=e,a=K_(e,PJ),o=_v(i,"xAxis",r),c=P.useMemo(()=>{if(o!=null)return tN(tN({},a),{},{type:o})},[a,o]);return P.useLayoutEffect(()=>{c!=null&&(n.current===null?t(TK(c)):n.current!==c&&t(OK({prev:n.current,next:c})),n.current=c)},[c,t]),P.useLayoutEffect(()=>()=>{n.current&&(t(PK(n.current)),n.current=null)},[t]),null}var IJ=e=>{var{xAxisId:t,className:n}=e,i=Tt(Uw),r=Bn(),a="xAxis",o=Tt(O=>TL(O,a,t,r)),c=Tt(O=>AL(O,t)),d=Tt(O=>_V(O,t)),f=Tt(O=>rL(O,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:m,scale:y}=e,b=K_(e,MJ),{id:A,scale:w}=f,C=K_(f,NJ);return P.createElement(bA,Y_({},b,C,{x:d.x,y:d.y,width:c.width,height:c.height,className:ce("recharts-".concat(a," ").concat(a),n),viewBox:i,ticks:o,axisType:a}))},BJ={allowDataOverflow:qn.allowDataOverflow,allowDecimals:qn.allowDecimals,allowDuplicatedCategory:qn.allowDuplicatedCategory,angle:qn.angle,axisLine:_s.axisLine,height:qn.height,hide:!1,includeHidden:qn.includeHidden,interval:qn.interval,label:!1,minTickGap:qn.minTickGap,mirror:qn.mirror,orientation:qn.orientation,padding:qn.padding,reversed:qn.reversed,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,tickLine:_s.tickLine,tickSize:_s.tickSize,type:qn.type,xAxisId:0},zJ=e=>{var t=tn(e,BJ);return P.createElement(P.Fragment,null,P.createElement(RJ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),P.createElement(IJ,t))},Po=P.memo(zJ,nI);Po.displayName="XAxis";var FJ=["type"],UJ=["dangerouslySetInnerHTML","ticks","scale"],HJ=["id","scale"];function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Z_.apply(null,arguments)}function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function nN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(i){$J(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function $J(e,t,n){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GJ(e){var t=qJ(e,"string");return typeof t=="symbol"?t:t+""}function qJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X_(e,t){if(e==null)return{};var n,i,r=VJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VJ(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function WJ(e){var t=Re(),n=P.useRef(null),i=Vw(),{type:r}=e,a=X_(e,FJ),o=_v(i,"yAxis",r),c=P.useMemo(()=>{if(o!=null)return nN(nN({},a),{},{type:o})},[o,a]);return P.useLayoutEffect(()=>{c!=null&&(n.current===null?t(MK(c)):n.current!==c&&t(NK({prev:n.current,next:c})),n.current=c)},[c,t]),P.useLayoutEffect(()=>()=>{n.current&&(t(kK(n.current)),n.current=null)},[t]),null}function YJ(e){var{yAxisId:t,className:n,width:i,label:r}=e,a=P.useRef(null),o=P.useRef(null),c=Tt(Uw),d=Bn(),f=Re(),p="yAxis",m=Tt(R=>SL(R,t)),y=Tt(R=>AV(R,t)),b=Tt(R=>TL(R,p,t,d)),A=Tt(R=>aL(R,t));if(P.useLayoutEffect(()=>{if(!(i!=="auto"||!m||aA(r)||P.isValidElement(r)||A==null)){var R=a.current;if(R){var z=R.getCalculatedWidth();Math.round(m.width)!==Math.round(z)&&f(DK({id:t,width:z}))}}},[b,m,f,r,t,i,A]),m==null||y==null||A==null)return null;var{dangerouslySetInnerHTML:w,ticks:C,scale:O}=e,k=X_(e,UJ),{id:M,scale:j}=A,I=X_(A,HJ);return P.createElement(bA,Z_({},k,I,{ref:a,labelRef:o,x:y.x,y:y.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:m.width,height:m.height,className:ce("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:b,axisType:p}))}var KJ={allowDataOverflow:Vn.allowDataOverflow,allowDecimals:Vn.allowDecimals,allowDuplicatedCategory:Vn.allowDuplicatedCategory,angle:Vn.angle,axisLine:_s.axisLine,hide:!1,includeHidden:Vn.includeHidden,interval:Vn.interval,label:!1,minTickGap:Vn.minTickGap,mirror:Vn.mirror,orientation:Vn.orientation,padding:Vn.padding,reversed:Vn.reversed,scale:Vn.scale,tick:Vn.tick,tickCount:Vn.tickCount,tickLine:_s.tickLine,tickSize:_s.tickSize,type:Vn.type,width:Vn.width,yAxisId:0},ZJ=e=>{var t=tn(e,KJ);return P.createElement(P.Fragment,null,P.createElement(WJ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),P.createElement(YJ,t))},Mo=P.memo(ZJ,nI);Mo.displayName="YAxis";var XJ=(e,t)=>t,AA=it([XJ,le,eL,Qn,GL,Ds,B9,In],q9),SA=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/i)}},iI=Pr("mouseClick"),rI=ef();rI.startListening({actionCreator:iI,effect:(e,t)=>{var n=e.payload,i=AA(t.getState(),SA(n));i?.activeIndex!=null&&t.dispatch(IV({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var Q_=Pr("mouseMove"),aI=ef(),vm=null;aI.startListening({actionCreator:Q_,effect:(e,t)=>{var n=e.payload;vm!==null&&cancelAnimationFrame(vm);var i=SA(n);vm=requestAnimationFrame(()=>{var r=t.getState(),a=Y1(r,r.tooltip.settings.shared);if(a==="axis"){var o=AA(r,i);o?.activeIndex!=null?t.dispatch(LL({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(jL())}vm=null})}});function QJ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var iN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},sI=qi({name:"rootProps",initialState:iN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:iN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),JJ=sI.reducer,{updateOptions:ttt}=sI.actions,ett=null,ntt={updatePolarOptions:(e,t)=>t.payload},oI=qi({name:"polarOptions",initialState:ett,reducers:ntt}),{updatePolarOptions:itt}=oI.actions,rtt=oI.reducer,lI=Pr("keyDown"),cI=Pr("focus"),EA=ef();EA.startListening({actionCreator:lI,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=K1(r,qu(n),gf(n),yf(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var d=Ds(n);if(a==="Enter"){var f=Ag(n,"axis","hover",String(r.index));t.dispatch(F_({active:!r.active,activeIndex:r.index,activeCoordinate:f}));return}var p=TV(n),m=p==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,b=c+y*m;if(!(d==null||b>=d.length||b<0)){var A=Ag(n,"axis","hover",String(b));t.dispatch(F_({active:!0,activeIndex:b.toString(),activeCoordinate:A}))}}}}}});EA.startListening({actionCreator:cI,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&r.index==null){var a="0",o=Ag(n,"axis","hover",String(a));t.dispatch(F_({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Sr=Pr("externalEvent"),uI=ef(),Fx=new Map;uI.startListening({actionCreator:Sr,effect:(e,t)=>{var{handler:n,reactEvent:i}=e.payload;if(n!=null){i.persist();var r=i.type,a=Fx.get(r);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:A9(c),activeDataKey:tA(c),activeIndex:jo(c),activeLabel:WL(c),activeTooltipIndex:jo(c),isTooltipActive:S9(c)};n(d,i)}finally{Fx.delete(r)}});Fx.set(r,o)}}});var att=it([$u],e=>e.tooltipItemPayloads),stt=it([att,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var i=e.find(a=>a.settings.graphicalItemId===n);if(i!=null){var{getPosition:r}=i;if(r!=null)return r(t)}}}),dI=Pr("touchMove"),hI=ef();hI.startListening({actionCreator:dI,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var i=t.getState(),r=Y1(i,i.tooltip.settings.shared);if(r==="axis"){var a=n.touches[0];if(a==null)return;var o=AA(i,SA({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));o?.activeIndex!=null&&t.dispatch(LL({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(r==="item"){var c,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var p=f.getAttribute(OD),m=(c=f.getAttribute(PD))!==null&&c!==void 0?c:void 0,y=Gu(i).find(w=>w.id===m);if(p==null||y==null||m==null)return;var{dataKey:b}=y,A=stt(i,p,m);t.dispatch(DL({activeDataKey:b,activeIndex:p,activeCoordinate:A,activeGraphicalItemId:m}))}}}});var ott=Kk({brush:XK,cartesianAxis:jK,chartData:w7,errorBars:oX,graphicalItems:HY,layout:X6,legend:iH,options:v7,polarAxis:nY,polarOptions:rtt,referenceElements:aZ,rootProps:JJ,tooltip:BV,zIndex:a7}),ltt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return w6({reducer:ott,preloadedState:t,middleware:i=>{var r;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([rI.middleware,aI.middleware,EA.middleware,uI.middleware,hI.middleware])},enhancers:i=>{var r=i;return typeof i=="function"&&(r=i()),r.concat(uD({type:"raf"}))},devTools:{serialize:{replacer:QJ},name:"recharts-".concat(n)}})};function fI(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,r=Bn(),a=P.useRef(null);if(r)return n;a.current==null&&(a.current=ltt(t,i));var o=jw;return P.createElement(LX,{context:o,store:a.current},n)}function ctt(e){var{layout:t,margin:n}=e,i=Re(),r=Bn();return P.useEffect(()=>{r||(i(Y6(t)),i(W6(n)))},[i,r,t,n]),null}var pI=P.memo(ctt,xf);function mI(e){var t=Re();return P.useEffect(()=>{t(ttt(e))},[t,e]),null}function rN(e){var{zIndex:t,isPanorama:n}=e,i=P.useRef(null),r=Re();return P.useLayoutEffect(()=>(i.current&&r(i7({zIndex:t,element:i.current,isPanorama:n})),()=>{r(r7({zIndex:t,isPanorama:n}))}),[r,t,n]),P.createElement("g",{tabIndex:-1,ref:i})}function aN(e){var{children:t,isPanorama:n}=e,i=Tt(W9);if(!i||i.length===0)return t;var r=i.filter(o=>o<0),a=i.filter(o=>o>0);return P.createElement(P.Fragment,null,r.map(o=>P.createElement(rN,{key:o,zIndex:o,isPanorama:n})),t,a.map(o=>P.createElement(rN,{key:o,zIndex:o,isPanorama:n})))}var utt=["children"];function dtt(e,t){if(e==null)return{};var n,i,r=htt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function htt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},jg.apply(null,arguments)}var ftt={width:"100%",height:"100%",display:"block"},ptt=P.forwardRef((e,t)=>{var n=Gw(),i=qw(),r=qD();if(!ka(n)||!ka(i))return null;var{children:a,otherAttributes:o,title:c,desc:d}=e,f,p;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=r?0:void 0,typeof o.role=="string"?p=o.role:p=r?"application":void 0),P.createElement(Aw,jg({},o,{title:c,desc:d,role:p,tabIndex:f,width:n,height:i,style:ftt,ref:t}),a)}),mtt=e=>{var{children:t}=e,n=Tt(cv);if(!n)return null;var{width:i,height:r,y:a,x:o}=n;return P.createElement(Aw,{width:i,height:r,x:o,y:a},t)},sN=P.forwardRef((e,t)=>{var{children:n}=e,i=dtt(e,utt),r=Bn();return r?P.createElement(mtt,null,P.createElement(aN,{isPanorama:!0},n)):P.createElement(ptt,jg({ref:t},i),P.createElement(aN,{isPanorama:!1},n))});function gtt(){var e=Re(),[t,n]=P.useState(null),i=Tt(fU);return P.useEffect(()=>{if(t!=null){var r=t.getBoundingClientRect(),a=r.width/t.offsetWidth;Gt(a)&&a!==i&&e(Z6(a))}},[t,e,i]),n}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function vtt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(i){ytt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ytt(e,t,n){return(t=btt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function btt(e){var t=xtt(e,"string");return typeof t=="symbol"?t:t+""}function xtt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ko.apply(null,arguments)}var _tt=()=>(N7(),null);function Lg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var wtt=P.forwardRef((e,t)=>{var n,i,r=P.useRef(null),[a,o]=P.useState({containerWidth:Lg((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Lg((i=e.style)===null||i===void 0?void 0:i.height)}),c=P.useCallback((f,p)=>{o(m=>{var y=Math.round(f),b=Math.round(p);return m.containerWidth===y&&m.containerHeight===b?m:{containerWidth:y,containerHeight:b}})},[]),d=P.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=f.getBoundingClientRect();c(p,m);var y=A=>{var w=A[0];if(w!=null){var{width:C,height:O}=w.contentRect;c(C,O)}},b=new ResizeObserver(y);b.observe(f),r.current=b}},[t,c]);return P.useEffect(()=>()=>{var f=r.current;f?.disconnect()},[c]),P.createElement(P.Fragment,null,P.createElement(af,{width:a.containerWidth,height:a.containerHeight}),P.createElement("div",ko({ref:d},e)))}),Att=P.forwardRef((e,t)=>{var{width:n,height:i}=e,[r,a]=P.useState({containerWidth:Lg(n),containerHeight:Lg(i)}),o=P.useCallback((d,f)=>{a(p=>{var m=Math.round(d),y=Math.round(f);return p.containerWidth===m&&p.containerHeight===y?p:{containerWidth:m,containerHeight:y}})},[]),c=P.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:p}=d.getBoundingClientRect();o(f,p)}},[t,o]);return P.createElement(P.Fragment,null,P.createElement(af,{width:r.containerWidth,height:r.containerHeight}),P.createElement("div",ko({ref:c},e)))}),Stt=P.forwardRef((e,t)=>{var{width:n,height:i}=e;return P.createElement(P.Fragment,null,P.createElement(af,{width:n,height:i}),P.createElement("div",ko({ref:t},e)))}),Ett=P.forwardRef((e,t)=>{var{width:n,height:i}=e;return typeof n=="string"||typeof i=="string"?P.createElement(Att,ko({},e,{ref:t})):typeof n=="number"&&typeof i=="number"?P.createElement(Stt,ko({},e,{width:n,height:i,ref:t})):P.createElement(P.Fragment,null,P.createElement(af,{width:n,height:i}),P.createElement("div",ko({ref:t},e)))});function Ctt(e){return e?wtt:Ett}var Ttt=P.forwardRef((e,t)=>{var{children:n,className:i,height:r,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,onMouseMove:m,onMouseUp:y,onTouchEnd:b,onTouchMove:A,onTouchStart:w,style:C,width:O,responsive:k,dispatchTouchEvents:M=!0}=e,j=P.useRef(null),I=Re(),[R,z]=P.useState(null),[H,W]=P.useState(null),et=gtt(),Y=Hw(),q=Y?.width>0?Y.width:O,yt=Y?.height>0?Y.height:r,ct=P.useCallback(dt=>{et(dt),typeof t=="function"&&t(dt),z(dt),W(dt),dt!=null&&(j.current=dt)},[et,t,z,W]),xt=P.useCallback(dt=>{I(iI(dt)),I(Sr({handler:a,reactEvent:dt}))},[I,a]),$=P.useCallback(dt=>{I(Q_(dt)),I(Sr({handler:f,reactEvent:dt}))},[I,f]),Q=P.useCallback(dt=>{I(jL()),I(Sr({handler:p,reactEvent:dt}))},[I,p]),nt=P.useCallback(dt=>{I(Q_(dt)),I(Sr({handler:m,reactEvent:dt}))},[I,m]),bt=P.useCallback(()=>{I(cI())},[I]),Z=P.useCallback(dt=>{I(lI(dt.key))},[I]),U=P.useCallback(dt=>{I(Sr({handler:o,reactEvent:dt}))},[I,o]),X=P.useCallback(dt=>{I(Sr({handler:c,reactEvent:dt}))},[I,c]),ut=P.useCallback(dt=>{I(Sr({handler:d,reactEvent:dt}))},[I,d]),gt=P.useCallback(dt=>{I(Sr({handler:y,reactEvent:dt}))},[I,y]),_t=P.useCallback(dt=>{I(Sr({handler:w,reactEvent:dt}))},[I,w]),wt=P.useCallback(dt=>{M&&I(dI(dt)),I(Sr({handler:A,reactEvent:dt}))},[I,M,A]),At=P.useCallback(dt=>{I(Sr({handler:b,reactEvent:dt}))},[I,b]),Yt=Ctt(k);return P.createElement(eR.Provider,{value:R},P.createElement(hk.Provider,{value:H},P.createElement(Yt,{width:q??C?.width,height:yt??C?.height,className:ce("recharts-wrapper",i),style:vtt({position:"relative",cursor:"default",width:q,height:yt},C),onClick:xt,onContextMenu:U,onDoubleClick:X,onFocus:bt,onKeyDown:Z,onMouseDown:ut,onMouseEnter:$,onMouseLeave:Q,onMouseMove:nt,onMouseUp:gt,onTouchEnd:At,onTouchMove:wt,onTouchStart:_t,ref:ct},P.createElement(_tt,null),n)))}),Ott=["width","height","responsive","children","className","style","compact","title","desc"];function Ptt(e,t){if(e==null)return{};var n,i,r=Mtt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mtt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var gI=P.forwardRef((e,t)=>{var{width:n,height:i,responsive:r,children:a,className:o,style:c,compact:d,title:f,desc:p}=e,m=Ptt(e,Ott),y=Ci(m);return d?P.createElement(P.Fragment,null,P.createElement(af,{width:n,height:i}),P.createElement(sN,{otherAttributes:y,title:f,desc:p},a)):P.createElement(Ttt,{className:o,style:c,width:n,height:i,responsive:r??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},P.createElement(sN,{otherAttributes:y,title:f,desc:p,ref:t},P.createElement(sZ,null,a)))});function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},J_.apply(null,arguments)}var Ntt={top:5,right:5,bottom:5,left:5},ktt={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ntt,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},CA=P.forwardRef(function(t,n){var i,r=tn(t.categoricalChartProps,ktt),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,p={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return P.createElement(fI,{preloadedState:{options:p},reduxStoreName:(i=f.id)!==null&&i!==void 0?i:a},P.createElement(PR,{chartData:f.data}),P.createElement(pI,{layout:r.layout,margin:r.margin}),P.createElement(mI,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),P.createElement(gI,J_({},r,{ref:n})))}),Dtt=["axis","item"],jtt=P.forwardRef((e,t)=>P.createElement(CA,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Dtt,tooltipPayloadSearcher:Nv,categoricalChartProps:e,ref:t}));function Ltt(e){var t=Re();return P.useEffect(()=>{t(itt(e))},[t,e]),null}var Rtt=["layout"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tw.apply(null,arguments)}function Itt(e,t){if(e==null)return{};var n,i,r=Btt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Btt(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var ztt={top:5,right:5,bottom:5,left:5},vI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ztt,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ftt=P.forwardRef(function(t,n){var i,r=tn(t.categoricalChartProps,vI),{layout:a}=r,o=Itt(r,Rtt),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=t,m={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return P.createElement(fI,{preloadedState:{options:m},reduxStoreName:(i=r.id)!==null&&i!==void 0?i:c},P.createElement(PR,{chartData:r.data}),P.createElement(pI,{layout:a,margin:r.margin}),P.createElement(mI,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),P.createElement(Ltt,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),P.createElement(gI,tw({},o,{ref:n})))});function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function cN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(i){Utt(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Utt(e,t,n){return(t=Htt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Htt(e){var t=$tt(e,"string");return typeof t=="symbol"?t:t+""}function $tt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gtt=["item"],qtt=cN(cN({},vI),{},{layout:"centric",startAngle:0,endAngle:360}),ew=P.forwardRef((e,t)=>{var n=tn(e,qtt);return P.createElement(Ftt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gtt,tooltipPayloadSearcher:Nv,categoricalChartProps:n,ref:t})}),Vtt=["axis"],Rg=P.forwardRef((e,t)=>P.createElement(CA,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vtt,tooltipPayloadSearcher:Nv,categoricalChartProps:e,ref:t})),Wtt=["axis"],yI=P.forwardRef((e,t)=>P.createElement(CA,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wtt,tooltipPayloadSearcher:Nv,categoricalChartProps:e,ref:t}));const bI={RC:47,S:34,Wood:22,SteelLight:27},uN=15,dN=(e,t)=>{const n=bI[e]||47;return t>=n?Math.max(Math.floor(n*.2),2):Math.floor(n-t+t*.2)},hN=e=>1/e,xI=(e,t,n,i,r=0)=>{const a=t*(1-n),o=t*n,c=i?dN(e,r):bI[e]||47,d=i?dN("Wood",Math.min(r,uN)):uN,f=a*hN(c),p=n>0?o*hN(d):0;return{buildingDepreciation:Math.floor(f),equipmentDepreciation:Math.floor(p),totalDepreciation:Math.floor(f+p),buildingUsefulLife:c,equipmentUsefulLife:d}},_I=(e,t)=>{let n=0;return t<=e.buildingUsefulLife&&(n+=e.buildingDepreciation),t<=e.equipmentUsefulLife&&(n+=e.equipmentDepreciation),n},Ux=[{limit:195e4,rate:.05,deduction:0},{limit:33e5,rate:.1,deduction:97500},{limit:695e4,rate:.2,deduction:427500},{limit:9e6,rate:.23,deduction:636e3},{limit:18e6,rate:.33,deduction:1536e3},{limit:4e7,rate:.4,deduction:2796e3},{limit:1/0,rate:.45,deduction:4796e3}],Ytt=.1,Ktt=(e,t=0)=>{if(e<=0)return 0;const n=e+t,i=Ux.find(o=>n<=o.limit)||Ux[Ux.length-1],r=e*i.rate,a=e*Ytt;return Math.floor(r+a)},Ztt=(e,t=!0)=>e<=0?0:t?e<=8e6?Math.floor(e*.25):Math.floor(8e6*.25+(e-8e6)*.35):Math.floor(e*.3),TA=(e,t=35)=>{const n=[],i=e.funding.ownCapital*1e4;let r=-i;const a=e.budget.buildingWorksCost*1e4,o=e.mode==="investment_used",c=e.advancedSettings?.equipmentRatio??.2,d=e.advancedSettings?.buildingAge??0,f=xI(e.property.structure,a,c,o,d),p=e.advancedSettings?.taxMode??"individual",m=e.advancedSettings?.otherIncome??0,y=e.advancedSettings?.interestRateRise??0;let b=e.funding.loans.map(C=>({...C,remainingBalance:C.amount*1e4,baseRate:C.rate,currentRate:C.rate,monthlyPmt:Jx(C.amount*1e4,C.rate,C.duration),yearAds:0,yearInterest:0,yearPrincipal:0}));const A=(e.rentRoll.roomTypes.reduce((C,O)=>C+(O.rent+O.commonFee)*O.count,0)+e.rentRoll.parkingCount*e.rentRoll.parkingFee+(e.rentRoll.solarPowerIncome||0)+e.rentRoll.otherRevenue)*12,w=e.expenses.buildingMaintenance*12+e.expenses.maintenanceReserve*12+e.expenses.fixedAssetTaxLand+e.expenses.cityPlanningTaxLand+e.expenses.fixedAssetTaxBuilding+e.expenses.cityPlanningTaxBuilding+e.expenses.fireInsuranceAnnual+e.expenses.otherExpenses;for(let C=1;C<=t;C++){const O=e.advancedSettings?.rentDeclineRate??1,k=e.advancedSettings?.vacancyRiseRate??.5,M=A*Math.pow(1-O/100,C-1);let I=(e.rentRoll.occupancyRate?100-e.rentRoll.occupancyRate:5)+k*(C-1);I>100&&(I=100);const R=M*(I/100),z=M-R;let H=0;e.expenses.managementFeeMode==="ratio"?H=z*(e.expenses.managementFeeRatio/100):H=e.expenses.managementFeeFixed*12;const W=w+H,et=z-W;let Y=0,q=0,yt=0,ct=0;b=b.map(X=>{if(C>X.duration)return{...X,remainingBalance:0};const ut=y*(C-1),gt=X.baseRate+ut;let _t=0,wt=0,At=0,Yt=X.remainingBalance;const dt=Jx(Yt,gt,Math.max(X.duration-C+1,1));for(let Rt=0;Rt<12&&!(Yt<=0);Rt++){const Bt=Yt*(gt/100)/12;let vt=dt-Bt;Yt<vt&&(vt=Yt),Yt-=vt,wt+=Bt,At+=vt,_t+=Bt+vt}return{...X,currentRate:gt,remainingBalance:Yt,yearAds:_t,yearInterest:wt,yearPrincipal:At}}),b.forEach(X=>{C<=X.duration&&(Y+=X.yearAds||0,q+=X.yearInterest||0,yt+=X.yearPrincipal||0),ct+=X.remainingBalance});const xt=et-Y,$=_I(f,C),Q=et-$-q;let nt=0;p==="individual"?nt=Ktt(Q,m):nt=Ztt(Q);const bt=xt-nt;r+=bt;const Z=Y>0?et/Y:1/0,U=i>0?xt/i:0;n.push({year:C,grossIncome:M,lostIncome:R,effectiveIncome:z,opex:W,noi:et,tmT:Y,interest:q,principal:yt,btcf:xt,depreciation:$,taxableIncome:Q,taxAmount:nt,atcf:bt,loanBalance:ct,accumulatedCashFlow:r,dscr:Z,ccr:U})}return n},Xtt=(e,t=.1)=>{let r=t;for(let a=0;a<100;a++){let o=0,c=0;for(let d=0;d<e.length;d++){const f=Math.pow(1+r,d);o+=e[d]/f,c-=d*e[d]/(f*(1+r))}if(Math.abs(o)<1e-7)return r;if(Math.abs(c)<1e-7)return null;r=r-o/c,r<-1&&(r=-.99)}return r},OA=(e,t)=>{const i=[-(e.funding.ownCapital*1e4),...t.map(p=>p.atcf)],r=Xtt(i),a=t.find(p=>p.accumulatedCashFlow>=0)?.year??null,o=t.filter(p=>p.dscr!==1/0&&p.dscr>0),c=o.length>0?o.reduce((p,m)=>p+m.dscr,0)/o.length:0,d=t[0],f=d?(d.opex+d.tmT)/d.grossIncome:0;return{irr:r,paybackYear:a,avgDscr:c,ber:f,year1Dscr:d?.dscr??0,year1Ccr:d?.ccr??0}},Hx=({label:e,value:t,min:n,max:i,step:r,onChange:a,unit:o,description:c})=>E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("label",{className:"text-sm font-medium text-slate-700",children:e}),E.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[t,o&&E.jsx("span",{className:"text-xs ml-0.5 text-slate-500",children:o})]})]}),E.jsx("input",{type:"range",min:n,max:i,step:r,value:t,onChange:d=>a(parseFloat(d.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/50"}),c&&E.jsx("p",{className:"text-xs text-slate-500",children:c})]}),Qtt=({children:e})=>{const[t,n]=P.useState(!1);return E.jsxs(E.Fragment,{children:[E.jsxs("button",{onClick:()=>n(!0),className:"no-print inline-flex items-center gap-2 px-6 py-3 bg-slate-900 text-white font-bold text-sm rounded-xl hover:bg-slate-800 transition-colors shadow-lg",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"PDF"]}),t&&E.jsxs("div",{className:"fixed inset-0 bg-slate-500/80 z-[9999] overflow-auto no-print",id:"report-preview-overlay",children:[E.jsxs("div",{className:"sticky top-0 z-50 bg-slate-900 text-white px-6 py-3 flex items-center justify-between shadow-xl no-print",children:[E.jsx("span",{className:"font-bold text-sm",children:" (A4)"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{const i=document.getElementById("report-preview-overlay");i&&i.classList.add("printing"),window.print(),setTimeout(()=>{i&&i.classList.remove("printing")},500)},className:"px-4 py-1.5 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-500 font-medium",children:" / PDF"}),E.jsx("button",{onClick:()=>n(!1),className:"px-4 py-1.5 bg-slate-700 text-white text-sm rounded-lg hover:bg-slate-600 font-medium",children:""})]})]}),E.jsx("div",{className:"flex flex-col items-center gap-8 py-8 px-4",children:e})]}),E.jsx("div",{className:"hidden",id:"report-print-area",children:e}),E.jsx("style",{children:`
                /* Screen Preview: show pages as cards */
                #report-preview-overlay .report-page {
                    width: 297mm;
                    height: 210mm;
                    background: white;
                    box-shadow: 0 4px 24px rgba(0,0,0,0.3);
                    overflow: hidden;
                    box-sizing: border-box;
                    padding: 12mm 16mm;
                    flex-shrink: 0;
                }

                @media print {
                    /* Hide everything */
                    body > * {
                        display: none !important;
                    }
                    body > #root {
                        display: block !important;
                    }
                    #root > * {
                        display: none !important;
                    }
                    
                    /* Show only report print area */
                    #report-print-area {
                        display: block !important;
                    }
                    
                    /* Also allow overlay printing */
                    #report-preview-overlay.printing {
                        display: block !important;
                        position: static !important;
                        background: none !important;
                        overflow: visible !important;
                    }
                    #report-preview-overlay.printing .no-print {
                        display: none !important;
                    }
                    #report-preview-overlay.printing > div:last-of-type {
                        padding: 0 !important;
                        gap: 0 !important;
                    }

                    @page {
                        size: 297mm 210mm;
                        margin: 0;
                    }
                    html, body {
                        margin: 0 !important;
                        padding: 0 !important;
                    }
                    body {
                        -webkit-print-color-adjust: exact;
                        print-color-adjust: exact;
                    }
                    .no-print {
                        display: none !important;
                    }
                    .report-page {
                        width: 297mm !important;
                        height: 210mm !important;
                        padding: 12mm 16mm !important;
                        box-sizing: border-box !important;
                        page-break-after: always !important;
                        page-break-inside: avoid !important;
                        overflow: hidden !important;
                        box-shadow: none !important;
                        margin: 0 !important;
                    }
                    .report-page:last-child {
                        page-break-after: auto !important;
                    }
                }
            `})]})},Jtt=(e,t)=>t<=0?0:Math.floor(e/(t/100)),tet=e=>{const t=e*.03+6e4,n=Math.floor(t*1.1);let i=1e4;e>1e8?i=6e4:e>5e7?i=3e4:e>1e7&&(i=1e4);const r=0,a=n+i+r;return{brokerageFee:n,stampDuty:i,otherExpenses:r,total:a}},eet=(e,t,n,i,r,a)=>{const o=Math.max(t-n,0),c=a+o,d=e-c-i;if(d<=0)return 0;const p=r>5?.20315:.3963;return Math.floor(d*p)},net=(e,t,n,i,r,a,o)=>{const c=e.find(M=>M.year===t);if(!c)return{saleYear:t,salePrice:0,saleExpenses:{brokerageFee:0,stampDuty:0,otherExpenses:0,total:0},loanBalanceAtSale:0,accumulatedDepreciation:0,capitalGainsTax:0,netSaleProceeds:0,totalCashflowDuringHolding:0,totalReturn:0,totalReturnRate:0,annualizedReturn:0};const d=Jtt(c.noi,n),f=tet(d),p=c.loanBalance;let m=0;for(let M=1;M<=t;M++)m+=_I(o,M);const y=eet(d,i,m,f.total,t,r),b=d-p-f.total-y,A=e.filter(M=>M.year<=t).reduce((M,j)=>M+j.atcf,0),w=b+A-a,C=a>0?w/a:0,O=a+w,k=a>0&&O>0?Math.pow(O/a,1/t)-1:0;return{saleYear:t,salePrice:d,saleExpenses:f,loanBalanceAtSale:p,accumulatedDepreciation:m,capitalGainsTax:y,netSaleProceeds:b,totalCashflowDuringHolding:A,totalReturn:w,totalReturnRate:C,annualizedReturn:k}},iet=(e,t,n,i,r,a,o=[5,10,15,20,25,30])=>o.map(c=>net(e,c,t,n,i,r,a)),ret=e=>{const t=e.advancedSettings;return[{name:"optimistic",label:"",color:"#10b981",overrides:{rentDeclineRate:Math.max(t.rentDeclineRate-.5,0),vacancyRiseRate:Math.max(t.vacancyRiseRate-.3,0),interestRateRise:0}},{name:"standard",label:"",color:"#6366f1",overrides:{}},{name:"pessimistic",label:"",color:"#ef4444",overrides:{rentDeclineRate:t.rentDeclineRate+.5,vacancyRiseRate:t.vacancyRiseRate+.3,interestRateRise:(t.interestRateRise||0)+.05}}].map(i=>{const r={...e,advancedSettings:{...e.advancedSettings,...i.overrides}},a=TA(r),o=OA(r,a),c=a[0];return{name:i.name,label:i.label,color:i.color,settings:i.overrides,year1Noi:c?.noi??0,year1Btcf:c?.btcf??0,year1Atcf:c?.atcf??0,year1Dscr:o.year1Dscr,irr:o.irr,paybackYear:o.paybackYear}})},aet=(e,t=[0,.5,1,1.5,2],n=[0,.25,.5,.75,1])=>n.map(i=>t.map(r=>{const a={...e,advancedSettings:{...e.advancedSettings,rentDeclineRate:r,vacancyRiseRate:i}},o=TA(a),c=OA(a,o),d=o[9];return{rentDecline:r,vacancyRise:i,irr:c.irr,noi10:d?.noi??0,btcf10:d?.btcf??0}})),set=({data:e})=>{const t=new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"});return E.jsxs("div",{className:"report-page flex",children:[E.jsxs("div",{className:"w-[88mm] h-full bg-gradient-to-b from-blue-600 via-indigo-600 to-violet-700 flex flex-col justify-between p-10 text-white relative overflow-hidden flex-shrink-0",children:[E.jsxs("div",{className:"relative z-10",children:[E.jsx("div",{className:"w-10 h-10 border-2 border-white/40 rounded-full flex items-center justify-center mb-4 backdrop-blur-sm bg-white/10",children:E.jsx("span",{className:"text-lg font-bold",children:"R"})}),E.jsxs("p",{className:"text-white/70 tracking-[0.15em] text-[10px] uppercase leading-relaxed mt-2",children:["",E.jsx("br",{}),""]})]}),E.jsxs("div",{className:"relative z-10",children:[E.jsx("div",{className:"w-12 h-[3px] bg-amber-400 mb-5"}),E.jsx("p",{className:"text-3xl font-light leading-tight tracking-tight text-white/90",children:""}),E.jsx("p",{className:"text-3xl font-bold leading-tight",children:""})]}),E.jsx("div",{className:"relative z-10",children:E.jsx("p",{className:"text-white/40 text-[9px] tracking-wider uppercase",children:""})}),E.jsx("div",{className:"absolute -bottom-16 -right-16 w-56 h-56 rounded-full border-[16px] border-white/[0.08]"}),E.jsx("div",{className:"absolute top-24 -left-8 w-40 h-40 rounded-full border-[12px] border-white/[0.05]"})]}),E.jsxs("div",{className:"flex-1 flex flex-col justify-between p-12 pl-16",children:[E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-blue-400 text-[10px] uppercase tracking-widest",children:""}),E.jsx("p",{className:"text-slate-600 text-sm font-medium",children:t})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-blue-600 font-bold text-[10px] uppercase tracking-[0.2em] mb-3",children:""}),E.jsx("h2",{className:"text-4xl font-extrabold text-slate-800 leading-tight mb-8",children:e.title||""}),E.jsx("div",{className:"w-full h-px bg-gradient-to-r from-blue-200 via-indigo-200 to-transparent mb-8"}),E.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[9px] font-bold text-blue-400 uppercase tracking-wider mb-1",children:""}),E.jsx("p",{className:"text-base text-slate-700 font-medium",children:e.property.address||""})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[9px] font-bold text-blue-400 uppercase tracking-wider mb-1",children:" / "}),E.jsxs("p",{className:"text-base text-slate-700 font-medium",children:[e.property.structure,"  ",e.property.totalUnits,""]})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[9px] font-bold text-blue-400 uppercase tracking-wider mb-1",children:""}),E.jsxs("p",{className:"text-base text-slate-700 font-medium",children:[e.property.landAreaM2," "]})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[9px] font-bold text-blue-400 uppercase tracking-wider mb-1",children:""}),E.jsxs("p",{className:"text-base text-slate-700 font-medium",children:[e.property.totalFloorAreaM2," "]})]})]})]}),E.jsx("div",{className:"text-right",children:E.jsx("p",{className:"text-slate-300 text-[9px] tracking-widest uppercase",children:""})})]})]})},oet=({data:e,kpi:t})=>E.jsxs("div",{className:"report-page flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-end mb-6 border-b-2 border-blue-600 pb-2 flex-shrink-0",children:[E.jsx("h2",{className:"text-2xl font-extrabold text-slate-800 tracking-tight",children:""}),E.jsx("p",{className:"text-blue-400 text-[10px] uppercase tracking-widest",children:"Page 02  "})]}),E.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6 flex-shrink-0",children:[E.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200",children:[E.jsx("p",{className:"text-[9px] font-bold text-blue-500 uppercase tracking-wider",children:""}),E.jsx("p",{className:"text-3xl font-extrabold text-blue-700 mt-1",children:Ea(t.grossYield)}),E.jsx("p",{className:"text-[9px] text-blue-400 mt-0.5",children:"Gross Yield"})]}),E.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-emerald-50 to-emerald-100 border border-emerald-200",children:[E.jsx("p",{className:"text-[9px] font-bold text-emerald-500 uppercase tracking-wider",children:" (NOI)"}),E.jsx("p",{className:"text-3xl font-extrabold text-emerald-600 mt-1",children:Ea(t.netYield)}),E.jsx("p",{className:"text-[9px] text-emerald-400 mt-0.5",children:"Net Yield"})]}),E.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-amber-50 to-amber-100 border border-amber-200",children:[E.jsx("p",{className:"text-[9px] font-bold text-amber-500 uppercase tracking-wider",children:"CF ()"}),E.jsx("p",{className:"text-2xl font-bold text-amber-700 mt-1 leading-tight",children:Ft(t.beforeTaxCashFlow)}),E.jsx("p",{className:"text-[9px] text-amber-400 mt-0.5",children:"Average BTCF"})]}),E.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-br from-violet-50 to-violet-100 border border-violet-200",children:[E.jsx("p",{className:"text-[9px] font-bold text-violet-500 uppercase tracking-wider",children:""}),E.jsx("p",{className:"text-2xl font-bold text-violet-700 mt-1 leading-tight",children:Ft(t.totalBudgetYen)}),E.jsx("p",{className:"text-[9px] text-violet-400 mt-0.5",children:"Total Investment"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-10 flex-1 min-h-0",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),""]}),E.jsxs("div",{className:"space-y-0 text-sm",children:[E.jsxs("div",{className:"flex justify-between py-2.5 border-b border-dashed border-slate-200",children:[E.jsx("span",{className:"text-slate-500",children:""}),E.jsx("span",{className:"font-bold text-slate-700 font-mono text-xs",children:Ft(e.funding.ownCapital*1e4)})]}),E.jsxs("div",{className:"flex justify-between py-2.5 border-b border-dashed border-slate-200",children:[E.jsx("span",{className:"text-slate-500",children:""}),E.jsx("span",{className:"font-bold text-slate-700 font-mono text-xs",children:Ft(e.funding.loans.reduce((n,i)=>n+i.amount,0)*1e4)})]}),E.jsxs("div",{className:"flex justify-between py-2.5 border-b border-slate-200",children:[E.jsx("span",{className:"text-slate-500",children:""}),E.jsx("span",{className:"font-bold text-slate-700 font-mono text-xs",children:Ft((e.funding.cooperationMoney+e.funding.securityDepositIn)*1e4)})]}),E.jsxs("div",{className:"flex justify-between py-3 bg-blue-50 px-3 -mx-1 mt-1 rounded-lg border border-blue-100",children:[E.jsx("span",{className:"font-bold text-blue-800 text-xs uppercase",children:""}),E.jsx("span",{className:"font-extrabold text-blue-800 font-mono",children:Ft(t.totalBudgetYen)})]})]})]}),E.jsxs("div",{children:[E.jsxs("h3",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),""]}),E.jsxs("table",{className:"w-full text-xs text-left",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"text-[9px] text-blue-400 uppercase border-b border-blue-100",children:[E.jsx("th",{className:"py-2 font-medium",children:""}),E.jsx("th",{className:"py-2 text-right font-medium",children:""}),E.jsx("th",{className:"py-2 text-right font-medium",children:""}),E.jsx("th",{className:"py-2 text-right font-medium",children:""})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.funding.loans.map((n,i)=>E.jsxs("tr",{children:[E.jsx("td",{className:"py-2.5 text-slate-700 font-medium",children:n.name}),E.jsx("td",{className:"py-2.5 text-right font-mono text-slate-600",children:Ft(n.amount*1e4)}),E.jsxs("td",{className:"py-2.5 text-right font-mono text-slate-600",children:[n.rate,"%"]}),E.jsxs("td",{className:"py-2.5 text-right font-mono text-slate-600",children:[n.duration,""]})]},i)),e.funding.loans.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:4,className:"py-4 text-center text-slate-400 italic text-[10px]",children:""})})]})]})]})]}),E.jsxs("div",{className:"mt-auto pt-4 border-t border-blue-100 text-[9px] text-slate-400 flex justify-between flex-shrink-0",children:[E.jsxs("span",{children:[":  ",e.advancedSettings?.rentDeclineRate??1,"%/   ",e.advancedSettings?.vacancyRiseRate??.5,"%/"]}),E.jsx("span",{children:""})]})]}),cet=({data:e,expenseData:t})=>{const n=["#3b82f6","#06b6d4","#8b5cf6","#f59e0b","#ec4899"],i=e.rentRoll.roomTypes.reduce((y,b)=>y+(b.rent+b.commonFee)*b.count,0),r=e.rentRoll.parkingCount*e.rentRoll.parkingFee,a=i+r+(e.rentRoll.solarPowerIncome||0)+e.rentRoll.otherRevenue,o=e.budget.landPrice*1e4,c=(e.budget.demolitionCost+e.budget.buildingWorksCost)*1e4,d=e.budget.brokerageFee*1e4,f=(e.budget.stampDuty+e.budget.registrationTax+e.budget.acquisitionTax+e.budget.fireInsurancePrepaid+e.budget.waterContribution+e.budget.otherInitialCost+e.budget.constructionInterest)*1e4,p=o+c+d+f,m=[{name:"",value:o},{name:"",value:c},{name:"",value:d},{name:"",value:f}].filter(y=>y.value>0);return E.jsxs("div",{className:"report-page flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-end mb-6 border-b-2 border-blue-600 pb-2 flex-shrink-0",children:[E.jsx("h2",{className:"text-2xl font-extrabold text-slate-800 tracking-tight",children:""}),E.jsx("p",{className:"text-blue-400 text-[10px] uppercase tracking-widest",children:"Page 03  "})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-12 flex-1 min-h-0",children:[E.jsxs("div",{className:"flex flex-col",children:[E.jsxs("h3",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),""]}),E.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[E.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsx(ew,{children:E.jsx(Tg,{data:m,cx:"50%",cy:"50%",innerRadius:25,outerRadius:55,paddingAngle:3,dataKey:"value",isAnimationActive:!1,stroke:"none",children:m.map((y,b)=>E.jsx(ic,{fill:n[b%n.length]},b))})})})}),E.jsx("div",{className:"flex-1 text-xs space-y-2",children:m.map((y,b)=>E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"w-3 h-3 rounded flex-shrink-0",style:{backgroundColor:n[b]}}),E.jsx("span",{className:"text-slate-500 flex-1",children:y.name}),E.jsx("span",{className:"font-mono font-medium text-slate-700",children:Ft(y.value)})]},b))})]}),E.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg px-4 py-3 flex justify-between items-center",children:[E.jsx("span",{className:"font-bold text-blue-800 text-xs uppercase",children:""}),E.jsx("span",{className:"font-extrabold text-blue-800 font-mono text-base",children:Ft(p)})]})]}),E.jsxs("div",{className:"flex flex-col",children:[E.jsxs("h3",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-4 flex items-center gap-2",children:[E.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"})," ()"]}),E.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-lg px-4 py-3 mb-5",children:E.jsxs("div",{className:"flex justify-between items-end",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-[9px] text-emerald-500 uppercase tracking-wider font-medium",children:" (GPI)"}),E.jsxs("p",{className:"text-xs text-emerald-400 mt-0.5",children:[": ",Ft(a)]})]}),E.jsx("p",{className:"text-xl font-extrabold text-emerald-700",children:Ft(a*12)})]})}),E.jsxs("div",{className:"flex items-start gap-6 mb-4",children:[E.jsx("div",{className:"w-28 h-28 flex-shrink-0",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsx(ew,{children:E.jsx(Tg,{data:t,cx:"50%",cy:"50%",innerRadius:20,outerRadius:48,paddingAngle:3,dataKey:"value",isAnimationActive:!1,stroke:"none",children:t.map((y,b)=>E.jsx(ic,{fill:n[b%n.length]},b))})})})}),E.jsx("div",{className:"flex-1 text-[11px] space-y-1.5",children:t.map((y,b)=>E.jsxs("div",{className:"flex items-center gap-2 py-0.5 border-b border-slate-100 last:border-0",children:[E.jsx("span",{className:"w-2.5 h-2.5 rounded flex-shrink-0",style:{backgroundColor:n[b%n.length]}}),E.jsx("span",{className:"text-slate-500 flex-1",children:y.name}),E.jsx("span",{className:"font-mono text-slate-600 text-[10px]",children:Ft(y.value)})]},b))})]}),E.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg px-4 py-3 flex justify-between items-center mt-auto",children:[E.jsx("span",{className:"font-bold text-amber-800 text-xs uppercase",children:" (OPEX)"}),E.jsx("span",{className:"font-extrabold text-amber-800 font-mono text-base",children:Ft(t.reduce((y,b)=>y+b.value,0))})]})]})]})]})},uet=({projectionData:e})=>E.jsxs("div",{className:"report-page flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-end mb-5 border-b-2 border-blue-600 pb-2 flex-shrink-0",children:[E.jsx("h2",{className:"text-2xl font-extrabold text-slate-800 tracking-tight",children:""}),E.jsx("p",{className:"text-blue-400 text-[10px] uppercase tracking-widest",children:"Page 04  35"})]}),E.jsxs("div",{className:"flex-1 min-h-0 flex flex-col mb-4",children:[E.jsx("p",{className:"text-[9px] font-bold text-blue-500 uppercase tracking-wider mb-2",children:""}),E.jsx("div",{className:"flex-1 min-h-0 bg-blue-50/30 rounded-lg border border-blue-100 p-2",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsxs(yI,{data:e,margin:{top:10,right:20,left:10,bottom:0},children:[E.jsx(To,{strokeDasharray:"3 3",vertical:!1,stroke:"#e0e7ff"}),E.jsx(Po,{dataKey:"year",fontSize:9,tickLine:!1,axisLine:!1}),E.jsx(Mo,{yAxisId:"left",tickFormatter:t=>`${t/1e4}`,fontSize:9,tickLine:!1,axisLine:!1,width:36}),E.jsx(Kw,{wrapperStyle:{fontSize:"9px",paddingTop:"4px"},iconSize:7}),E.jsx(Oo,{yAxisId:"left",dataKey:"effectiveIncome",name:"EGI",fill:"#60a5fa",radius:[2,2,0,0],barSize:10,isAnimationActive:!1}),E.jsx(Oo,{yAxisId:"left",dataKey:"opex",name:"OPEX",stackId:"a",fill:"#fbbf24",isAnimationActive:!1}),E.jsx(Oo,{yAxisId:"left",dataKey:"tmT",name:"ADS",stackId:"a",fill:"#c084fc",radius:[2,2,0,0],isAnimationActive:!1}),E.jsx(wA,{yAxisId:"left",type:"monotone",dataKey:"btcf",name:"BTCF",stroke:"#059669",strokeWidth:2.5,dot:!1,isAnimationActive:!1})]})})})]}),E.jsxs("div",{className:"h-32 grid grid-cols-2 gap-4 flex-shrink-0",children:[E.jsxs("div",{className:"rounded-lg border border-emerald-100 bg-emerald-50/30 p-3 flex flex-col",children:[E.jsx("p",{className:"text-[9px] font-bold text-emerald-500 uppercase tracking-wider mb-1",children:""}),E.jsx("div",{className:"flex-1 min-h-0",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsxs(Rg,{data:e,children:[E.jsx(To,{strokeDasharray:"3 3",vertical:!1,stroke:"#d1fae5"}),E.jsx(Po,{dataKey:"year",fontSize:8,tickLine:!1,axisLine:!1}),E.jsx(Mo,{tickFormatter:t=>`${t/1e4}`,width:32,fontSize:8,tickLine:!1,axisLine:!1}),E.jsx(vA,{y:0,stroke:"#6ee7b7"}),E.jsx($h,{type:"monotone",dataKey:"accumulatedCashFlow",stroke:"#059669",fill:"#34d399",fillOpacity:.2,isAnimationActive:!1,strokeWidth:1.5})]})})})]}),E.jsxs("div",{className:"rounded-lg border border-violet-100 bg-violet-50/30 p-3 flex flex-col",children:[E.jsx("p",{className:"text-[9px] font-bold text-violet-500 uppercase tracking-wider mb-1",children:""}),E.jsx("div",{className:"flex-1 min-h-0",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsxs(Rg,{data:e,children:[E.jsx(To,{strokeDasharray:"3 3",vertical:!1,stroke:"#ede9fe"}),E.jsx(Po,{dataKey:"year",fontSize:8,tickLine:!1,axisLine:!1}),E.jsx(Mo,{tickFormatter:t=>`${t/1e4}`,width:32,fontSize:8,tickLine:!1,axisLine:!1}),E.jsx($h,{type:"monotone",dataKey:"loanBalance",stroke:"#7c3aed",fill:"#a78bfa",fillOpacity:.2,isAnimationActive:!1,strokeWidth:1.5})]})})})]})]})]}),fN=({projection:e,startYear:t,endYear:n,pageNumber:i})=>{const r=e.filter(a=>a.year>=t&&a.year<=n);return E.jsxs("div",{className:"report-page flex flex-col",children:[E.jsxs("div",{className:"flex justify-between items-end mb-4 border-b-2 border-blue-600 pb-2 flex-shrink-0",children:[E.jsx("h2",{className:"text-xl font-extrabold text-slate-800 tracking-tight",children:""}),E.jsxs("p",{className:"text-blue-400 text-[10px] uppercase tracking-widest",children:["Page 0",i,"  ",t,"",n,""]})]}),E.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:E.jsxs("table",{className:"w-full text-[9px] text-right border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-[8px] uppercase tracking-wider",children:[E.jsx("th",{className:"py-1.5 px-1 text-center border-r border-blue-500/30 w-6 rounded-tl-lg",children:""}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30",children:""}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30",children:""}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30 bg-blue-700/30",children:""}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30",children:""}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30 bg-blue-700/30",children:"CF"}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30 text-amber-200",children:""}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30 text-rose-200",children:""}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30 bg-emerald-700/40 font-bold",children:"CF"}),E.jsx("th",{className:"py-1.5 px-1 border-r border-blue-500/30 text-blue-200",children:"DSCR"}),E.jsx("th",{className:"py-1.5 px-1 text-emerald-200 rounded-tr-lg",children:"CF"})]})}),E.jsx("tbody",{children:r.map((a,o)=>{const c=a.year%5===0;return E.jsxs("tr",{className:`font-mono border-b border-slate-100 ${o%2!==0?"bg-blue-50/40":"bg-white"} ${c?"!bg-blue-100/60 font-semibold":""}`,children:[E.jsx("td",{className:"py-1 px-1 text-center text-blue-600 border-r border-slate-100 font-bold tabular-nums",children:a.year}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 text-slate-600 tabular-nums",children:Ft(a.effectiveIncome)}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 text-amber-600 tabular-nums",children:Ft(a.opex)}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 text-blue-700 bg-blue-50/30 tabular-nums",children:Ft(a.noi)}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 text-violet-500 tabular-nums",children:Ft(a.tmT)}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 text-blue-700 bg-blue-50/30 tabular-nums",children:Ft(a.btcf)}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 text-amber-500 tabular-nums",children:Ft(a.depreciation)}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 text-rose-500 tabular-nums",children:Ft(a.taxAmount)}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 font-bold text-emerald-700 bg-emerald-50/30 tabular-nums",children:Ft(a.atcf)}),E.jsx("td",{className:"py-1 px-1 border-r border-slate-100 text-blue-500 tabular-nums",children:a.dscr===1/0?"":a.dscr.toFixed(2)}),E.jsx("td",{className:`py-1 px-1 tabular-nums ${a.accumulatedCashFlow>=0?"text-emerald-600":"text-rose-500"}`,children:Ft(a.accumulatedCashFlow)})]},a.year)})})]})})]})},wi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),nw=[.001,0,0,.001,0,0],$x=1.35,nr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},So={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Gh="pdfjs_internal_editor_",Wt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},oe={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},det={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},iw={TRIANGLES:1,LATTICE:2},jn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Dm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Tn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},su={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Uv={ERRORS:0,WARNINGS:1,INFOS:5},qh={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},hh={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},het={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Hv=Uv.WARNINGS;function fet(e){Number.isInteger(e)&&(Hv=e)}function pet(){return Hv}function $v(e){Hv>=Uv.INFOS&&console.info(`Info: ${e}`)}function Ht(e){Hv>=Uv.WARNINGS&&console.warn(`Warning: ${e}`)}function xe(e){throw new Error(e)}function be(e,t){e||xe(t)}function met(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function wI(e,t=null,n=null){if(!e)return null;if(n&&typeof e=="string"&&(n.addDefaultProtocol&&e.startsWith("www.")&&e.match(/\./g)?.length>=2&&(e=`http://${e}`),n.tryConvertEncoding))try{e=_et(e)}catch{}const i=t?URL.parse(e,t):URL.parse(e);return met(i)?i:null}function AI(e,t,n=!1){const i=URL.parse(e);return i?(i.hash=t,i.href):n&&wI(e,"http://example.com")?e.split("#",1)[0]+`${t?`#${t}`:""}`:""}function $t(e,t,n,i=!1){return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const cc=(function(){function t(n,i){this.message=n,this.name=i}return t.prototype=new Error,t.constructor=t,t})();class pN extends cc{constructor(t,n){super(t,"PasswordException"),this.code=n}}class Gx extends cc{constructor(t,n){super(t,"UnknownErrorException"),this.details=n}}class rw extends cc{constructor(t){super(t,"InvalidPDFException")}}class Ig extends cc{constructor(t,n,i){super(t,"ResponseException"),this.status=n,this.missing=i}}class get extends cc{constructor(t){super(t,"FormatError")}}class Ro extends cc{constructor(t){super(t,"AbortException")}}function vet(e){(typeof e!="object"||e?.length===void 0)&&xe("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let r=0;r<t;r+=n){const a=Math.min(r+n,t),o=e.subarray(r,a);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Gv(e){typeof e!="string"&&xe("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=e.charCodeAt(i)&255;return n}function yet(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function bet(){const e=new Uint8Array(4);return e[0]=1,new Uint32Array(e.buffer,0,1)[0]===1}function xet(){try{return new Function(""),!0}catch{return!1}}class Rn{static get isLittleEndian(){return $t(this,"isLittleEndian",bet())}static get isEvalSupported(){return $t(this,"isEvalSupported",xet())}static get isOffscreenCanvasSupported(){return $t(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return $t(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return $t(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return $t(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:n}=navigator;return $t(this,"platform",{isAndroid:n.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return $t(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const qx=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class Ct{static makeHexColor(t,n,i){return`#${qx[t]}${qx[n]}${qx[i]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,n){let i;t[0]?(t[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=t[0],n[2]*=t[0],t[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=t[3],n[3]*=t[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,t[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=t[1],n[3]*=t[1],t[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=t[2],n[2]*=t[2]),n[0]+=t[4],n[1]+=t[5],n[2]+=t[4],n[3]+=t[5]}static transform(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}static multiplyByDOMMatrix(t,n){return[t[0]*n.a+t[2]*n.b,t[1]*n.a+t[3]*n.b,t[0]*n.c+t[2]*n.d,t[1]*n.c+t[3]*n.d,t[0]*n.e+t[2]*n.f+t[4],t[1]*n.e+t[3]*n.f+t[5]]}static applyTransform(t,n,i=0){const r=t[i],a=t[i+1];t[i]=r*n[0]+a*n[2]+n[4],t[i+1]=r*n[1]+a*n[3]+n[5]}static applyTransformToBezier(t,n,i=0){const r=n[0],a=n[1],o=n[2],c=n[3],d=n[4],f=n[5];for(let p=0;p<6;p+=2){const m=t[i+p],y=t[i+p+1];t[i+p]=m*r+y*o+d,t[i+p+1]=m*a+y*c+f}}static applyInverseTransform(t,n){const i=t[0],r=t[1],a=n[0]*n[3]-n[1]*n[2];t[0]=(i*n[3]-r*n[2]+n[2]*n[5]-n[4]*n[3])/a,t[1]=(-i*n[1]+r*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(t,n,i){const r=n[0],a=n[1],o=n[2],c=n[3],d=n[4],f=n[5],p=t[0],m=t[1],y=t[2],b=t[3];let A=r*p+d,w=A,C=r*y+d,O=C,k=c*m+f,M=k,j=c*b+f,I=j;if(a!==0||o!==0){const R=a*p,z=a*y,H=o*m,W=o*b;A+=H,O+=H,C+=W,w+=W,k+=R,I+=R,j+=z,M+=z}i[0]=Math.min(i[0],A,C,w,O),i[1]=Math.min(i[1],k,j,M,I),i[2]=Math.max(i[2],A,C,w,O),i[3]=Math.max(i[3],k,j,M,I)}static inverseTransform(t){const n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]}static singularValueDecompose2dScale(t,n){const i=t[0],r=t[1],a=t[2],o=t[3],c=i**2+r**2,d=i*a+r*o,f=a**2+o**2,p=(c+f)/2,m=Math.sqrt(p**2-(c*f-d**2));n[0]=Math.sqrt(p+m||1),n[1]=Math.sqrt(p-m||1)}static normalizeRect(t){const n=t.slice(0);return t[0]>t[2]&&(n[0]=t[2],n[2]=t[0]),t[1]>t[3]&&(n[1]=t[3],n[3]=t[1]),n}static intersect(t,n){const i=Math.max(Math.min(t[0],t[2]),Math.min(n[0],n[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(n[0],n[2]));if(i>r)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(n[1],n[3]));return a>o?null:[i,a,r,o]}static pointBoundingBox(t,n,i){i[0]=Math.min(i[0],t),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],t),i[3]=Math.max(i[3],n)}static rectBoundingBox(t,n,i,r,a){a[0]=Math.min(a[0],t,i),a[1]=Math.min(a[1],n,r),a[2]=Math.max(a[2],t,i),a[3]=Math.max(a[3],n,r)}static#t(t,n,i,r,a,o,c,d,f,p){if(f<=0||f>=1)return;const m=1-f,y=f*f,b=y*f,A=m*(m*(m*t+3*f*n)+3*y*i)+b*r,w=m*(m*(m*a+3*f*o)+3*y*c)+b*d;p[0]=Math.min(p[0],A),p[1]=Math.min(p[1],w),p[2]=Math.max(p[2],A),p[3]=Math.max(p[3],w)}static#e(t,n,i,r,a,o,c,d,f,p,m,y){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,n,i,r,a,o,c,d,-m/p,y);return}const b=p**2-4*m*f;if(b<0)return;const A=Math.sqrt(b),w=2*f;this.#t(t,n,i,r,a,o,c,d,(-p+A)/w,y),this.#t(t,n,i,r,a,o,c,d,(-p-A)/w,y)}static bezierBoundingBox(t,n,i,r,a,o,c,d,f){f[0]=Math.min(f[0],t,c),f[1]=Math.min(f[1],n,d),f[2]=Math.max(f[2],t,c),f[3]=Math.max(f[3],n,d),this.#e(t,i,a,c,n,r,o,d,3*(-t+3*(i-a)+c),6*(t-2*i+a),3*(i-t),f),this.#e(t,i,a,c,n,r,o,d,3*(-n+3*(r-o)+d),6*(n-2*r+o),3*(r-n),f)}}function _et(e){return decodeURIComponent(escape(e))}let Vx=null,mN=null;function wet(e){return Vx||(Vx=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,mN=new Map([["","t"]])),e.replaceAll(Vx,(t,n,i)=>n?n.normalize("NFKC"):mN.get(i))}function SI(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),vet(e)}const hu="pdfjs_internal_id_";function Aet(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,r,...a]=n;if(!e(i)&&!Number.isInteger(i)||!t(r))return!1;const o=a.length;let c=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const d of a)if(!(typeof d=="number"||c&&d===null))return!1;return!0}function oi(e,t,n){return Math.min(Math.max(e,t),n)}typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(e){return e.reduce((t,n)=>t+n,0)});class Vh{static textContent(t){const n=[],i={items:n,styles:Object.create(null)};function r(a){if(!a)return;let o=null;const c=a.name;if(c==="#text")o=a.value;else if(Vh.shouldBuildText(c))a?.attributes?.textContent?o=a.attributes.textContent:a.value&&(o=a.value);else return;if(o!==null&&n.push({str:o}),!!a.children)for(const d of a.children)r(d)}return r(t),i}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class EI{static setupStorage(t,n,i,r,a){const o=r.getValue(n,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),a==="print")break;t.addEventListener("input",c=>{r.setValue(n,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?t.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{r.setValue(n,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),a==="print")break;t.addEventListener("input",c=>{r.setValue(n,{value:c.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const c of i.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const d=c.target.options,f=d.selectedIndex===-1?"":d[d.selectedIndex].value;r.setValue(n,{value:f})});break}}static setAttributes({html:t,element:n,storage:i=null,intent:r,linkService:a}){const{attributes:o}=n,c=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[d,f]of Object.entries(o))if(f!=null)switch(d){case"class":f.length&&t.setAttribute(d,f.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",f);break;case"style":Object.assign(t.style,f);break;case"textContent":t.textContent=f;break;default:(!c||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,f)}c&&a.addLinkAttributes(t,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(t,o.dataId,n,i)}static render(t){const n=t.annotationStorage,i=t.linkService,r=t.xfaHtml,a=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:a,linkService:i});const c=a!=="richText",d=t.div;if(d.append(o),t.viewport){const m=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=m}c&&d.setAttribute("class","xfaLayer xfaFont");const f=[];if(r.children.length===0){if(r.value){const m=document.createTextNode(r.value);o.append(m),c&&Vh.shouldBuildText(r.name)&&f.push(m)}return{textDivs:f}}const p=[[r,-1,o]];for(;p.length>0;){const[m,y,b]=p.at(-1);if(y+1===m.children.length){p.pop();continue}const A=m.children[++p.at(-1)[1]];if(A===null)continue;const{name:w}=A;if(w==="#text"){const O=document.createTextNode(A.value);f.push(O),b.append(O);continue}const C=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,w):document.createElement(w);if(b.append(C),A.attributes&&this.setAttributes({html:C,element:A,storage:n,intent:a,linkService:i}),A.children?.length>0)p.push([A,-1,C]);else if(A.value){const O=document.createTextNode(A.value);c&&Vh.shouldBuildText(w)&&f.push(O),C.append(O)}}for(const m of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))m.setAttribute("readOnly",!0);return{textDivs:f}}static update(t){const n=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=n,t.div.hidden=!1}}const fs="http://www.w3.org/2000/svg";class ku{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function wf(e,t="text"){if(_h(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(t){case"arraybuffer":case"blob":case"json":n(r.response);return}n(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Af{constructor({viewBox:t,userUnit:n,scale:i,rotation:r,offsetX:a=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=n,this.scale=i,this.rotation=r,this.offsetX=a,this.offsetY=o,i*=n;const d=(t[2]+t[0])/2,f=(t[3]+t[1])/2;let p,m,y,b;switch(r%=360,r<0&&(r+=360),r){case 180:p=-1,m=0,y=0,b=1;break;case 90:p=0,m=1,y=1,b=0;break;case 270:p=0,m=-1,y=-1,b=0;break;case 0:p=1,m=0,y=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(y=-y,b=-b);let A,w,C,O;p===0?(A=Math.abs(f-t[1])*i+a,w=Math.abs(d-t[0])*i+o,C=(t[3]-t[1])*i,O=(t[2]-t[0])*i):(A=Math.abs(d-t[0])*i+a,w=Math.abs(f-t[1])*i+o,C=(t[2]-t[0])*i,O=(t[3]-t[1])*i),this.transform=[p*i,m*i,y*i,b*i,A-p*i*d-y*i*f,w-m*i*d-b*i*f],this.width=C,this.height=O}get rawDims(){const t=this.viewBox;return $t(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new Af({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:n,offsetX:i,offsetY:r,dontFlip:a})}convertToViewportPoint(t,n){const i=[t,n];return Ct.applyTransform(i,this.transform),i}convertToViewportRectangle(t){const n=[t[0],t[1]];Ct.applyTransform(n,this.transform);const i=[t[2],t[3]];return Ct.applyTransform(i,this.transform),[n[0],n[1],i[0],i[1]]}convertToPdfPoint(t,n){const i=[t,n];return Ct.applyInverseTransform(i,this.transform),i}}class PA extends cc{constructor(t,n=0){super(t,"RenderingCancelledException"),this.extraDelay=n}}function qv(e){const t=e.length;let n=0;for(;n<t&&e[n].trim()==="";)n++;return e.substring(n,n+5).toLowerCase()==="data:"}function MA(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function Eet(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function Cet(e,t="document.pdf"){if(typeof e!="string")return t;if(qv(e))return Ht('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(e);if(!i)return t;const r=c=>{try{let d=decodeURIComponent(c);return d.includes("/")?(d=d.split("/").at(-1),d.test(/^\.pdf$/i)?d:c):d}catch{return c}},a=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(a.test(o))return r(o);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const f of c)if(a.test(f))return r(f);const d=Array.from(i.searchParams.keys()).reverse();for(const f of d)if(a.test(f))return r(f)}if(i.hash){const d=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(d)return r(d[0])}return t}class gN{started=Object.create(null);times=[];time(t){t in this.started&&Ht(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ht(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:r,end:a}of this.times)t.push(`${i.padEnd(n)} ${a-r}ms
`);return t.join("")}}function _h(e,t){const n=t?URL.parse(e,t):URL.parse(e);return n?.protocol==="http:"||n?.protocol==="https:"}function Nr(e){e.preventDefault()}function dn(e){e.preventDefault(),e.stopPropagation()}function Tet(e){console.log("Deprecated API usage: "+e)}class aw{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#t.exec(t);if(!n)return null;const i=parseInt(n[1],10);let r=parseInt(n[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(n[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(n[6],10);d=d>=0&&d<=59?d:0;const f=n[7]||"Z";let p=parseInt(n[8],10);p=p>=0&&p<=23?p:0;let m=parseInt(n[9],10)||0;return m=m>=0&&m<=59?m:0,f==="-"?(o+=p,c+=m):f==="+"&&(o-=p,c-=m),new Date(Date.UTC(i,r,a,o,c,d))}}function Oet(e,{scale:t=1,rotation:n=0}){const{width:i,height:r}=e.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new Af({viewBox:a,userUnit:1,scale:t,rotation:n})}function Sf(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(t=>parseInt(t)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ht(`Not a valid color format: "${e}"`),[0,0,0])}function Pet(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,Sf(i))}t.remove()}function Xe(e){const{a:t,b:n,c:i,d:r,e:a,f:o}=e.getTransform();return[t,n,i,r,a,o]}function wa(e){const{a:t,b:n,c:i,d:r,e:a,f:o}=e.getTransform().invertSelf();return[t,n,i,r,a,o]}function ac(e,t,n=!1,i=!0){if(t instanceof Af){const{pageWidth:r,pageHeight:a}=t.rawDims,{style:o}=e,c=Rn.isCSSRoundSupported,d=`var(--total-scale-factor) * ${r}px`,f=`var(--total-scale-factor) * ${a}px`,p=c?`round(down, ${d}, var(--scale-round-x))`:`calc(${d})`,m=c?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!n||t.rotation%180===0?(o.width=p,o.height=m):(o.width=m,o.height=p)}i&&e.setAttribute("data-main-rotation",t.rotation)}class Ra{constructor(){const{pixelRatio:t}=Ra;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,n,i,r,a=-1){let o=1/0,c=1/0,d=1/0;i=Ra.capPixels(i,a),i>0&&(o=Math.sqrt(i/(t*n))),r!==-1&&(c=r/t,d=r/n);const f=Math.min(o,c,d);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,n){if(n>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return t>0?Math.min(t,i):i}return t}}const sw=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Met{static get isDarkMode(){return $t(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Net{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:n}=t;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(t);const{color:i}=window.getComputedStyle(t);return t.remove(),$t(this,"commentForegroundColor",Sf(i))}}function ket(e,t,n,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return e=Math.round(e*i+r),t=Math.round(t*i+r),n=Math.round(n*i+r),[e,t,n]}function vN(e,t){const n=e[0]/255,i=e[1]/255,r=e[2]/255,a=Math.max(n,i,r),o=Math.min(n,i,r),c=(a+o)/2;if(a===o)t[0]=t[1]=0;else{const d=a-o;switch(t[1]=c<.5?d/(a+o):d/(2-a-o),a){case n:t[0]=((i-r)/d+(i<r?6:0))*60;break;case i:t[0]=((r-n)/d+2)*60;break;case r:t[0]=((n-i)/d+4)*60;break}}t[2]=c}function ow(e,t){const n=e[0],i=e[1],r=e[2],a=(1-Math.abs(2*r-1))*i,o=a*(1-Math.abs(n/60%2-1)),c=r-a/2;switch(Math.floor(n/60)){case 0:t[0]=a+c,t[1]=o+c,t[2]=c;break;case 1:t[0]=o+c,t[1]=a+c,t[2]=c;break;case 2:t[0]=c,t[1]=a+c,t[2]=o+c;break;case 3:t[0]=c,t[1]=o+c,t[2]=a+c;break;case 4:t[0]=o+c,t[1]=c,t[2]=a+c;break;case 5:case 6:t[0]=a+c,t[1]=c,t[2]=o+c;break}}function yN(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function bN(e,t,n){ow(e,n),n.map(yN);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];ow(t,n),n.map(yN);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const xN=new Map;function Det(e,t){const n=e[0]+e[1]*256+e[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let i=xN.get(n);if(i)return i;const r=new Float32Array(9),a=r.subarray(0,3),o=r.subarray(3,6);vN(e,o);const c=r.subarray(6,9);vN(t,c);const d=c[2]<.5,f=d?12:4.5;if(o[2]=d?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),bN(o,c,a)<f){let p,m;d?(p=o[2],m=1):(p=0,m=o[2]);const y=.005;for(;m-p>y;){const b=o[2]=(p+m)/2;d===bN(o,c,a)<f?p=b:m=b}o[2]=d?m:p}return ow(o,a),i=Ct.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),xN.set(n,i),i}function CI({html:e,dir:t,className:n},i){const r=document.createDocumentFragment();if(typeof e=="string"){const a=document.createElement("p");a.dir=t||"auto";const o=e.split(/(?:\r\n?|\n)/);for(let c=0,d=o.length;c<d;++c){const f=o[c];a.append(document.createTextNode(f)),c<d-1&&a.append(document.createElement("br"))}r.append(a)}else EI.render({xfaHtml:e,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",n),i.append(r)}function TI(e){const t=new Path2D;if(!e)return t;for(let n=0,i=e.length;n<i;)switch(e[n++]){case hh.moveTo:t.moveTo(e[n++],e[n++]);break;case hh.lineTo:t.lineTo(e[n++],e[n++]);break;case hh.curveTo:t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);break;case hh.quadraticCurveTo:t.quadraticCurveTo(e[n++],e[n++],e[n++],e[n++]);break;case hh.closePath:t.closePath();break;default:Ht(`Unrecognized drawing path operator: ${e[n-1]}`);break}return t}class ve{static#t=null;static#e=null;static#i=null;static#n=0;static#a=[];get pagesNumber(){return ve.#n}set pagesNumber(t){ve.#n!==t&&(ve.#n=t,t===0&&(ve.#e=null,ve.#t=null))}addListener(t){ve.#a.push(t)}removeListener(t){const n=ve.#a.indexOf(t);n>=0&&ve.#a.splice(n,1)}#s(){for(const t of ve.#a)t()}#r(t){if(ve.#e)return;const n=ve.#n,i=new Uint32Array(3*n),r=ve.#e=i.subarray(0,n),a=ve.#t=i.subarray(n,2*n);if(t)for(let o=0;o<n;o++)r[o]=a[o]=o+1;ve.#i=i.subarray(2*n)}movePages(t,n,i){this.#r(!0);const r=ve.#e,a=ve.#t;ve.#i.set(a);const o=n.length,c=new Uint32Array(o);let d=0;for(let b=0;b<o;b++){const A=n[b]-1;c[b]=r[A],A<i&&(d+=1)}const f=ve.#n;let p=i-d;const m=f-o;p=oi(p,0,m);for(let b=0,A=0;b<f;b++)t.has(b+1)||(r[A++]=r[b]);r.copyWithin(p+o,p,m),r.set(c,p);let y=!1;for(let b=0,A=f;b<A;b++){const w=r[b];y||=w!==b+1,a[w-1]=b+1}this.#s(),y||(this.pagesNumber=0)}hasBeenAltered(){return ve.#e!==null}getPageMappingForSaving(){return{pageIndices:ve.#t?ve.#t.map(t=>t-1):null}}getPrevPageNumber(t){return ve.#i[ve.#e[t-1]-1]}getPageNumber(t){return ve.#t?.[t-1]??t}getPageId(t){return ve.#e?.[t-1]??t}static get instance(){return $t(this,"instance",new ve)}getMapping(){return ve.#e.subarray(0,this.pagesNumber)}}class Ch{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(t){this.#i=t,Ch.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const n=this.#i._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(t.addEventListener("contextmenu",Nr,{signal:n}),t.addEventListener("pointerdown",Ch.#l,{signal:n}));const i=this.#n=document.createElement("div");i.className="buttons",t.append(i);const r=this.#i.toolbarPosition;if(r){const{style:a}=t,o=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];a.insetInlineEnd=`${100*o}%`,a.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#h(t){this.#i._focusEventsAllowed=!1,dn(t)}#d(t){this.#i._focusEventsAllowed=!0,dn(t)}#f(t){const n=this.#i._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(t.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:n}),t.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),t.addEventListener("contextmenu",Nr,{signal:n}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:n}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",Ch.#c[t]),this.#f(i)&&i.addEventListener("click",r=>{n.delete()},{signal:n._signal}),this.#n.append(i)}get#g(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const n=await t.render();this.#f(n),this.#n.append(n,this.#g),this.#a=t}addComment(t,n=null){if(this.#s)return;const i=t.renderForToolbar();if(!i)return;this.#f(i);const r=this.#r=this.#g;n?(this.#n.insertBefore(i,n),this.#n.insertBefore(r,n)):this.#n.append(i,r),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const n=t.renderButton();this.#f(n),this.#n.append(n,this.#g)}async addEditSignatureButton(t){const n=this.#o=await t.renderEditButton(this.#i);this.#f(n),this.#n.append(n,this.#g)}removeButton(t){t==="comment"&&(this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null)}async addButton(t,n){switch(t){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(t,n,i){if(!n&&t==="comment")return;const r=this.#n.querySelector(i);r&&t==="comment"&&this.addComment(n,r)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class jet{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const n=this.#i._signal;n instanceof AbortSignal&&!n.aborted&&t.addEventListener("contextmenu",Nr,{signal:n});const i=this.#t=document.createElement("div");return i.className="buttons",t.append(i),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,n){let i=0,r=0;for(const a of t){const o=a.y+a.height;if(o<i)continue;const c=a.x+(n?a.width:0);if(o>i){r=c,i=o;continue}n?c>r&&(r=c):c<r&&(r=c)}return[n?1-r:r,i]}show(t,n,i){const[r,a]=this.#a(n,i),{style:o}=this.#e||=this.#n();t.append(this.#e),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,n,i,r){const a=document.createElement("button");a.classList.add("basic",t),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const o=document.createElement("span");a.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(a.addEventListener("contextmenu",Nr,{signal:c}),a.addEventListener("click",r,{signal:c})),this.#t.append(a)}}function OI(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class ye{static#t=NaN;static#e=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(t){(ye.#e||=new Set).add(t)}static setPointer(t,n){ye.#t||=n,ye.#n??=t}static setTimeStamp(t){ye.#i=t}static isSamePointerId(t){return ye.#t===t}static isSamePointerIdOrRemove(t){return ye.#t===t?!0:(ye.#e?.delete(t),!1)}static isSamePointerType(t){return ye.#n===t}static isInitializedAndDifferentPointerType(t){return ye.#n!==null&&!ye.isSamePointerType(t)}static isSameTimeStamp(t){return ye.#i===t}static isUsingMultiplePointers(){return ye.#e?.size>=1}static clearPointerType(){ye.#n=null}static clearPointerIds(){ye.#t=NaN,ye.#e=null}static clearTimeStamp(){ye.#i=NaN}}class Let{#t=0;get id(){return`${Gh}${this.#t++}`}}class NA{#t=SI();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=t;const a=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return $t(this,"_isSVGFittingCanvas",a)}async#n(t,n){this.#i||=new Map;let i=this.#i.get(t);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let r;if(typeof n=="string"?(i.url=n,r=await wf(n,"blob")):n instanceof File?r=i.file=n:n instanceof Blob&&(r=n),r.type==="image/svg+xml"){const a=NA._isSVGFittingCanvas,o=new FileReader,c=new Image,d=new Promise((f,p)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,f()},o.onload=async()=>{const m=i.svgUrl=o.result;c.src=await a?`${m}#svgView(preserveAspectRatio(none))`:m},c.onerror=o.onerror=p});o.readAsDataURL(r),await d}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Ht(r),i=null}return this.#i.set(t,i),i&&this.#i.set(i.id,i),i}async getFromFile(t){const{lastModified:n,name:i,size:r,type:a}=t;return this.#n(`${n}_${i}_${r}_${a}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,n){const i=await n;return this.#n(t,i)}async getFromId(t){this.#i||=new Map;const n=this.#i.get(t);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(t,n){this.#i||=new Map;let i=this.#i.get(t);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,i),this.#i.set(i.id,i),i}getSvgUrl(t){const n=this.#i.get(t);return n?.isSvg?n.svgUrl:null}deleteId(t){this.#i||=new Map;const n=this.#i.get(t);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=r.convertToBlob()}i.close?.(),n.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class Ret{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:n,post:i,mustExec:r,type:a=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(r&&t(),this.#e)return;const d={cmd:t,undo:n,post:i,type:a};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(d);return}if(o&&this.#t[this.#n].type===a){c&&(d.undo=this.#t[this.#n].undo),this.#t[this.#n]=d;return}const f=this.#n+1;f===this.#i?this.#t.splice(0,1):(this.#n=f,f<this.#t.length&&this.#t.splice(f)),this.#t.push(d)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:n}=this.#t[this.#n];t(),n?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:n}=this.#t[this.#n];t(),n?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#t[n].type!==t){this.#t.splice(n+1,this.#n-n),this.#n=n;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Ef{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Rn.platform;for(const[i,r,a={}]of t)for(const o of i){const c=o.startsWith("mac+");n&&c?(this.callbacks.set(o.slice(4),{callback:r,options:a}),this.allKeys.add(o.split("+").at(-1))):!n&&!c&&(this.callbacks.set(o,{callback:r,options:a}),this.allKeys.add(o.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(t,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(this.#t(n));if(!i)return;const{callback:r,options:{bubbles:a=!1,args:o=[],checker:c=null}}=i;c&&!c(t,n)||(r.bind(t,...o,n)(),a||dn(n))}}class kA{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Pet(t),$t(this,"_colors",t)}convert(t){const n=Sf(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,r]of this._colors)if(r.every((a,o)=>a===n[o]))return kA._colorsMapping.get(i);return n}getHexCode(t){const n=this._colors.get(t);return n?Ct.makeHexColor(...n):t}}class Io{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new Ret;#l=null;#h=null;#d=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#E=null;#A=null;#_=null;#T=null;#x=!1;#S=null;#M=new Let;#O=!1;#P=!1;#I=!1;#k=null;#j=null;#B=null;#L=null;#G=null;#C=Wt.NONE;#w=new Set;#D=null;#z=null;#U=null;#W=null;#V=null;#Y={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#R=null;#q=null;#Q=null;#J=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Io.prototype,n=o=>o.#q.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return $t(this,"_keyboardManager",new Ef([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#q.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#q.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:n}]]))}constructor(t,n,i,r,a,o,c,d,f,p,m,y,b,A,w,C){const O=this._signal=this.#t.signal;this.#q=t,this.#Q=n,this.#J=i,this.#s=r,this.#l=a,this.#z=o,this.#V=d,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:O}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:O}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:O}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:O}),c._on("setpreference",this.onSetPreference.bind(this),{signal:O}),c._on("switchannotationeditorparams",k=>this.updateParams(k.type,k.value),{signal:O}),c._on("pagesedited",this.onPagesEdited.bind(this),{signal:O}),window.addEventListener("pointerdown",()=>{this.#P=!0},{capture:!0,signal:O}),window.addEventListener("pointerup",()=>{this.#P=!1},{capture:!0,signal:O}),this.#st(),this.#ht(),this.#et(),this.#r=d.annotationStorage,this.#E=d.filterFactory,this.#U=f,this.#T=p||null,this.#v=m,this.#b=y,this.#y=b,this.#G=A||null,this.viewParameters={realScale:ku.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=C!==!1,a?.setSidebarUiManager(this)}destroy(){this.#F?.resolve(),this.#F=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#L?.clear(),this.#e=null,this.#w.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#S?.hide(),this.#S=null,this.#B?.destroy(),this.#B=null,this.#i=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#R&&(clearTimeout(this.#R),this.#R=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return $t(this,"hcmFilter",this.#U?this.#E.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return $t(this,"direction",getComputedStyle(this.#q).direction)}get _highlightColors(){return $t(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(t=>(t=t.split("=").map(n=>n.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return $t(this,"highlightColors",null);const n=new Map,i=!!this.#U;for(const[r,a]of t){const o=r.endsWith("_HCM");if(i&&o){n.set(r.replace("_HCM",""),a);continue}!i&&!o&&n.set(r,a)}return $t(this,"highlightColors",n)}get highlightColorNames(){return $t(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const n=this.highlightColorNames.get(t);return this._highlightColors.get(n)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=t}setMainHighlightColorPicker(t){this.#B=t}editAltText(t,n=!1){this.#s?.editAltText(this,t,n)}hasCommentManager(){return!!this.#l}editComment(t,n,i,r){this.#l?.showDialog(this,t,n,i,r)}selectComment(t,n){this.#a.get(t)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}deleteComment(t,n){const i=()=>{t.comment=n},r=()=>{this._editorUndoBar?.show(i,"comment"),this.toggleComment(null),t.comment=null};this.addCommands({cmd:r,undo:i,mustExec:!0})}toggleComment(t,n,i=void 0){this.#l?.toggleCommentPopup(t,n,i)}makeCommentColor(t,n){return t&&this.#l?.makeCommentColor(t,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:n,promise:i}=Promise.withResolvers(),r=a=>{a.pageNumber===t&&(this._eventBus._off("editorsrendered",r),n())};this._eventBus.on("editorsrendered",r),await i}getSignature(t){this.#z?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#z}switchToMode(t,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,n){this._eventBus.dispatch("setpreference",{source:this,name:t,value:n})}onSetPreference({name:t,value:n}){t==="enableNewAltTextWhenAddingImage"&&(this.#y=n)}onPagesEdited({pagesMapper:t}){for(const r of this.#n.values())r.updatePageIndex(t.getPrevPageNumber(r.pageIndex+1)-1);const n=this.#a,i=this.#a=new Map;for(const[r,a]of n){const o=t.getPrevPageNumber(r+1)-1;if(o===-1){a.destroy();continue}i.set(o,a),a.updatePageIndex(o)}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#q.focus()}findParent(t,n){for(const i of this.#a.values()){const{x:r,y:a,width:o,height:c}=i.div.getBoundingClientRect();if(t>=r&&t<=r+o&&n>=a&&n<=a+c)return i}return null}disableUserSelect(t=!1){this.#Q.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*ku.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#X({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:n}=this;if(n.hasTextLayer(t))return n;for(const i of this.#a.values())if(i.hasTextLayer(t))return i;return null}highlightSelection(t="",n=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:a,focusNode:o,focusOffset:c}=i,d=i.toString(),p=this.#X(i).closest(".textLayer"),m=this.getSelectionBoxes(p);if(!m)return;i.empty();const y=this.#tt(p),b=this.#C===Wt.NONE,A=()=>{const w=y?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:r,anchorOffset:a,focusNode:o,focusOffset:c,text:d});b&&this.showAllEditors("highlight",!0,!0),n&&w?.editComment()};if(b){this.switchToMode(Wt.HIGHLIGHT,A);return}A()}commentSelection(t=""){this.highlightSelection(t,!0)}#rt(){const t=document.getSelection();if(!t||t.isCollapsed)return;const i=this.#X(t).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#S||=new jet(this),this.#S.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const n=`${Gh}${t}`,i=this.#r.getRawValue(n);return i&&this.#r.remove(n),i}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,n=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",t),n?i.setAttribute("data-l10n-args",JSON.stringify(n)):i.removeAttribute("data-l10n-args"))}#at(){const t=document.getSelection();if(!t||t.isCollapsed){this.#D&&(this.#S?.hide(),this.#D=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:n}=t;if(n===this.#D)return;const r=this.#X(t).closest(".textLayer");if(!r){this.#D&&(this.#S?.hide(),this.#D=null,this.#N({hasSelectedText:!1}));return}if(this.#S?.hide(),this.#D=n,this.#N({hasSelectedText:!0}),!(this.#C!==Wt.HIGHLIGHT&&this.#C!==Wt.NONE)&&(this.#C===Wt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const a=this.#C===Wt.HIGHLIGHT?this.#tt(r):null;if(a?.toggleDrawing(),this.#P){const o=new AbortController,c=this.combinedSignal(o),d=f=>{f.type==="pointerup"&&f.button!==0||(o.abort(),a?.toggleDrawing(!0),f.type==="pointerup"&&this.#K("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else a?.toggleDrawing(!0),this.#K("main_toolbar")}}#K(t=""){this.#C===Wt.HIGHLIGHT?this.highlightSelection(t):this.#v&&this.#rt()}#st(){document.addEventListener("selectionchange",this.#at.bind(this),{signal:this._signal})}#ot(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#lt(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#K("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const n of this.#w)if(n.div.contains(t)){this.#j=[n,t],n._focusEventsAllowed=!1;break}}focus(){if(!this.#j)return;const[t,n]=this.#j;this.#j=null,n.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#et(){if(this.#k)return;this.#k=new AbortController;const t=this.combinedSignal(this.#k);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ct(){this.#k?.abort(),this.#k=null}#ut(){if(this.#h)return;this.#h=new AbortController;const t=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#dt(){this.#h?.abort(),this.#h=null}#ht(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#ct(),this.setEditingState(!1)}dragOver(t){for(const{type:n}of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(n)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const n of t.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of this.#w){const r=i.serialize(!0);r&&n.push(r)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:n}=t;for(const a of n.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(a.type)){o.paste(a,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){Ht(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const a=[];for(const d of i){const f=await r.deserialize(d);if(!f)return;a.push(f)}const o=()=>{for(const d of a)this.#nt(d);this.#it(a)},c=()=>{for(const d of a)d.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(a){Ht(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==Wt.NONE&&!this.isEditorHandlingKeyboard&&Io._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#K("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#N(t){Object.entries(t).some(([i,r])=>this.#Y[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#Y,t)}),this.#C===Wt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#$([[oe.HIGHLIGHT_FREE,!0]]))}#$(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ot(),this.#ut(),this.#N({isEditing:this.#C!==Wt.NONE,isEmpty:this.#Z(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#lt(),this.#dt(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const n of this.#u)this.#$(n.defaultPropertiesToUpdate)}}getId(){return this.#M.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#O?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,n=null,i=!1,r=!1,a=!1,o=!1){if(this.#C!==t&&!(this.#F&&(await this.#F.promise,!this.#F))){if(this.#F=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#C===Wt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===Wt.NONE){this.setEditingState(!1),this.#pt();for(const c of this.#n.values())c.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#F.resolve();return}for(const c of this.#n.values())c.addStandaloneCommentButton();t===Wt.SIGNATURE&&await this.#z?.loadSignatures(),i&&ye.clearPointerType(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const c of this.#a.values())c.updateMode(t);if(t===Wt.POPUP){this.#i||=await this.#V.getAnnotationsByType(new Set(this.#u.map(f=>f._editorType)));const c=new Set,d=[];for(const f of this.#n.values()){const{annotationElementId:p,hasComment:m,deleted:y}=f;p&&c.add(p),m&&!y&&d.push(f.getData())}for(const f of this.#i){const{id:p,popupRef:m,contentsObj:y}=f;m&&y?.str&&!c.has(p)&&!this.#g.has(p)&&d.push(f)}this.#l?.showSidebar(d)}if(!n){r&&this.addNewEditorFromKeyboard(),this.#F.resolve();return}for(const c of this.#n.values())c.uid===n?(this.setSelected(c),o?c.editComment():a?c.enterInEditMode():c.focus()):c.unselect();this.#F.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,n){if(this.#u){switch(t){case oe.CREATE:this.currentLayer.addNewEditor(n);return;case oe.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#W||=new Map).set(t,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const i of this.#w)i.updateParams(t,n);else for(const i of this.#u)i.updateDefaultParams(t,n)}}showAllEditors(t,n,i=!1){for(const a of this.#n.values())a.editorType===t&&a.show(n);(this.#W?.get(oe.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#$([[oe.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(t=!1){if(this.#I!==t){this.#I=t;for(const n of this.#a.values())t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#O){this.#O=!0;const t=[];for(const n of this.#a.values())t.push(n.enable());await Promise.all(t);for(const n of this.#n.values())n.enable()}}#pt(){if(this.unselectAll(),this.#O){this.#O=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const n of this.#n.values())n.pageIndex===t&&(yield n)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#L?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#g.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#g.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#g.has(t)}removeDeletedAnnotationElement(t){this.#g.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#nt(t){const n=this.#a.get(t.pageIndex);n?n.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#$(t.propertiesToUpdate))}get#mt(){let t=null;for(t of this.#w);return t}updateUI(t){this.#mt===t&&this.#$(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#$(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#w.has(t)){this.#w.delete(t),t.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#w.add(t),t.select(),this.#$(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#d?.commitOrRemove();for(const n of this.#w)n!==t&&n.unselect();this.#w.clear(),this.#w.add(t),t.select(),this.#$(t.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(t){return this.#w.has(t)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(t){t.unselect(),this.#w.delete(t),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#N({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Z()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Z()})}addCommands(t){this.#c.add(t),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Z()})}cleanUndoStack(t){this.#c.cleanType(t)}#Z(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...this.#w],i=()=>{this._editorUndoBar?.show(r,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},r=()=>{for(const a of n)this.#nt(a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#it(t){for(const n of this.#w)n.unselect();this.#w.clear();for(const n of t)n.isEmpty()||(this.#w.add(n),n.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#w)t.commit();this.#it(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==Wt.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const t of this.#w)t.unselect();this.#w.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(t,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=n;const[r,a]=this.#H,o=[...this.#w],c=1e3;this.#R&&clearTimeout(this.#R),this.#R=setTimeout(()=>{this.#R=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const d of o)this.#n.has(d.id)&&(d.translateInPage(r,a),d.translationDone())},undo:()=>{for(const d of o)this.#n.has(d.id)&&(d.translateInPage(-r,-a),d.translationDone())},mustExec:!1})},c);for(const d of o)d.translateInPage(t,n),d.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const t of this.#w)this.#m.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const t=this.#m;this.#m=null;let n=!1;for(const[{x:r,y:a,pageIndex:o},c]of t)c.newX=r,c.newY=a,c.newPageIndex=o,n||=r!==c.savedX||a!==c.savedY||o!==c.savedPageIndex;if(!n)return!1;const i=(r,a,o,c)=>{if(this.#n.has(r.id)){const d=this.#a.get(c);d?r._setParentAndPosition(d,a,o):(r.pageIndex=c,r.x=a,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:a,newY:o,newPageIndex:c}]of t)i(r,a,o,c)},undo:()=>{for(const[r,{savedX:a,savedY:o,savedPageIndex:c}]of t)i(r,a,o,c)},mustExec:!0}),!0}dragSelectedEditors(t,n){if(this.#m)for(const i of this.#m.keys())i.drag(t,n)}rebuild(t){if(t.parent===null){const n=this.getLayer(t.pageIndex);n?(n.changeParent(t),n.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==Wt.NONE}get imageManager(){return $t(this,"imageManager",new NA)}getSelectionBoxes(t){if(!t)return null;const n=document.getSelection();for(let f=0,p=n.rangeCount;f<p;f++)if(!t.contains(n.getRangeAt(f).commonAncestorContainer))return null;const{x:i,y:r,width:a,height:o}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(f,p,m,y)=>({x:(p-r)/o,y:1-(f+m-i)/a,width:y/o,height:m/a});break;case"180":c=(f,p,m,y)=>({x:1-(f+m-i)/a,y:1-(p+y-r)/o,width:m/a,height:y/o});break;case"270":c=(f,p,m,y)=>({x:1-(p+y-r)/o,y:(f-i)/a,width:y/o,height:m/a});break;default:c=(f,p,m,y)=>({x:(f-i)/a,y:(p-r)/o,width:m/a,height:y/o});break}const d=[];for(let f=0,p=n.rangeCount;f<p;f++){const m=n.getRangeAt(f);if(!m.collapsed)for(const{x:y,y:b,width:A,height:w}of m.getClientRects())A===0||w===0||d.push(c(y,b,A,w))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:n}){(this.#o||=new Map).set(t,n)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const n=this.#o?.get(t.data.id);if(!n)return;const i=this.#r.getRawValue(n);i&&(this.#C===Wt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(t))}setMissingCanvas(t,n,i){const r=this.#L?.get(t);r&&(r.setCanvas(n,i),this.#L.delete(t))}addMissingCanvas(t,n){(this.#L||=new Map).set(t,n)}}class Ca{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#d=t._uiManager.useNewAltTextFlow,Ca.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Ca._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const n=this.#n=document.createElement("span");t.append(n),this.#d?(t.classList.add("new"),t.setAttribute("data-l10n-id",Ca.#f.missing),n.setAttribute("data-l10n-id",Ca.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;t.addEventListener("contextmenu",Nr,{signal:i}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#r=!0,r(a))},{signal:i}),await this.#m(),t}get#g(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#d?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#d?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#h=await Ca._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#m())}toggleAltTextBadge(t=!1){if(!this.#d||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#o.classList.toggle("hidden",!t)}serialize(t){let n=this.#t;return!t&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:n,guessedText:i,textWithDisclaimer:r,cancel:a=!1}){i&&(this.#l=i,this.#h=r),!(this.#t===t&&this.#e===n)&&(a||(this.#t=t,this.#e=n),this.#m())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const t=this.#i;if(!t)return;if(this.#d){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Ca.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Ca.#f[`${this.#g}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#a;if(!n){this.#a=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const r=100,a=this.#c._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:a}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:a})}this.#e?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#t),n.parentNode||t.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class ym{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#h(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:i}=t;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#h(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:n,height:i}=this.#t.getBoundingClientRect(),{x:r,y:a,width:o,height:c}=this.#n.parent.boundingClientRect;return[(t-r)/o,(n+i-a)/c]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:n}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=n)}#h(t,n){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",n?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return t;t.addEventListener("contextmenu",Nr,{signal:i}),n&&(t.addEventListener("focusin",a=>{this.#n._focusEventsAllowed=!1,dn(a)},{capture:!0,signal:i}),t.addEventListener("focusout",a=>{this.#n._focusEventsAllowed=!0,dn(a)},{capture:!0,signal:i})),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(this.#i=!0,r(a))},{signal:i}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),t}edit(t){const n=this.commentPopupPositionInLayer;let i,r;if(n)[i,r]=n;else{[i,r]=this.#n.commentButtonPosition;const{width:p,height:m,x:y,y:b}=this.#n;i=y+i*p,r=b+r*m}const a=this.#n.parent.boundingClientRect,{x:o,y:c,width:d,height:f}=a;this.#n._uiManager.editComment(this.#n,o+i*d,c+r*f,{...t,parentDimensions:a})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#c=!0;return}this.#r=t,this.#o=new Date,this.#c=!1}restoreData({text:t,richText:n,date:i}){this.#r=t,this.#s=n,this.#o=i,this.#c=!1}setInitialText(t,n=null){this.#a=t,this.data=t,this.#o=null,this.#s=n}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Vv{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#h;#d=null;constructor({container:t,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:o=null,signal:c}){this.#t=t,this.#i=i,this.#n=n,this.#a=r,this.#s=a,this.#r=o,this.#h=new AbortController,this.#c=AbortSignal.any([c,this.#h.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ra.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,a=AbortSignal.any([this.#c,r.signal]),o=this.#t,c={capture:!0,signal:a,passive:!1},d=f=>{f.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};o.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(dn(f),d(f))},c),o.addEventListener("pointerup",d,c),o.addEventListener("pointercancel",d,c);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),a=this.#t,o={signal:r,capture:!1,passive:!1};a.addEventListener("touchmove",this.#g.bind(this),o);const c=this.#m.bind(this);a.addEventListener("touchend",c,o),a.addEventListener("touchcancel",c,o),o.capture=!0,a.addEventListener("pointerdown",dn,o),a.addEventListener("pointermove",dn,o),a.addEventListener("pointercancel",dn,o),a.addEventListener("pointerup",dn,o),this.#a?.()}if(dn(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(t){if(!this.#l||t.touches.length!==2)return;dn(t);let[n,i]=t.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:r,screenY:a}=n,{screenX:o,screenY:c}=i,d=this.#l,{touch0X:f,touch0Y:p,touch1X:m,touch1Y:y}=d,b=m-f,A=y-p,w=o-r,C=c-a,O=Math.hypot(w,C)||1,k=Math.hypot(b,A)||1;if(!this.#e&&Math.abs(k-O)<=Vv.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(d.touch0X=r,d.touch0Y=a,d.touch1X=o,d.touch1Y=c,!this.#e){this.#e=!0;return}const M=[(r+o)/2,(a+c)/2];this.#s?.(M,k,O)}#m(t){t.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#r?.()),this.#l&&(dn(t),this.#l=null,this.#e=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Lt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#E=0;#A=0;#_=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#S=Lt._zIndex++;static _borderLineWidth=-1;static _colorManager=new kA;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Lt.prototype._resizeWithKeyboard,n=Io.TRANSLATE_SMALL,i=Io.TRANSLATE_BIG;return $t(this,"_resizerKeyboardManager",new Ef([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],Lt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[a,o];const[c,d]=this.parentDimensions;this.x=t.x/c,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}updatePageIndex(t){this.pageIndex=t}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return $t(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const n=new Iet({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});n.annotationElementId=t.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(t,n){if(Lt._l10n??=t,Lt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Lt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,n){xe("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(t){this.#x=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(t*2),this.y+=this.width*t/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(t*2),this.y-=this.width*t/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#S}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#R(),this.#d?.remove(),this.#d=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,n,i,r){const[a,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(t+i)/a,this.y=(n+r)/o,this.fixAndSetPosition()}_moveAfterPaste(t,n){const[i,r]=this.parentDimensions;this.setAt(t*i,n*r,this.width*i,this.height*r),this._onTranslated()}#M([t,n],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/t,this.y+=r/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,n){this.#M(this.parentDimensions,t,n)}translateInPage(t,n){this.#u||=[this.x,this.y,this.width,this.height],this.#M(this.pageDimensions,t,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,a]}=this;if(this.x+=t/r,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:m,y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,m,y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[d,f]=this.getBaseTranslation();o+=d,c+=f;const{style:p}=i;p.left=`${(100*o).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),i.scrollIntoView({block:"nearest"})}_onTranslating(t,n){}_onTranslated(t,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,n]=this.parentDimensions,{_borderLineWidth:i}=Lt,r=i/t,a=i/n;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:n},pageDimensions:[i,r]}=this;let{x:a,y:o,width:c,height:d}=this;if(c*=i,d*=r,a*=i,o*=r,this._mustFixPosition)switch(t){case 0:a=oi(a,0,i-c),o=oi(o,0,r-d);break;case 90:a=oi(a,0,i-d),o=oi(o,c,r);break;case 180:a=oi(a,c,i),o=oi(o,d,r);break;case 270:a=oi(a,d,i),o=oi(o,0,r-c);break}this.x=a/=i,this.y=o/=r;const[f,p]=this.getBaseTranslation();a+=f,o+=p,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#O(t,n,i){switch(i){case 90:return[n,-t];case 180:return[-t,-n];case 270:return[-n,t];default:return[t,n]}}screenToPageTranslation(t,n){return Lt.#O(t,n,this.parentRotation)}pageTranslationToScreen(t,n){return Lt.#O(t,n,360-this.parentRotation)}#P(t){switch(t){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[n,i]}=this;return[n*t,i*t]}setDims(){const{div:{style:t},width:n,height:i}=this;t.width=`${(100*n).toFixed(2)}%`,t.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of t){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#k.bind(this,i),{signal:n}),r.addEventListener("contextmenu",Nr,{signal:n}),r.tabIndex=-1}this.div.prepend(this.#c)}#k(t,n){n.preventDefault();const{isMac:i}=Rn.platform;if(n.button!==0||n.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const a=new AbortController,o=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#L.bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",dn,{passive:!1,signal:o}),window.addEventListener("contextmenu",Nr,{signal:o}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const f=()=>{a.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=d,this.#B()};window.addEventListener("pointerup",f,{signal:o}),window.addEventListener("blur",f,{signal:o})}#j(t,n,i,r){this.width=i,this.height=r,this.x=t,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#h)return;const{savedX:t,savedY:n,savedWidth:i,savedHeight:r}=this.#h;this.#h=null;const a=this.x,o=this.y,c=this.width,d=this.height;a===t&&o===n&&c===i&&d===r||this.addCommands({cmd:this.#j.bind(this,a,o,c,d),undo:this.#j.bind(this,t,n,i,r),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#L(t,n){const[i,r]=this.parentDimensions,a=this.x,o=this.y,c=this.width,d=this.height,f=Lt.MIN_SIZE/i,p=Lt.MIN_SIZE/r,m=this.#P(this.rotation),y=($,Q)=>[m[0]*$+m[2]*Q,m[1]*$+m[3]*Q],b=this.#P(360-this.rotation),A=($,Q)=>[b[0]*$+b[2]*Q,b[1]*$+b[3]*Q];let w,C,O=!1,k=!1;switch(t){case"topLeft":O=!0,w=($,Q)=>[0,0],C=($,Q)=>[$,Q];break;case"topMiddle":w=($,Q)=>[$/2,0],C=($,Q)=>[$/2,Q];break;case"topRight":O=!0,w=($,Q)=>[$,0],C=($,Q)=>[0,Q];break;case"middleRight":k=!0,w=($,Q)=>[$,Q/2],C=($,Q)=>[0,Q/2];break;case"bottomRight":O=!0,w=($,Q)=>[$,Q],C=($,Q)=>[0,0];break;case"bottomMiddle":w=($,Q)=>[$/2,Q],C=($,Q)=>[$/2,0];break;case"bottomLeft":O=!0,w=($,Q)=>[0,Q],C=($,Q)=>[$,0];break;case"middleLeft":k=!0,w=($,Q)=>[0,Q/2],C=($,Q)=>[$,Q/2];break}const M=w(c,d),j=C(c,d);let I=y(...j);const R=Lt._round(a+I[0]),z=Lt._round(o+I[1]);let H=1,W=1,et,Y;if(n.fromKeyboard)({deltaX:et,deltaY:Y}=n);else{const{screenX:$,screenY:Q}=n,[nt,bt]=this.#l;[et,Y]=this.screenToPageTranslation($-nt,Q-bt),this.#l[0]=$,this.#l[1]=Q}if([et,Y]=A(et/i,Y/r),O){const $=Math.hypot(c,d);H=W=Math.max(Math.min(Math.hypot(j[0]-M[0]-et,j[1]-M[1]-Y)/$,1/c,1/d),f/c,p/d)}else k?H=oi(Math.abs(j[0]-M[0]-et),f,1)/c:W=oi(Math.abs(j[1]-M[1]-Y),p,1)/d;const q=Lt._round(c*H),yt=Lt._round(d*W);I=y(...C(q,yt));const ct=R-I[0],xt=z-I[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=q,this.height=yt,this.x=ct,this.y=xt,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new Ch(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[n,i]of t)await this._editToolbar.addButton(n,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const n=this._editToolbar?.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Ca.initialize(Lt._l10n),this.#i=new Ca(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new ym(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){if(!this.#n)return null;const{data:{richText:t,text:n,date:i,deleted:r}}=this.#n;return{text:n,richText:t,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new ym(this),typeof t=="object"&&t!==null?this.#n.restoreData(t):this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:n,richText:i}){if(!n||(this.#n||=new ym(this),this.#n.setInitialText(t,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new ym(this),this.#n.edit(t)}toggleComment(t,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,n)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,r]=t.rect,[a]=this.pageDimensions,[o]=this.pageTranslation,c=o+a+1,d=r-100,f=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,d,f,r]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:n}}){this.#n.data=n?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*i/n).toFixed(2)}%`,t.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[r,a]=this.getInitialTranslation();return this.translate(r,a),OI(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new Vv({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,n,i){let a=.7*(i/n)+1-.7;if(a===1)return;const o=this.#P(this.rotation),c=(R,z)=>[o[0]*R+o[2]*z,o[1]*R+o[3]*z],[d,f]=this.parentDimensions,p=this.x,m=this.y,y=this.width,b=this.height,A=Lt.MIN_SIZE/d,w=Lt.MIN_SIZE/f;a=Math.max(Math.min(a,1/y,1/b),A/y,w/b);const C=Lt._round(y*a),O=Lt._round(b*a);if(C===y&&O===b)return;this.#u||=[p,m,y,b];const k=c(y/2,b/2),M=Lt._round(p+k[0]),j=Lt._round(m+k[1]),I=c(C/2,O/2);this.x=M-I[0],this.y=j-I[1],this.width=C,this.height=O,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(t){const{isMac:n}=Rn.platform;if(t.button!==0||t.ctrlKey&&n){t.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#z(t);return}this.#D(t)}#D(t){const{isMac:n}=Rn.platform;t.ctrlKey&&!n||t.shiftKey||t.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(t){const{isSelected:n}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:a},c=f=>{r.abort(),this.#r=null,this.#m=!1,this._uiManager.endDragSession()||this.#D(f),i&&this._onStopDragging()};n&&(this.#E=t.clientX,this.#A=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",f=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:m,pointerId:y}=f;if(y!==this.#r){dn(f);return}const[b,A]=this.screenToPageTranslation(p-this.#E,m-this.#A);this.#E=p,this.#A=m,this._uiManager.dragSelectedEditors(b,A)},o),window.addEventListener("touchmove",dn,o),window.addEventListener("pointerdown",f=>{f.pointerType===this.#o&&(this.#T||f.isPrimary)&&c(f),dn(f)},o));const d=f=>{if(!this.#r||this.#r===f.pointerId){c(f);return}dn(f)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,n,i){t.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(t,n,i=this.rotation){const r=this.parentScale,[a,o]=this.pageDimensions,[c,d]=this.pageTranslation,f=t/r,p=n/r,m=this.x*a,y=this.y*o,b=this.width*a,A=this.height*o;switch(i){case 0:return[m+f+c,o-y-p-A+d,m+f+b+c,o-y-p+d];case 90:return[m+p+c,o-y+f+d,m+p+A+c,o-y+f+b+d];case 180:return[m-f-b+c,o-y+p+d,m-f+c,o-y+p+A+d];case 270:return[m-p-A+c,o-y-f-b+d,m-p+c,o-y-f+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,n){const[i,r,a,o]=t,c=a-i,d=o-r;switch(this.rotation){case 0:return[i,n-o,c,d];case 90:return[i,n-r,d,c];case 180:return[a,n-r,c,d];case 270:return[a,n-o,d,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:n,date:i,opacity:r,deleted:a,richText:o},uid:c,pageIndex:d,creationDate:f,modificationDate:p}=this;return{id:c,pageIndex:d,rect:this.getPDFRect(),richText:o,contentsObj:{str:t},creationDate:f,modificationDate:i||p,popupRef:!a,color:n,opacity:r}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:n,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:a,innerWidth:o}=window;return n<o&&r>0&&t<a&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,n,i){const r=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});r.rotation=t.rotation,r.#t=t.accessibilityData,r._isCopy=t.isCopy||!1;const[a,o]=r.pageDimensions,[c,d,f,p]=r.getRectInCurrentCoords(t.rect,o);return r.x=c/a,r.y=d/o,r.width=f/a,r.height=p/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#R(),this.removeEditToolbar(),this.#_){for(const t of this.#_.values())clearTimeout(t);this.#_=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,n]}=this,[i,r,a,o]=this.getPDFRect();return[Lt._round(i+(a-i)*t),Lt._round(r+(o-r)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#e){this.#e=Array.from(n);const o=this.#W.bind(this),c=this.#V.bind(this),d=this._uiManager._signal;for(const f of this.#e){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",o,{signal:d}),f.addEventListener("blur",c,{signal:d}),f.addEventListener("focus",this.#Y.bind(this,p),{signal:d}),f.setAttribute("data-l10n-id",Lt._l10nResizer[p])}}const i=this.#e[0];let r=0;for(const o of n){if(o===i)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(a!==r){if(a<r)for(let c=0;c<r-a;c++)this.#c.append(this.#c.firstElementChild);else if(a>r)for(let c=0;c<a-r;c++)this.#c.firstElementChild.before(this.#c.lastElementChild);let o=0;for(const c of n){const f=this.#e[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Lt._l10nResizer[f])}}this.#H(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#W(t){Lt._resizerKeyboardManager.exec(this,t)}#V(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#R()}#Y(t){this.#g=this.#b?t:""}#H(t){if(this.#e)for(const n of this.#e)n.tabIndex=t}_resizeWithKeyboard(t,n){this.#b&&this.#L(this.#g,{deltaX:t,deltaY:n,fromKeyboard:!0})}#R(){this.#b=!1,this.#H(-1),this.#B()}_stopResizingWithKeyboard(){this.#R(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(t){this.#p=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,n=!1){if(n){this.#_||=new Map;const{action:i}=t;let r=this.#_.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#_.delete(i),this.#_.size===0&&(this.#_=null)},Lt._telemetryTimeout),this.#_.set(i,r);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#d&&!this.deleted){this.#d=t.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let n=t.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),t.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(t){const{firstElementChild:n}=t.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class Iet extends Lt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const _N=3285377520,wr=4294901760,Aa=65535;class PI{constructor(t){this.h1=t?t&4294967295:_N,this.h2=t?t&4294967295:_N}update(t){let n,i;if(typeof t=="string"){n=new Uint8Array(t.length*2),i=0;for(let w=0,C=t.length;w<C;w++){const O=t.charCodeAt(w);O<=255?n[i++]=O:(n[i++]=O>>>8,n[i++]=O&255)}}else if(ArrayBuffer.isView(t))n=t.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,a=i-r*4,o=new Uint32Array(n.buffer,0,r);let c=0,d=0,f=this.h1,p=this.h2;const m=3432918353,y=461845907,b=m&Aa,A=y&Aa;for(let w=0;w<r;w++)w&1?(c=o[w],c=c*m&wr|c*b&Aa,c=c<<15|c>>>17,c=c*y&wr|c*A&Aa,f^=c,f=f<<13|f>>>19,f=f*5+3864292196):(d=o[w],d=d*m&wr|d*b&Aa,d=d<<15|d>>>17,d=d*y&wr|d*A&Aa,p^=d,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,a){case 3:c^=n[r*4+2]<<16;case 2:c^=n[r*4+1]<<8;case 1:c^=n[r*4],c=c*m&wr|c*b&Aa,c=c<<15|c>>>17,c=c*y&wr|c*A&Aa,r&1?f^=c:p^=c}this.h1=f,this.h2=p}hexdigest(){let t=this.h1,n=this.h2;return t^=n>>>1,t=t*3981806797&wr|t*36045&Aa,n=n*4283543511&wr|((n<<16|t>>>16)*2950163797&wr)>>>16,t^=n>>>1,t=t*444984403&wr|t*60499&Aa,n=n*3301882366&wr|((n<<16|t>>>16)*3120437893&wr)>>>16,t^=n>>>1,(t>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const lw=Object.freeze({map:null,hash:"",transfer:void 0});class DA{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,n){const i=this.#n.get(t);return i===void 0?n:Object.assign(n,i)}getRawValue(t){return this.#n.get(t)}remove(t){const n=this.#n.get(t);if(n!==void 0&&(n instanceof Lt&&this.#i.delete(n.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof Lt)return;this.onAnnotationEditor(null)}}setValue(t,n){const i=this.#n.get(t);let r=!1;if(i!==void 0)for(const[a,o]of Object.entries(n))i[a]!==o&&(r=!0,i[a]=o);else r=!0,this.#n.set(t,n);r&&this.#a(),n instanceof Lt&&((this.#i||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new MI(this)}get serializable(){if(this.#n.size===0)return lw;const t=new Map,n=new PI,i=[],r=Object.create(null);let a=!1;for(const[o,c]of this.#n){const d=c instanceof Lt?c.serialize(!1,r):c;c.page&&(c.pageIndex=c.page._pageIndex,delete c.page),d&&(t.set(o,d),n.update(`${o}:${JSON.stringify(d)}`),a||=!!d.bitmap)}if(a)for(const o of t.values())o.bitmap&&i.push(o.bitmap);return t.size>0?{map:t,hash:n.hexdigest(),transfer:i}:lw}get editorStats(){let t=null;const n=new Map;let i=0,r=0;for(const a of this.#n.values()){if(!(a instanceof Lt)){a.popup&&(a.popup.deleted?r+=1:i+=1);continue}a.isCommentDeleted?r+=1:a.hasEditedComment&&(i+=1);const o=a.telemetryFinalData;if(!o)continue;const{type:c}=o;n.has(c)||n.set(c,Object.getPrototypeOf(a).constructor),t||=Object.create(null);const d=t[c]||=new Map;for(const[f,p]of Object.entries(o)){if(f==="type")continue;let m=d.get(f);m||(m=new Map,d.set(f,m));const y=m.get(p)??0;m.set(p,y+1)}}if((r>0||i>0)&&(t||=Object.create(null),t.comments={deleted:r,edited:i}),!t)return null;for(const[a,o]of n)t[a]=o.computeTelemetryFinalData(t[a]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,n){const i=this.#i?.get(t);return i?(i.updateFromAnnotationLayer(n),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const n of this.#i.values())n.serialize()&&t.push(n.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class MI extends DA{#t;constructor(t){super();const{map:n,hash:i,transfer:r}=t.serializable,a=structuredClone(n,r?{transfer:r}:null);this.#t={map:a,hash:i,transfer:r}}get print(){xe("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return $t(this,"modifiedIds",{ids:new Set,hash:""})}}class Bet{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:n=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:n,_inspectFont:i}){if(!(!t||this.#t.has(t.loadedName))){if(be(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:a,style:o}=t,c=new FontFace(r,a,o);this.addNativeFontFace(c);try{await c.load(),this.#t.add(r),i?.(t)}catch{Ht(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}xe("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const i=t.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Ht(`Failed to load font '${i.family}': '${r}'.`),t.disableFontFace=!0,r}}return}const n=t.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(t,r)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return $t(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return $t(this,"isSyncFontLoadingSupported",wi||Rn.platform.isFirefox)}_queueLoadingCallback(t){function n(){for(be(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:n,callback:t};return i.push(r),r}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $t(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,n){function i(j,I){return j.charCodeAt(I)<<24|j.charCodeAt(I+1)<<16|j.charCodeAt(I+2)<<8|j.charCodeAt(I+3)&255}function r(j,I,R,z){const H=j.substring(0,I),W=j.substring(I+R);return H+z+W}let a,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let f=0;function p(j,I){if(++f>30){Ht("Load test font never loaded."),I();return}if(d.font="30px "+j,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){I();return}setTimeout(p.bind(null,j,I))}const m=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=r(y,976,m.length,m);const A=16,w=1482184792;let C=i(y,A);for(a=0,o=m.length-3;a<o;a+=4)C=C-w+i(m,a)|0;a<m.length&&(C=C-w+i(m+"XXX",a)|0),y=r(y,A,4,yet(C));const O=`url(data:font/opentype;base64,${btoa(y)});`,k=`@font-face {font-family:"${m}";src:${O}}`;this.insertRule(k);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const j of[t.loadedName,m]){const I=this._document.createElement("span");I.textContent="Hi",I.style.fontFamily=j,M.append(I)}this._document.body.append(M),p(m,()=>{M.remove(),n.complete()})}}class zet{#t;constructor(t,n=null,i,r){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=n,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${this.data.toBase64()});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return this._inspectFont?.(this,t),n}getPathGenerator(t,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const i=this.loadedName+"_path_"+n;let r;try{r=t.get(i)}catch(o){Ht(`getPathGenerator - ignoring character: "${o}".`)}const a=TI(r?.path);return this.fontExtraProperties||t.delete(i),this.compiledGlyphs[n]=a}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}set disableFontFace(t){$t(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}set bbox(t){$t(this,"bbox",t)}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class bu{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const n=new TextEncoder,i={};let r=0;for(const f of bu.strings){const p=n.encode(t[f]);i[f]=p,r+=4+p.length}const a=new ArrayBuffer(r),o=new Uint8Array(a),c=new DataView(a);let d=0;for(const f of bu.strings){const p=i[f],m=p.length;c.setUint32(d,m),o.set(p,d+4),d+=4+m}return be(d===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){be(t<bu.strings.length,"Invalid string index");let n=0;for(let r=0;r<t;r++)n+=this.#e.getUint32(n)+4;const i=this.#e.getUint32(n);return this.#i.decode(new Uint8Array(this.#t,n+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class xu{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const n=new TextEncoder,i={};let r=0;for(const y of xu.strings){const b=n.encode(t[y]);i[y]=b,r+=4+b.length}r+=4;let a,o,c=1+r;t.style&&(a=n.encode(t.style.style),o=n.encode(t.style.weight),c+=4+a.length+4+o.length);const d=new ArrayBuffer(c),f=new Uint8Array(d),p=new DataView(d);let m=0;p.setUint8(m++,t.guessFallback?1:0),p.setUint32(m,0),m+=4,r=0;for(const y of xu.strings){const b=i[y],A=b.length;r+=4+A,p.setUint32(m,A),f.set(b,m+4),m+=4+A}return p.setUint32(m-r-4,r),t.style&&(p.setUint32(m,a.length),f.set(a,m+4),m+=4+a.length,p.setUint32(m,o.length),f.set(o,m+4),m+=4+o.length),be(m<=d.byteLength,"SubstitionInfo.write: Buffer overflow"),d.transferToFixedLength(m)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){be(t<xu.strings.length,"Invalid string index");let n=5;for(let r=0;r<t;r++)n+=this.#e.getUint32(n)+4;const i=this.#e.getUint32(n);return this.#i.decode(new Uint8Array(this.#t,n+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const n=this.#e.getUint32(t),i=this.#i.decode(new Uint8Array(this.#t,t+4,n));t+=4+n;const r=this.#e.getUint32(t),a=this.#i.decode(new Uint8Array(this.#t,t+4,r));return{style:i,weight:a}}}class ke{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:n}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),n&&Object.assign(this,n)}#c(t){be(t<ke.bools.length,"Invalid boolean index");const n=Math.floor(t/4),i=t*2%8,r=this.#o.getUint8(n)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return be(t<ke.numbers.length,"Invalid number index"),this.#o.getFloat64(ke.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=ke.#e;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}get fontMatrix(){let t=ke.#i;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(t,!0)),t+=8;return i}get defaultVMetrics(){let t=ke.#n;if(this.#o.getUint8(t)===0)return;t+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(t,!0)),t+=2;return i}#h(t){be(t<ke.strings.length,"Invalid string index");let n=ke.#a+4;for(let a=0;a<t;a++)n+=this.#o.getUint32(n)+4;const i=this.#o.getUint32(n),r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,n+4,i)),this.#r.decode(r)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let t=ke.#a;const n=this.#o.getUint32(t);t+=4+n;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const a=this.#o.getUint32(t);if(a!==0)return new Uint8Array(this.#s,t+4,a)}clearData(){let t=ke.#a;const n=this.#o.getUint32(t);t+=4+n;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);t+=4+r;const a=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,a).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=ke.#a;const n=this.#o.getUint32(t);t+=4+n;const i=this.#o.getUint32(t);t+=4+i;const r=this.#o.getUint32(t);if(r===0)return null;const a=new Uint8Array(r);return a.set(new Uint8Array(this.#s,t+4,r)),new bu(a.buffer)}get systemFontInfo(){let t=ke.#a;const n=this.#o.getUint32(t);t+=4+n;const i=this.#o.getUint32(t);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#s,t+4,i)),new xu(r.buffer)}static write(t){const n=t.systemFontInfo?xu.write(t.systemFontInfo):null,i=t.cssFontInfo?bu.write(t.cssFontInfo):null,r=new TextEncoder,a={};let o=0;for(const w of ke.strings)a[w]=r.encode(t[w]),o+=4+a[w].length;const c=ke.#a+4+o+4+(n?n.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),d=new ArrayBuffer(c),f=new Uint8Array(d),p=new DataView(d);let m=0;const y=ke.bools.length;let b=0,A=0;for(let w=0;w<y;w++){const C=t[ke.bools[w]];b|=(C===void 0?0:C?2:1)<<A,A+=2,(A===8||w===y-1)&&(p.setUint8(m++,b),b=0,A=0)}be(m===ke.#t,"FontInfo.write: Boolean properties offset mismatch");for(const w of ke.numbers)p.setFloat64(m,t[w]),m+=8;if(be(m===ke.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(m++,4);for(const w of t.bbox)p.setInt16(m,w,!0),m+=2}else p.setUint8(m++,0),m+=8;if(be(m===ke.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(m++,6);for(const w of t.fontMatrix)p.setFloat64(m,w,!0),m+=8}else p.setUint8(m++,0),m+=48;if(be(m===ke.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(m++,1);for(const w of t.defaultVMetrics)p.setInt16(m,w,!0),m+=2}else p.setUint8(m++,0),m+=6;be(m===ke.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(ke.#a,0),m+=4;for(const w of ke.strings){const C=a[w],O=C.length;p.setUint32(m,O),f.set(C,m+4),m+=4+O}if(p.setUint32(ke.#a,m-ke.#a-4),!n)p.setUint32(m,0),m+=4;else{const w=n.byteLength;p.setUint32(m,w),be(m+4+w<=d.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),f.set(new Uint8Array(n),m+4),m+=4+w}if(!i)p.setUint32(m,0),m+=4;else{const w=i.byteLength;p.setUint32(m,w),be(m+4+w<=d.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),f.set(new Uint8Array(i),m+4),m+=4+w}return t.data===void 0?(p.setUint32(m,0),m+=4):(p.setUint32(m,t.data.length),f.set(t.data,m+4),m+=4+t.data.length),be(m<=d.byteLength,"FontInfo.write: Buffer overflow"),d.transferToFixedLength(m)}}class Wn{static#t=0;static#e=1;static#i=2;static#n=3;static#a=4;static#s=8;static#r=12;static#o=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let n,i=null,r=[],a=[],o=[],c=[],d=null,f=null;switch(t[0]){case"RadialAxial":n=t[1]==="axial"?1:2,i=t[2],o=t[3],n===1?r.push(...t[4],...t[5]):r.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":n=3,d=t[1],r=t[2],a=t[3],c=t[4]||[],i=t[6],f=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const p=Math.floor(r.length/2),m=Math.floor(a.length/3),y=o.length,b=c.length;let A=0;for(const I of c)A+=1,A=Math.ceil(A/4)*4,A+=4+I.coords.length*4,A+=4+I.colors.length*4,I.verticesPerRow!==void 0&&(A+=4);const w=20+p*8+m*3+y*8+(i?16:0)+(f?3:0)+A,C=new ArrayBuffer(w),O=new DataView(C),k=new Uint8Array(C);O.setUint8(Wn.#t,n),O.setUint8(Wn.#e,i?1:0),O.setUint8(Wn.#i,f?1:0),O.setUint8(Wn.#n,d),O.setUint32(Wn.#a,p,!0),O.setUint32(Wn.#s,m,!0),O.setUint32(Wn.#r,y,!0),O.setUint32(Wn.#o,b,!0);let M=20;new Float32Array(C,M,p*2).set(r),M+=p*8,k.set(a,M),M+=m*3;for(const[I,R]of o)O.setFloat32(M,I,!0),M+=4,O.setUint32(M,parseInt(R.slice(1),16),!0),M+=4;if(i)for(const I of i)O.setFloat32(M,I,!0),M+=4;f&&(k.set(f,M),M+=3);for(let I=0;I<c.length;I++){const R=c[I];O.setUint8(M,R.type),M+=1,M=Math.ceil(M/4)*4,O.setUint32(M,R.coords.length,!0),M+=4,new Int32Array(C,M,R.coords.length).set(R.coords),M+=R.coords.length*4,O.setUint32(M,R.colors.length,!0),M+=4,new Int32Array(C,M,R.colors.length).set(R.colors),M+=R.colors.length*4,R.verticesPerRow!==void 0&&(O.setUint32(M,R.verticesPerRow,!0),M+=4)}return C}getIR(){const t=this.view,n=this.data[Wn.#t],i=!!this.data[Wn.#e],r=!!this.data[Wn.#i],a=t.getUint32(Wn.#a,!0),o=t.getUint32(Wn.#s,!0),c=t.getUint32(Wn.#r,!0),d=t.getUint32(Wn.#o,!0);let f=20;const p=new Float32Array(this.buffer,f,a*2);f+=a*8;const m=new Uint8Array(this.buffer,f,o*3);f+=o*3;const y=[];for(let C=0;C<c;++C){const O=t.getFloat32(f,!0);f+=4;const k=t.getUint32(f,!0);f+=4,y.push([O,`#${k.toString(16).padStart(6,"0")}`])}let b=null;if(i){b=[];for(let C=0;C<4;++C)b.push(t.getFloat32(f,!0)),f+=4}let A=null;r&&(A=new Uint8Array(this.buffer,f,3),f+=3);const w=[];for(let C=0;C<d;++C){const O=t.getUint8(f);f+=1,f=Math.ceil(f/4)*4;const k=t.getUint32(f,!0);f+=4;const M=new Int32Array(this.buffer,f,k);f+=k*4;const j=t.getUint32(f,!0);f+=4;const I=new Int32Array(this.buffer,f,j);f+=j*4;const R={type:O,coords:M,colors:I};O===iw.LATTICE&&(R.verticesPerRow=t.getUint32(f,!0),f+=4),w.push(R)}if(n===1)return["RadialAxial","axial",b,y,Array.from(p.slice(0,2)),Array.from(p.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",b,y,[p[0],p[1]],[p[3],p[4]],p[2],p[5]];if(n===3){const C=this.data[Wn.#n];let O=null;if(p.length>0){let k=p[0],M=p[0],j=p[1],I=p[1];for(let R=0;R<p.length;R+=2){const z=p[R],H=p[R+1];k=k>z?z:k,j=j>H?H:j,M=M<z?z:M,I=I<H?H:I}O=[k,j,M,I]}return["Mesh",C,p,m,w,O,b,A]}throw new Error(`Unsupported pattern kind: ${n}`)}}class Fet{static write(t){let n,i;return Rn.isFloat16ArraySupported?(i=new ArrayBuffer(t.length*2),n=new Float16Array(i)):(i=new ArrayBuffer(t.length*4),n=new Float32Array(i)),n.set(t),i}#t;constructor(t){this.#t=t}get path(){return Rn.isFloat16ArraySupported?new Float16Array(this.#t):new Float32Array(this.#t)}}function Uet(e){if(e instanceof URL)return e.href;if(typeof e=="string"){if(wi)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Het(e){if(wi&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return Gv(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof e=="object"&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function bm(e){if(typeof e!="string")return null;if(e.endsWith("/"))return e;throw new Error(`Invalid factory url: "${e}" must include trailing slash.`)}const cw=e=>typeof e=="object"&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0,$et=e=>typeof e=="object"&&typeof e?.name=="string",Get=Aet.bind(null,cw,$et);class qet{#t=new Map;#e=Promise.resolve();postMessage(t,n){const i={data:structuredClone(t,n?{transfer:n}:null)};this.#e.then(()=>{for(const[r]of this.#t)r.call(this,i)})}addEventListener(t,n,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:a}=i;if(a.aborted){Ht("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,n);r=()=>a.removeEventListener("abort",o),a.addEventListener("abort",o)}this.#t.set(n,r)}removeEventListener(t,n){this.#t.get(n)?.(),this.#t.delete(n)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const xm={DATA:1,ERROR:2},Cn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wN(){}function Ui(e){if(e instanceof Ro||e instanceof rw||e instanceof pN||e instanceof Ig||e instanceof Gx)return e;switch(e instanceof Error||typeof e=="object"&&e!==null||xe('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Ro(e.message);case"InvalidPDFException":return new rw(e.message);case"PasswordException":return new pN(e.message,e.code);case"ResponseException":return new Ig(e.message,e.status,e.missing);case"UnknownErrorException":return new Gx(e.message,e.details)}return new Gx(e.message,e.toString())}class wh{#t=new AbortController;constructor(t,n,i){this.sourceName=t,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const i=t.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],t.callback===xm.DATA)r.resolve(t.data);else if(t.callback===xm.ERROR)r.reject(Ui(t.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[t.action];if(!n)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const i=this.sourceName,r=t.sourceName,a=this.comObj;Promise.try(n,t.data).then(function(o){a.postMessage({sourceName:i,targetName:r,callback:xm.DATA,callbackId:t.callbackId,data:o})},function(o){a.postMessage({sourceName:i,targetName:r,callback:xm.ERROR,callbackId:t.callbackId,reason:Ui(o)})});return}if(t.streamId){this.#i(t);return}n(t.data)}on(t,n){const i=this.actionHandler;if(i[t])throw new Error(`There is already an actionName called "${t}"`);i[t]=n}send(t,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:n},i)}sendWithPromise(t,n,i){const r=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:n},i)}catch(o){a.reject(o)}return a.promise}sendWithStream(t,n,i,r){const a=this.streamId++,o=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[a]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:o,targetName:c,action:t,streamId:a,data:n,desiredSize:f.desiredSize},r),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[a].pullCall=p,d.postMessage({sourceName:o,targetName:c,stream:Cn.PULL,streamId:a,desiredSize:f.desiredSize}),p.promise},cancel:f=>{be(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[a].cancelCall=p,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:o,targetName:c,stream:Cn.CANCEL,streamId:a,reason:Ui(f)}),p.promise}},i)}#i(t){const n=t.streamId,i=this.sourceName,r=t.sourceName,a=this.comObj,o=this,c=this.actionHandler[t.action],d={enqueue(f,p=1,m){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=p,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:r,stream:Cn.ENQUEUE,streamId:n,chunk:f},m)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:Cn.CLOSE,streamId:n}),delete o.streamSinks[n])},error(f){be(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:Cn.ERROR,streamId:n,reason:Ui(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[n]=d,Promise.try(c,t.data,d).then(function(){a.postMessage({sourceName:i,targetName:r,stream:Cn.START_COMPLETE,streamId:n,success:!0})},function(f){a.postMessage({sourceName:i,targetName:r,stream:Cn.START_COMPLETE,streamId:n,reason:Ui(f)})})}#n(t){const n=t.streamId,i=this.sourceName,r=t.sourceName,a=this.comObj,o=this.streamControllers[n],c=this.streamSinks[n];switch(t.stream){case Cn.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(Ui(t.reason));break;case Cn.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(Ui(t.reason));break;case Cn.PULL:if(!c){a.postMessage({sourceName:i,targetName:r,stream:Cn.PULL_COMPLETE,streamId:n,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||wN).then(function(){a.postMessage({sourceName:i,targetName:r,stream:Cn.PULL_COMPLETE,streamId:n,success:!0})},function(f){a.postMessage({sourceName:i,targetName:r,stream:Cn.PULL_COMPLETE,streamId:n,reason:Ui(f)})});break;case Cn.ENQUEUE:if(be(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case Cn.CLOSE:if(be(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#a(o,n);break;case Cn.ERROR:be(o,"error should have stream controller"),o.controller.error(Ui(t.reason)),this.#a(o,n);break;case Cn.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(Ui(t.reason)),this.#a(o,n);break;case Cn.CANCEL:if(!c)break;const d=Ui(t.reason);Promise.try(c.onCancel||wN,d).then(function(){a.postMessage({sourceName:i,targetName:r,stream:Cn.CANCEL_COMPLETE,streamId:n,success:!0})},function(f){a.postMessage({sourceName:i,targetName:r,stream:Cn.CANCEL_COMPLETE,streamId:n,reason:Ui(f)})}),c.sinkCapability.reject(d),c.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#a(t,n){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#t?.abort(),this.#t=null}}class NI{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,n){if(t<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(t,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,n,i){if(!t.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");t.canvas.width=n,t.canvas.height=i}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,n){xe("Abstract method `_createCanvas` called.")}}class Vet extends NI{constructor({ownerDocument:t=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=t}_createCanvas(t,n){const i=this._document.createElement("canvas");return i.width=t,i.height=n,i}}class kI{constructor({baseUrl:t=null,isCompressed:n=!0}){this.baseUrl=t,this.isCompressed=n}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(t){xe("Abstract method `_fetch` called.")}}class AN extends kI{async _fetch(t){const n=await wf(t,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Gv(n)}}class DI{addFilter(t){return"none"}addHCMFilter(t,n){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,n,i,r,a){return"none"}destroy(t=!1){}}class Wet extends DI{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:n=globalThis.document}){super(),this.#n=t,this.#a=n}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=this.#a.createElementNS(fs,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#a.createElementNS(fs,"defs"),t.append(i),i.append(this.#i),this.#a.body.append(t)}return this.#i}#h(t){if(t.length===1){const d=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=d[m]/255;const p=f.join(",");return[p,p,p]}const[n,i,r]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let d=0;d<256;d++)a[d]=n[d]/255,o[d]=i[d]/255,c[d]=r[d]/255;return[a.join(","),o.join(","),c.join(",")]}#d(t){if(this.#t===void 0){this.#t="";const n=this.#a.URL;n!==this.#a.baseURI&&(qv(n)?Ht('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=AI(n,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let n=this.#o.get(t);if(n)return n;const[i,r,a]=this.#h(t),o=t.length===1?i:`${i}${r}${a}`;if(n=this.#o.get(o),n)return this.#o.set(t,n),n;const c=`g_${this.#n}_transfer_map_${this.#r++}`,d=this.#d(c);this.#o.set(t,d),this.#o.set(o,d);const f=this.#m(c);return this.#p(i,r,a,f),d}addHCMFilter(t,n){const i=`${t}-${n}`,r="base";let a=this.#c.get(r);if(a?.key===i||(a?(a.filter?.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},this.#c.set(r,a)),!t||!n))return a.url;const o=this.#b(t);t=Ct.makeHexColor(...o);const c=this.#b(n);if(n=Ct.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const d=new Array(256);for(let b=0;b<=255;b++){const A=b/255;d[b]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const f=d.join(","),p=`g_${this.#n}_hcm_filter`,m=a.filter=this.#m(p);this.#p(f,f,f,m),this.#g(m);const y=(b,A)=>{const w=o[b]/255,C=c[b]/255,O=new Array(A+1);for(let k=0;k<=A;k++)O[k]=w+k/A*(C-w);return O.join(",")};return this.#p(y(0,5),y(1,5),y(2,5),m),a.url=this.#d(p),a.url}addAlphaFilter(t){let n=this.#o.get(t);if(n)return n;const[i]=this.#h([t]),r=`alpha_${i}`;if(n=this.#o.get(r),n)return this.#o.set(t,n),n;const a=`g_${this.#n}_alpha_map_${this.#r++}`,o=this.#d(a);this.#o.set(t,o),this.#o.set(r,o);const c=this.#m(a);return this.#v(i,c),o}addLuminosityFilter(t){let n=this.#o.get(t||"luminosity");if(n)return n;let i,r;if(t?([i]=this.#h([t]),r=`luminosity_${i}`):r="luminosity",n=this.#o.get(r),n)return this.#o.set(t,n),n;const a=`g_${this.#n}_luminosity_map_${this.#r++}`,o=this.#d(a);this.#o.set(t,o),this.#o.set(r,o);const c=this.#m(a);return this.#f(c),t&&this.#v(i,c),o}addHighlightHCMFilter(t,n,i,r,a){const o=`${n}-${i}-${r}-${a}`;let c=this.#c.get(t);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#c.set(t,c)),!n||!i))return c.url;const[d,f]=[n,i].map(this.#b.bind(this));let p=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,b]=[r,a].map(this.#b.bind(this));m<p&&([p,m,y,b]=[m,p,b,y]),this.#l.style.color="";const A=(O,k,M)=>{const j=new Array(256),I=(m-p)/M,R=O/255,z=(k-O)/(255*M);let H=0;for(let W=0;W<=M;W++){const et=Math.round(p+W*I),Y=R+W*z;for(let q=H;q<=et;q++)j[q]=Y;H=et+1}for(let W=H;W<256;W++)j[W]=j[H-1];return j.join(",")},w=`g_${this.#n}_hcm_${t}_filter`,C=c.filter=this.#m(w);return this.#g(C),this.#p(A(y[0],b[0],5),A(y[1],b[1],5),A(y[2],b[2],5),C),c.url=this.#d(w),c.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const n=this.#a.createElementNS(fs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)}#g(t){const n=this.#a.createElementNS(fs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)}#m(t){const n=this.#a.createElementNS(fs,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),this.#l.append(n),n}#u(t,n,i){const r=this.#a.createElementNS(fs,n);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),t.append(r)}#p(t,n,i,r){const a=this.#a.createElementNS(fs,"feComponentTransfer");r.append(a),this.#u(a,"feFuncR",t),this.#u(a,"feFuncG",n),this.#u(a,"feFuncB",i)}#v(t,n){const i=this.#a.createElementNS(fs,"feComponentTransfer");n.append(i),this.#u(i,"feFuncA",t)}#b(t){return this.#l.style.color=t,Sf(getComputedStyle(this.#l).getPropertyValue("color"))}}class jI{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(t){xe("Abstract method `_fetch` called.")}}class SN extends jI{async _fetch(t){const n=await wf(t,"arraybuffer");return new Uint8Array(n)}}class LI{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(t){xe("Abstract method `_fetch` called.")}}class EN extends LI{async _fetch(t){const n=await wf(t,"arraybuffer");return new Uint8Array(n)}}wi&&Ht("Please use the `legacy` build in Node.js environments.");async function jA(e){const n=await process.getBuiltinModule("fs").promises.readFile(e);return new Uint8Array(n)}class Yet extends DI{}class Ket extends NI{_createCanvas(t,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,n)}}class Zet extends kI{async _fetch(t){return jA(t)}}class Xet extends jI{async _fetch(t){return jA(t)}}class Qet extends LI{async _fetch(t){return jA(t)}}const ru="__forcedDependency",{floor:CN,ceil:TN}=Math;function _m(e,t,n,i,r,a){e[t*4+0]=Math.min(e[t*4+0],n),e[t*4+1]=Math.min(e[t*4+1],i),e[t*4+2]=Math.max(e[t*4+2],r),e[t*4+3]=Math.max(e[t*4+3],a)}const uw=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Jet{#t;#e;constructor(t,n){this.#t=t,this.#e=n}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===uw}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const wm=(e,t)=>{if(!e)return;let n=e.get(t);return n||(n={dependencies:new Set,isRenderingOperation:!1},e.set(t,n)),n};class tnt{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[ru]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#m;#u;#p;constructor(t,n,i=!1){this.#f=t.width,this.#g=t.height,this.#v(n),i&&(this.#p=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#v(t,this.#u)}#v(t,n){const i=new ArrayBuffer(t*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),n&&n.length>0?(this.#u.set(n),this.#u.fill(uw,n.length)):this.#u.fill(uw)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[ru]:{__proto__:this.#e[ru]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const n=Object.getPrototypeOf(this.#t);if(n===null)return this;this.#t=n,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const i=this.#n.pop();return i!==void 0&&(wm(this.#p,t)?.dependencies.add(i),this.#u[t]=this.#u[i]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const n=this.#n.pop();return n!==void 0&&(wm(this.#p,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const n=this.#a.pop();return n!==void 0&&(wm(this.#p,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}pushBaseTransform(t){return this.#s.push(Ct.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,n){return this.#t[t]=n,this}recordIncrementalData(t,n){return this.#e[t].push(n),this}resetIncrementalData(t,n){return this.#e[t].length=0,this}recordNamedData(t,n){return this.#i.set(t,n),this}recordSimpleDataFromNamed(t,n,i){this.#t[t]=this.#i.get(n)??i}recordFutureForcedDependency(t,n){return this.recordIncrementalData(ru,n),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const n of t)n in this.#t&&this.recordFutureForcedDependency(n,this.#t[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(ru,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,n,i,r,a,o){const c=Ct.multiplyByDOMMatrix(this.#s.at(-1),n.getTransform()),d=[1/0,1/0,-1/0,-1/0];Ct.axialAlignedBoundingBox([i,a,r,o],c,d);const f=Ct.intersect(this.#r,d);return f?(this.#r[0]=f[0],this.#r[1]=f[1],this.#r[2]=f[2],this.#r[3]=f[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,n,i,r,a,o){const c=this.#r;if(c[0]===1/0)return this;const d=Ct.multiplyByDOMMatrix(this.#s.at(-1),n.getTransform());if(c[0]===-1/0)return Ct.axialAlignedBoundingBox([i,a,r,o],d,this.#o),this;const f=[1/0,1/0,-1/0,-1/0];return Ct.axialAlignedBoundingBox([i,a,r,o],d,f),this.#o[0]=Math.min(this.#o[0],Math.max(f[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(f[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(f[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(f[3],c[3])),this}recordCharacterBBox(t,n,i,r=1,a=0,o=0,c){const d=i.bbox;let f,p;if(d&&(f=d[2]!==d[0]&&d[3]!==d[1]&&this.#d.get(i),f!==!1&&(p=[0,0,0,0],Ct.axialAlignedBoundingBox(d,i.fontMatrix,p),(r!==1||a!==0||o!==0)&&Ct.scaleMinMax([r,0,0,-r,a,o],p),f)))return this.recordBBox(t,n,p[0],p[2],p[1],p[3]);if(!c)return this.recordFullPageBBox(t);const m=c();return d&&p&&f===void 0&&(f=p[0]<=a-m.actualBoundingBoxLeft&&p[2]>=a+m.actualBoundingBoxRight&&p[1]<=o-m.actualBoundingBoxAscent&&p[3]>=o+m.actualBoundingBoxDescent,this.#d.set(i,f),f)?this.recordBBox(t,n,p[0],p[2],p[1],p[3]):this.recordBBox(t,n,a-m.actualBoundingBoxLeft,a+m.actualBoundingBoxRight,o-m.actualBoundingBoxAscent,o+m.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#g,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,n){const i=this.#l,r=this.#t,a=this.#e;for(const o of n)o in this.#t?i.add(r[o]):o in a&&a[o].forEach(i.add,i);return this}recordNamedDependency(t,n){return this.#i.has(n)&&this.#l.add(this.#i.get(n)),this}recordOperation(t,n=!1){if(this.recordDependencies(t,[ru]),this.#p){const i=wm(this.#p,t),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#a.forEach(r.add,r),r.delete(t),i.isRenderingOperation=!0}if(this.#c===t){const i=CN(this.#o[0]*256/this.#f),r=CN(this.#o[1]*256/this.#g),a=TN(this.#o[2]*256/this.#f),o=TN(this.#o[3]*256/this.#g);_m(this.#m,t,i,r,a,o);for(const c of this.#l)c!==t&&_m(this.#m,c,i,r,a,o);for(const c of this.#n)c!==t&&_m(this.#m,c,i,r,a,o);for(const c of this.#a)c!==t&&_m(this.#m,c,i,r,a,o);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,n=!1){const i=Array.from(this.#l);this.recordOperation(t,n),this.recordIncrementalData("sameLineText",t);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(t,n=!1){return this.#c===t&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const n=this.#h.get(t);return this.#h.delete(t),n}_pushPendingDependencies(t){for(const n of t)this.#l.add(n)}take(){return this.#d.clear(),new Jet(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Bg{#t;#e;#i;#n=0;#a=0;constructor(t,n,i){if(t instanceof Bg&&t.#i===!!i)return t;this.#t=t,this.#e=n,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,n){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,n){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,n){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,n){return this}recordSimpleDataFromNamed(t,n,i){return this.#t.recordSimpleDataFromNamed(t,n,this.#e),this}recordFutureForcedDependency(t,n){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,n,i,r,a,o){return this.#i||this.#t.recordClipBox(this.#e,n,i,r,a,o),this}recordBBox(t,n,i,r,a,o){return this.#i||this.#t.recordBBox(this.#e,n,i,r,a,o),this}recordCharacterBBox(t,n,i,r,a,o,c){return this.#i||this.#t.recordCharacterBBox(this.#e,n,i,r,a,o,c),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,n){return this.#t.recordDependencies(this.#e,n),this}recordNamedDependency(t,n){return this.#t.recordNamedDependency(this.#e,n),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ar={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},li={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function dw(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,i),e.clip(r)}class LA{isModifyingCurrentTransform(){return!1}getPattern(){xe("Abstract method `getPattern` called.")}}class ent extends LA{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(t,n=null){let i,r=this._p0,a=this._p1;if(n&&(r=r.slice(),a=a.slice(),Ct.applyTransform(r,n),Ct.applyTransform(a,n)),this._type==="axial")i=t.createLinearGradient(r[0],r[1],a[0],a[1]);else if(this._type==="radial"){let o=this._r0,c=this._r1;if(n){const d=new Float32Array(2);Ct.singularValueDecompose2dScale(n,d),o*=d[0],c*=d[0]}i=t.createRadialGradient(r[0],r[1],o,a[0],a[1],c)}for(const o of this._colorStops)i.addColorStop(o[0],o[1]);return i}getPattern(t,n,i,r){let a;if(r===li.STROKE||r===li.FILL){if(this.isOriginBased()){let y=Ct.transform(i,n.baseTransform);this.matrix&&(y=Ct.transform(y,this.matrix));const b=.001,A=Math.hypot(y[0],y[1]),w=Math.hypot(y[2],y[3]),C=(y[0]*y[2]+y[1]*y[3])/(A*w);if(Math.abs(C)<b)if(this.isRadial()){if(Math.abs(A-w)<b)return this._createGradient(t,y)}else return this._createGradient(t,y)}const o=n.current.getClippedPathBoundingBox(r,Xe(t))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,d=Math.ceil(o[3]-o[1])||1,f=n.cachedCanvases.getCanvas("pattern",c,d),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-o[0],-o[1]),i=Ct.transform(i,[1,0,0,1,o[0],o[1]]),p.transform(...n.baseTransform),this.matrix&&p.transform(...this.matrix),dw(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),a=t.createPattern(f.canvas,"no-repeat");const m=new DOMMatrix(i);a.setTransform(m)}else dw(t,this._bbox),a=this._createGradient(t);return a}}function Wx(e,t,n,i,r,a,o,c){const d=t.coords,f=t.colors,p=e.data,m=e.width*4;let y;d[n+1]>d[i+1]&&(y=n,n=i,i=y,y=a,a=o,o=y),d[i+1]>d[r+1]&&(y=i,i=r,r=y,y=o,o=c,c=y),d[n+1]>d[i+1]&&(y=n,n=i,i=y,y=a,a=o,o=y);const b=(d[n]+t.offsetX)*t.scaleX,A=(d[n+1]+t.offsetY)*t.scaleY,w=(d[i]+t.offsetX)*t.scaleX,C=(d[i+1]+t.offsetY)*t.scaleY,O=(d[r]+t.offsetX)*t.scaleX,k=(d[r+1]+t.offsetY)*t.scaleY;if(A>=k)return;const M=f[a],j=f[a+1],I=f[a+2],R=f[o],z=f[o+1],H=f[o+2],W=f[c],et=f[c+1],Y=f[c+2],q=Math.round(A),yt=Math.round(k);let ct,xt,$,Q,nt,bt,Z,U;for(let X=q;X<=yt;X++){if(X<C){const At=X<A?0:(A-X)/(A-C);ct=b-(b-w)*At,xt=M-(M-R)*At,$=j-(j-z)*At,Q=I-(I-H)*At}else{let At;X>k?At=1:C===k?At=0:At=(C-X)/(C-k),ct=w-(w-O)*At,xt=R-(R-W)*At,$=z-(z-et)*At,Q=H-(H-Y)*At}let ut;X<A?ut=0:X>k?ut=1:ut=(A-X)/(A-k),nt=b-(b-O)*ut,bt=M-(M-W)*ut,Z=j-(j-et)*ut,U=I-(I-Y)*ut;const gt=Math.round(Math.min(ct,nt)),_t=Math.round(Math.max(ct,nt));let wt=m*X+gt*4;for(let At=gt;At<=_t;At++)ut=(ct-At)/(ct-nt),ut<0?ut=0:ut>1&&(ut=1),p[wt++]=xt-(xt-bt)*ut|0,p[wt++]=$-($-Z)*ut|0,p[wt++]=Q-(Q-U)*ut|0,p[wt++]=255}}function nnt(e,t,n){const i=t.coords,r=t.colors;let a,o;switch(t.type){case iw.LATTICE:const c=t.verticesPerRow,d=Math.floor(i.length/c)-1,f=c-1;for(a=0;a<d;a++){let p=a*c;for(let m=0;m<f;m++,p++)Wx(e,n,i[p],i[p+1],i[p+c],r[p],r[p+1],r[p+c]),Wx(e,n,i[p+c+1],i[p+1],i[p+c],r[p+c+1],r[p+1],r[p+c])}break;case iw.TRIANGLES:for(a=0,o=i.length;a<o;a+=3)Wx(e,n,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class int extends LA{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,n,i){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-d,m=Math.min(Math.ceil(Math.abs(f*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),b=f/m,A=p/y,w={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/b,scaleY:1/A},C=m+4,O=y+4,k=i.getCanvas("mesh",C,O),M=k.context,j=M.createImageData(m,y);if(n){const R=j.data;for(let z=0,H=R.length;z<H;z+=4)R[z]=n[0],R[z+1]=n[1],R[z+2]=n[2],R[z+3]=255}for(const R of this._figures)nnt(j,R,w);return M.putImageData(j,2,2),{canvas:k.canvas,offsetX:c-2*b,offsetY:d-2*A,scaleX:b,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(t,n,i,r){dw(t,this._bbox);const a=new Float32Array(2);if(r===li.SHADING)Ct.singularValueDecompose2dScale(Xe(t),a);else if(this.matrix){Ct.singularValueDecompose2dScale(this.matrix,a);const[c,d]=a;Ct.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=c,a[1]*=d}else Ct.singularValueDecompose2dScale(n.baseTransform,a);const o=this._createMeshCanvas(a,r===li.SHADING?null:this._background,n.cachedCanvases);return r!==li.SHADING&&(t.setTransform(...n.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class rnt extends LA{getPattern(){return"hotpink"}}function ant(e){switch(e[0]){case"RadialAxial":return new ent(e);case"Mesh":return new int(e);case"Dummy":return new rnt}throw new Error(`Unknown IR type: ${e[0]}`)}const ON={COLORED:1,UNCOLORED:2};class RA{static MAX_PATTERN_SIZE=3e3;constructor(t,n,i,r){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t,n){const{bbox:i,operatorList:r,paintType:a,tilingType:o,color:c,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:p}=this;f=Math.abs(f),p=Math.abs(p),$v("TilingType: "+o);const m=i[0],y=i[1],b=i[2],A=i[3],w=b-m,C=A-y,O=new Float32Array(2);Ct.singularValueDecompose2dScale(this.matrix,O);const[k,M]=O;Ct.singularValueDecompose2dScale(this.baseTransform,O);const j=k*O[0],I=M*O[1];let R=w,z=C,H=!1,W=!1;const et=Math.ceil(f*j),Y=Math.ceil(p*I),q=Math.ceil(w*j),yt=Math.ceil(C*I);et>=q?R=f:H=!0,Y>=yt?z=p:W=!0;const ct=this.getSizeAndScale(R,this.ctx.canvas.width,j),xt=this.getSizeAndScale(z,this.ctx.canvas.height,I),$=t.cachedCanvases.getCanvas("pattern",ct.size,xt.size),Q=$.context,nt=d.createCanvasGraphics(Q,n);if(nt.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(nt,a,c),Q.translate(-ct.scale*m,-xt.scale*y),nt.transform(0,ct.scale,0,0,xt.scale,0,0),Q.save(),nt.dependencyTracker?.save(),this.clipBbox(nt,m,y,b,A),nt.baseTransform=Xe(nt.ctx),nt.executeOperatorList(r),nt.endDrawing(),nt.dependencyTracker?.restore(),Q.restore(),H||W){const bt=$.canvas;H&&(R=f),W&&(z=p);const Z=this.getSizeAndScale(R,this.ctx.canvas.width,j),U=this.getSizeAndScale(z,this.ctx.canvas.height,I),X=Z.size,ut=U.size,gt=t.cachedCanvases.getCanvas("pattern-workaround",X,ut),_t=gt.context,wt=H?Math.floor(w/f):0,At=W?Math.floor(C/p):0;for(let Yt=0;Yt<=wt;Yt++)for(let dt=0;dt<=At;dt++)_t.drawImage(bt,X*Yt,ut*dt,X,ut,0,0,X,ut);return{canvas:gt.canvas,scaleX:Z.scale,scaleY:U.scale,offsetX:m,offsetY:y}}return{canvas:$.canvas,scaleX:ct.scale,scaleY:xt.scale,offsetX:m,offsetY:y}}getSizeAndScale(t,n,i){const r=Math.max(RA.MAX_PATTERN_SIZE,n);let a=Math.ceil(t*i);return a>=r?a=r:i=a/t,{scale:i,size:a}}clipBbox(t,n,i,r,a){const o=r-n,c=a-i;t.ctx.rect(n,i,o,c),Ct.axialAlignedBoundingBox([n,i,r,a],Xe(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,n,i){const r=t.ctx,a=t.current;switch(n){case ON.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;r.fillStyle=a.fillColor=o,r.strokeStyle=a.strokeColor=c;break;case ON.UNCOLORED:r.fillStyle=r.strokeStyle=i,a.fillColor=a.strokeColor=i;break;default:throw new get(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,n,i,r,a){let o=i;r!==li.SHADING&&(o=Ct.transform(o,n.baseTransform),this.matrix&&(o=Ct.transform(o,this.matrix)));const c=this.createPatternCanvas(n,a);let d=new DOMMatrix(o);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const f=t.createPattern(c.canvas,"repeat");return f.setTransform(d),f}}function snt({src:e,srcPos:t=0,dest:n,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const c=Rn.isLittleEndian?4278190080:255,[d,f]=o?[a,c]:[c,a],p=i>>3,m=i&7,y=e.length;n=new Uint32Array(n.buffer);let b=0;for(let A=0;A<r;A++){for(const C=t+p;t<C;t++){const O=t<y?e[t]:255;n[b++]=O&128?f:d,n[b++]=O&64?f:d,n[b++]=O&32?f:d,n[b++]=O&16?f:d,n[b++]=O&8?f:d,n[b++]=O&4?f:d,n[b++]=O&2?f:d,n[b++]=O&1?f:d}if(m===0)continue;const w=t<y?e[t++]:255;for(let C=0;C<m;C++)n[b++]=w&1<<7-C?f:d}return{srcPos:t,destPos:b}}const PN=16,MN=100,ont=15,NN=10,Hi=16,Yx=new DOMMatrix,rr=new Float32Array(2),fu=new Float32Array([1/0,1/0,-1/0,-1/0]);function lnt(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(n,i){t.translate(n,i),this.__originalTranslate(n,i)},e.scale=function(n,i){t.scale(n,i),this.__originalScale(n,i)},e.transform=function(n,i,r,a,o,c){t.transform(n,i,r,a,o,c),this.__originalTransform(n,i,r,a,o,c)},e.setTransform=function(n,i,r,a,o,c){t.setTransform(n,i,r,a,o,c),this.__originalSetTransform(n,i,r,a,o,c)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(n){t.rotate(n),this.__originalRotate(n)},e.clip=function(n){t.clip(n),this.__originalClip(n)},e.moveTo=function(n,i){t.moveTo(n,i),this.__originalMoveTo(n,i)},e.lineTo=function(n,i){t.lineTo(n,i),this.__originalLineTo(n,i)},e.bezierCurveTo=function(n,i,r,a,o,c){t.bezierCurveTo(n,i,r,a,o,c),this.__originalBezierCurveTo(n,i,r,a,o,c)},e.rect=function(n,i,r,a){t.rect(n,i,r,a),this.__originalRect(n,i,r,a)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class cnt{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,n,i){let r;return this.cache[t]!==void 0?(r=this.cache[t],this.canvasFactory.reset(r,n,i)):(r=this.canvasFactory.create(n,i),this.cache[t]=r),r}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const n=this.cache[t];this.canvasFactory.destroy(n),delete this.cache[t]}}}function Am(e,t,n,i,r,a,o,c,d,f){const[p,m,y,b,A,w]=Xe(e);if(m===0&&y===0){const k=o*p+A,M=Math.round(k),j=c*b+w,I=Math.round(j),R=(o+d)*p+A,z=Math.abs(Math.round(R)-M)||1,H=(c+f)*b+w,W=Math.abs(Math.round(H)-I)||1;return e.setTransform(Math.sign(p),0,0,Math.sign(b),M,I),e.drawImage(t,n,i,r,a,0,0,z,W),e.setTransform(p,m,y,b,A,w),[z,W]}if(p===0&&b===0){const k=c*y+A,M=Math.round(k),j=o*m+w,I=Math.round(j),R=(c+f)*y+A,z=Math.abs(Math.round(R)-M)||1,H=(o+d)*m+w,W=Math.abs(Math.round(H)-I)||1;return e.setTransform(0,Math.sign(m),Math.sign(y),0,M,I),e.drawImage(t,n,i,r,a,0,0,W,z),e.setTransform(p,m,y,b,A,w),[W,z]}e.drawImage(t,n,i,r,a,o,c,d,f);const C=Math.hypot(p,m),O=Math.hypot(y,b);return[C*d,O*f]}class kN{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=nw;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=jn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,n,i){i?.(this),this.clipBox=new Float32Array([0,0,t,n]),this.minMax=fu.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=li.FILL,n=null){const i=this.minMax.slice();if(t===li.STROKE){n||xe("Stroke bounding box must include transform."),Ct.singularValueDecompose2dScale(n,rr);const r=rr[0]*this.lineWidth/2,a=rr[1]*this.lineWidth/2;i[0]-=r,i[1]-=a,i[2]+=r,i[3]+=a}return i}updateClipFromPath(){const t=Ct.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(fu,0)}getClippedPathBoundingBox(t=li.FILL,n=null){return Ct.intersect(this.clipBox,this.getPathBoundingBox(t,n))}}function DN(e,t){if(t instanceof ImageData){e.putImageData(t,0,0);return}const n=t.height,i=t.width,r=n%Hi,a=(n-r)/Hi,o=r===0?a:a+1,c=e.createImageData(i,Hi);let d=0,f;const p=t.data,m=c.data;let y,b,A,w;if(t.kind===Dm.GRAYSCALE_1BPP){const C=p.byteLength,O=new Uint32Array(m.buffer,0,m.byteLength>>2),k=O.length,M=i+7>>3,j=4294967295,I=Rn.isLittleEndian?4278190080:255;for(y=0;y<o;y++){for(A=y<a?Hi:r,f=0,b=0;b<A;b++){const R=C-d;let z=0;const H=R>M?i:R*8-7,W=H&-8;let et=0,Y=0;for(;z<W;z+=8)Y=p[d++],O[f++]=Y&128?j:I,O[f++]=Y&64?j:I,O[f++]=Y&32?j:I,O[f++]=Y&16?j:I,O[f++]=Y&8?j:I,O[f++]=Y&4?j:I,O[f++]=Y&2?j:I,O[f++]=Y&1?j:I;for(;z<H;z++)et===0&&(Y=p[d++],et=128),O[f++]=Y&et?j:I,et>>=1}for(;f<k;)O[f++]=0;e.putImageData(c,0,y*Hi)}}else if(t.kind===Dm.RGBA_32BPP){for(b=0,w=i*Hi*4,y=0;y<a;y++)m.set(p.subarray(d,d+w)),d+=w,e.putImageData(c,0,b),b+=Hi;y<o&&(w=i*r*4,m.set(p.subarray(d,d+w)),e.putImageData(c,0,b))}else if(t.kind===Dm.RGB_24BPP)for(A=Hi,w=i*A,y=0;y<o;y++){for(y>=a&&(A=r,w=i*A),f=0,b=w;b--;)m[f++]=p[d++],m[f++]=p[d++],m[f++]=p[d++],m[f++]=255;e.putImageData(c,0,y*Hi)}else throw new Error(`bad image kind: ${t.kind}`)}function jN(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}const n=t.height,i=t.width,r=n%Hi,a=(n-r)/Hi,o=r===0?a:a+1,c=e.createImageData(i,Hi);let d=0;const f=t.data,p=c.data;for(let m=0;m<o;m++){const y=m<a?Hi:r;({srcPos:d}=snt({src:f,srcPos:d,dest:p,width:i,height:y,nonBlackColor:0})),e.putImageData(c,0,m*Hi)}}function fh(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)e[i]!==void 0&&(t[i]=e[i]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Sm(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;t!=="none"&&t!==""&&(e.filter="none")}function LN(e,t){if(t)return!0;Ct.singularValueDecompose2dScale(e,rr);const n=Math.fround(Ra.pixelRatio*ku.PDF_TO_CSS_UNITS);return rr[0]<=n&&rr[1]<=n}const unt=["butt","round","square"],dnt=["miter","round","bevel"],hnt={},RN={};class _u{constructor(t,n,i,r,a,{optionalContentConfig:o,markedContentStack:c=null},d,f,p){this.ctx=t,this.current=new kN(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=r,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new cnt(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,n,i=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(t,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):i}beginDrawing({transform:t,viewport:n,transparency:i=!1,background:r=null}){const a=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,o),this.ctx.fillStyle=c,i){const d=this.cachedCanvases.getCanvas("transparent",a,o);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...Xe(this.compositeCtx))}this.ctx.save(),Sm(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Xe(this.ctx)}executeOperatorList(t,n,i,r,a){const o=t.argsArray,c=t.fnArray;let d=n||0;const f=o.length;if(f===d)return d;const p=f-d>NN&&typeof i=="function",m=p?Date.now()+ont:0;let y=0;const b=this.commonObjs,A=this.objs;let w,C;for(;;){if(r!==void 0&&d===r.nextBreakPoint)return r.breakIt(d,i),d;if(!a||a(d))if(w=c[d],C=o[d]??null,w!==qh.dependency)C===null?this[w](d):this[w](d,...C);else for(const O of C){this.dependencyTracker?.recordNamedData(O,d);const k=O.startsWith("g_")?b:A;if(!k.has(O))return k.get(O,i),d}if(d++,d===f)return d;if(p&&++y>NN){if(Date.now()>m)return i(),d;y=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const n of t.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const n=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(t,n){const i=t.width??t.displayWidth,r=t.height??t.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),c=i,d=r,f="prescale1",p,m;for(;a>2&&c>1||o>2&&d>1;){let y=c,b=d;a>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/y),o>2&&d>1&&(b=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,o/=d/b),p=this.cachedCanvases.getCanvas(f,y,b),m=p.context,m.clearRect(0,0,y,b),m.drawImage(t,0,0,c,d,0,0,y,b),t=p.canvas,c=y,d=b,f=f==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:d}}_createMaskCanvas(t,n){const i=this.ctx,{width:r,height:a}=n,o=this.current.fillColor,c=this.current.patternFill,d=Xe(i);let f,p,m,y;if((n.bitmap||n.data)&&n.count>1){const et=n.bitmap||n.data.buffer;p=JSON.stringify(c?d:[d.slice(0,4),o]),f=this._cachedBitmapsMap.get(et),f||(f=new Map,this._cachedBitmapsMap.set(et,f));const Y=f.get(p);if(Y&&!c){const q=Math.round(Math.min(d[0],d[2])+d[4]),yt=Math.round(Math.min(d[1],d[3])+d[5]);return this.dependencyTracker?.recordDependencies(t,Ar.transformAndFill),{canvas:Y,offsetX:q,offsetY:yt}}m=Y}m||(y=this.cachedCanvases.getCanvas("maskCanvas",r,a),jN(y.context,n));let b=Ct.transform(d,[1/r,0,0,-1/a,0,0]);b=Ct.transform(b,[1,0,0,1,0,-a]);const A=fu.slice();Ct.axialAlignedBoundingBox([0,0,r,a],b,A);const[w,C,O,k]=A,M=Math.round(O-w)||1,j=Math.round(k-C)||1,I=this.cachedCanvases.getCanvas("fillCanvas",M,j),R=I.context,z=w,H=C;R.translate(-z,-H),R.transform(...b),m||(m=this._scaleImage(y.canvas,wa(R)),m=m.img,f&&c&&f.set(p,m)),R.imageSmoothingEnabled=LN(Xe(R),n.interpolate),Am(R,m,0,0,m.width,m.height,0,0,r,a),R.globalCompositeOperation="source-in";const W=Ct.transform(wa(R),[1,0,0,1,-z,-H]);return R.fillStyle=c?o.getPattern(i,this,W,li.FILL,t):o,R.fillRect(0,0,r,a),f&&!c&&(this.cachedCanvases.delete("fillCanvas"),f.set(p,I.canvas)),this.dependencyTracker?.recordDependencies(t,Ar.transformAndFill),{canvas:I.canvas,offsetX:Math.round(z),offsetY:Math.round(H)}}setLineWidth(t,n){this.dependencyTracker?.recordSimpleData("lineWidth",t),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(t,n){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=unt[n]}setLineJoin(t,n){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=dnt[n]}setMiterLimit(t,n){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=n}setDash(t,n,i){this.dependencyTracker?.recordSimpleData("dash",t);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(n),r.lineDashOffset=i)}setRenderingIntent(t,n){}setFlatness(t,n){}setGState(t,n){for(const[i,r]of n)switch(i){case"LW":this.setLineWidth(t,r);break;case"LC":this.setLineCap(t,r);break;case"LJ":this.setLineJoin(t,r);break;case"ML":this.setMiterLimit(t,r);break;case"D":this.setDash(t,r[0],r[1]);break;case"RI":this.setRenderingIntent(t,r);break;case"FL":this.setFlatness(t,r);break;case"Font":this.setFont(t,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(r,n,i);this.suspendedCtx=this.ctx;const o=this.ctx=a.context;o.setTransform(this.suspendedCtx.getTransform()),fh(this.suspendedCtx,o),lnt(o,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),fh(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,n,i,r){const a=r[0],o=r[1],c=r[2]-a,d=r[3]-o;c===0||d===0||(this.genericComposeSMask(n.context,i,c,d,n.subtype,n.backdrop,n.transferMap,a,o,n.offsetX,n.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(i.canvas,0,0),t.restore())}genericComposeSMask(t,n,i,r,a,o,c,d,f,p,m){let y=t.canvas,b=d-p,A=f-m;if(o)if(b<0||A<0||b+i>y.width||A+r>y.height){const C=this.cachedCanvases.getCanvas("maskExtension",i,r),O=C.context;O.drawImage(y,-b,-A),O.globalCompositeOperation="destination-atop",O.fillStyle=o,O.fillRect(0,0,i,r),O.globalCompositeOperation="source-over",y=C.canvas,b=A=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(b,A,i,r),t.clip(C),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(b,A,i,r),t.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?n.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(c));const w=new Path2D;w.rect(d,f,i,r),n.clip(w),n.globalCompositeOperation="destination-in",n.drawImage(y,b,A,i,r,d,f,i,r),n.restore()}save(t){this.inSMaskMode&&fh(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&fh(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,n,i,r,a,o,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(n,i,r,a,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,n,i,r){let[a]=i;if(!r){a||=i[0]=new Path2D,this[n](t,a);return}if(this.dependencyTracker!==null){const o=n===qh.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(t,["transform"])}a instanceof Path2D||(a=i[0]=TI(a)),Ct.axialAlignedBoundingBox(r,Xe(this.ctx),this.current.minMax),this[n](t,a),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,n,i=!0){const r=this.ctx,a=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const o=a.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=a.getPattern(r,this,wa(r),li.STROKE,t),o){const c=new Path2D;c.addPath(n,r.getTransform().invertSelf().multiplySelf(o)),n=c}this.rescaleAndStroke(n,!1),r.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(t,Ar.stroke),i&&this.consumePath(t,n,this.current.getClippedPathBoundingBox(li.STROKE,Xe(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(t,n){this.stroke(t,n)}fill(t,n,i=!0){const r=this.ctx,a=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const f=a.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(t),r.save(),r.fillStyle=a.getPattern(r,this,wa(r),li.FILL,t),f){const p=new Path2D;p.addPath(n,r.getTransform().invertSelf().multiplySelf(f)),n=p}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(r.fill(n,"evenodd"),this.pendingEOFill=!1):r.fill(n)),this.dependencyTracker?.recordDependencies(t,Ar.fill),c&&(r.restore(),this.dependencyTracker?.restore(t)),i&&this.consumePath(t,n,d)}eoFill(t,n){this.pendingEOFill=!0,this.fill(t,n)}fillStroke(t,n){this.fill(t,n,!1),this.stroke(t,n,!1),this.consumePath(t,n)}eoFillStroke(t,n){this.pendingEOFill=!0,this.fillStroke(t,n)}closeFillStroke(t,n){this.fillStroke(t,n)}closeEOFillStroke(t,n){this.pendingEOFill=!0,this.fillStroke(t,n)}endPath(t,n){this.consumePath(t,n)}rawFillPath(t,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(t,Ar.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=hnt}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=RN}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const n=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;n!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",t),r.recordCloseMarker(t)}if(n!==void 0){const r=new Path2D,a=i.getTransform().invertSelf();for(const{transform:o,x:c,y:d,fontSize:f,path:p}of n)p&&r.addPath(p,new DOMMatrix(o).preMultiplySelf(a).translate(c,d).scale(f,-f));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(t,n){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=n}setWordSpacing(t,n){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=n}setHScale(t,n){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=n/100}setLeading(t,n){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-n}setFont(t,n,i){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",n,t);const r=this.commonObjs.get(n),a=this.current;if(!r)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=r.fontMatrix||nw,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Ht("Invalid font matrix for font "+n),i<0?(i=-i,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const o=r.loadedName||"sans-serif",c=r.systemFontInfo?.css||`"${o}", ${r.fallbackName}`;let d="normal";r.black?d="900":r.bold&&(d="bold");const f=r.italic?"italic":"normal";let p=i;i<PN?p=PN:i>MN&&(p=MN),this.current.fontSizeScale=i/p,this.ctx.font=`${f} ${d} ${p}px ${c}`}setTextRenderingMode(t,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=n}setTextRise(t,n){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=n}moveText(t,n,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=i}setLeadingMoveText(t,n,i){this.setLeading(t,-i),this.moveText(t,n,i)}setTextMatrix(t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:i}=this;i.textMatrix=n,i.textMatrixScale=Math.hypot(n[0],n[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,n,i){const r=new Path2D;return r.addPath(t,new DOMMatrix(i).invertSelf().multiplySelf(n)),r}paintChar(t,n,i,r,a,o){const c=this.ctx,d=this.current,f=d.font,p=d.textRenderingMode,m=d.fontSize/d.fontSizeScale,y=p&jn.FILL_STROKE_MASK,b=!!(p&jn.ADD_TO_PATH_FLAG),A=d.patternFill&&!f.missingFile,w=d.patternStroke&&!f.missingFile;let C;if((f.disableFontFace||b||A||w)&&!f.missingFile&&(C=f.getPathGenerator(this.commonObjs,n)),C&&(f.disableFontFace||A||w)){c.save(),c.translate(i,r),c.scale(m,-m),this.dependencyTracker?.recordCharacterBBox(t,c,f);let O;if(y===jn.FILL||y===jn.FILL_STROKE)if(a){O=c.getTransform(),c.setTransform(...a);const k=this.#i(C,O,a);c.fill(k)}else c.fill(C);if(y===jn.STROKE||y===jn.FILL_STROKE)if(o){O||=c.getTransform(),c.setTransform(...o);const{a:k,b:M,c:j,d:I}=O,R=Ct.inverseTransform(o),z=Ct.transform([k,M,j,I,0,0],R);Ct.singularValueDecompose2dScale(z,rr),c.lineWidth*=Math.max(rr[0],rr[1])/m,c.stroke(this.#i(C,O,o))}else c.lineWidth/=m,c.stroke(C);c.restore()}else(y===jn.FILL||y===jn.FILL_STROKE)&&(c.fillText(n,i,r),this.dependencyTracker?.recordCharacterBBox(t,c,f,m,i,r,()=>c.measureText(n))),(y===jn.STROKE||y===jn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,f,m,i,r,()=>c.measureText(n)).recordDependencies(t,Ar.stroke),c.strokeText(n,i,r));b&&((this.pendingTextPaths||=[]).push({transform:Xe(c),x:i,y:r,fontSize:m,path:C}),this.dependencyTracker?.recordCharacterBBox(t,c,f,m,i,r))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const n=t.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<n.length;r+=4)if(n[r]>0&&n[r]<255){i=!0;break}return $t(this,"isFontSubpixelAAEnabled",i)}showText(t,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ar.showText).resetBBox(t),this.current.textRenderingMode&jn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(t,n),this.dependencyTracker?.recordShowTextOperation(t);return}const a=i.fontSize;if(a===0){this.dependencyTracker?.recordOperation(t);return}const o=this.ctx,c=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,p=i.fontDirection,m=i.textHScale*p,y=n.length,b=r.vertical,A=b?1:-1,w=r.defaultVMetrics,C=a*i.fontMatrix[0],O=i.textRenderingMode===jn.FILL&&!r.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),p>0?o.scale(m,-1):o.scale(m,1);let k,M;const j=i.textRenderingMode&jn.FILL_STROKE_MASK,I=j===jn.FILL||j===jn.FILL_STROKE,R=j===jn.STROKE||j===jn.FILL_STROKE;if(I&&i.patternFill){o.save();const Y=i.fillColor.getPattern(o,this,wa(o),li.FILL,t);k=Xe(o),o.restore(),o.fillStyle=Y}if(R&&i.patternStroke){o.save();const Y=i.strokeColor.getPattern(o,this,wa(o),li.STROKE,t);M=Xe(o),o.restore(),o.strokeStyle=Y}let z=i.lineWidth;const H=i.textMatrixScale;if(H===0||z===0?R&&(z=this.getSinglePixelWidth()):z/=H,c!==1&&(o.scale(c,c),z/=c),o.lineWidth=z,r.isInvalidPDFjsFont){const Y=[];let q=0;for(const ct of n)Y.push(ct.unicode),q+=ct.width;const yt=Y.join("");if(o.fillText(yt,0,0),this.dependencyTracker!==null){const ct=o.measureText(yt);this.dependencyTracker.recordBBox(t,this.ctx,-ct.actualBoundingBoxLeft,ct.actualBoundingBoxRight,-ct.actualBoundingBoxAscent,ct.actualBoundingBoxDescent).recordShowTextOperation(t)}i.x+=q*C*m,o.restore(),this.compose();return}let W=0,et;for(et=0;et<y;++et){const Y=n[et];if(typeof Y=="number"){W+=A*Y*a/1e3;continue}let q=!1;const yt=(Y.isSpace?f:0)+d,ct=Y.fontChar,xt=Y.accent;let $,Q,nt=Y.width;if(b){const U=Y.vmetric||w,X=-(Y.vmetric?U[1]:nt*.5)*C,ut=U[2]*C;nt=U?-U[0]:nt,$=X/c,Q=(W+ut)/c}else $=W/c,Q=0;let bt;if(r.remeasure&&nt>0){bt=o.measureText(ct);const U=bt.width*1e3/a*c;if(nt<U&&this.isFontSubpixelAAEnabled){const X=nt/U;q=!0,o.save(),o.scale(X,1),$/=X}else nt!==U&&($+=(nt-U)/2e3*a/c)}if(this.contentVisible&&(Y.isInFont||r.missingFile)){if(O&&!xt)o.fillText(ct,$,Q),this.dependencyTracker?.recordCharacterBBox(t,o,bt?{bbox:null}:r,a/c,$,Q,()=>bt??o.measureText(ct));else if(this.paintChar(t,ct,$,Q,k,M),xt){const U=$+a*xt.offset.x/c,X=Q-a*xt.offset.y/c;this.paintChar(t,xt.fontChar,U,X,k,M)}}const Z=b?nt*C-yt*p:nt*C+yt*p;W+=Z,q&&o.restore()}b?i.y-=W:i.x+=W*m,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,n){const i=this.ctx,r=this.current,a=r.font,o=r.fontSize,c=r.fontDirection,d=a.vertical?1:-1,f=r.charSpacing,p=r.wordSpacing,m=r.textHScale*c,y=r.fontMatrix||nw,b=n.length,A=r.textRenderingMode===jn.INVISIBLE;let w,C,O,k;if(A||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(m,c);const M=this.dependencyTracker;for(this.dependencyTracker=M?new Bg(M,t):null,w=0;w<b;++w){if(C=n[w],typeof C=="number"){k=d*C*o/1e3,this.ctx.translate(k,0),r.x+=k*m;continue}const j=(C.isSpace?p:0)+f,I=a.charProcOperatorList[C.operatorListId];I?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...y),this.executeOperatorList(I),this.restore()):Ht(`Type3 character "${C.operatorListId}" is not available.`);const R=[C.width,0];Ct.applyTransform(R,y),O=R[0]*o+j,i.translate(O,0),r.x+=O*m}i.restore(),M&&(this.dependencyTracker=M)}setCharWidth(t,n,i){}setCharWidthAndBounds(t,n,i,r,a,o,c){const d=new Path2D;d.rect(r,a,o-r,c-a),this.ctx.clip(d),this.dependencyTracker?.recordBBox(t,this.ctx,r,o,a,c).recordClipBox(t,this.ctx,r,o,a,c),this.endPath(t)}getColorN_Pattern(t,n){let i;if(n[0]==="TilingPattern"){const r=this.baseTransform||Xe(this.ctx),a={createCanvasGraphics:(o,c)=>new _u(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Bg(this.dependencyTracker,c,!0):null)};i=new RA(n,this.ctx,a,r)}else i=this._getPattern(t,n[1],n[2]);return i}setStrokeColorN(t,...n){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,n),this.current.patternStroke=!0}setFillColorN(t,...n){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,n),this.current.patternFill=!0}setStrokeRGBColor(t,n){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,n){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,n,i=null){let r;return this.cachedPatterns.has(n)?r=this.cachedPatterns.get(n):(r=ant(this.getObject(t,n)),this.cachedPatterns.set(n,r)),i&&(r.matrix=i),r}shadingFill(t,n){if(!this.contentVisible)return;const i=this.ctx;this.save(t);const r=this._getPattern(t,n);i.fillStyle=r.getPattern(i,this,wa(i),li.SHADING,t);const a=wa(i);if(a){const{width:o,height:c}=i.canvas,d=fu.slice();Ct.axialAlignedBoundingBox([0,0,o,c],a,d);const[f,p,m,y]=d;this.ctx.fillRect(f,p,m-f,y-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ar.transform).recordDependencies(t,Ar.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){xe("Should not call beginInlineImage")}beginImageData(){xe("Should not call beginImageData")}paintFormXObjectBegin(t,n,i){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),n&&this.transform(t,...n),this.baseTransform=Xe(this.ctx),i)){Ct.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,a,o,c]=i,d=new Path2D;d.rect(r,a,o-r,c-a),this.ctx.clip(d),this.dependencyTracker?.recordClipBox(t,this.ctx,r,o,a,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,n){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;n.isolated||$v("TODO: Support non-isolated groups."),n.knockout&&Ht("Knockout groups not supported.");const r=Xe(i);if(n.matrix&&i.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=fu.slice();Ct.axialAlignedBoundingBox(n.bbox,Xe(i),a);const o=[0,0,i.canvas.width,i.canvas.height];a=Ct.intersect(a,o)||[0,0,0,0];const c=Math.floor(a[0]),d=Math.floor(a[1]),f=Math.max(Math.ceil(a[2])-c,1),p=Math.max(Math.ceil(a[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,p]);let m="groupAt"+this.groupLevel;n.smask&&(m+="_smask_"+this.smaskCounter++%2);const y=this.cachedCanvases.getCanvas(m,f,p),b=y.context;b.translate(-c,-d),b.transform(...r);let A=new Path2D;const[w,C,O,k]=n.bbox;if(A.rect(w,C,O-w,k-C),n.matrix){const M=new Path2D;M.addPath(A,new DOMMatrix(n.matrix)),A=M}b.clip(A),n.smask&&this.smaskStack.push({canvas:y.canvas,context:b,offsetX:c,offsetY:d,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,d),i.save()),fh(i,b),this.ctx=b,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(t,n){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Xe(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...a);const o=fu.slice();Ct.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(t,n,i,r,a,o){if(this.#t(),Sm(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],d=i[3]-i[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=d,Ct.singularValueDecompose2dScale(Xe(this.ctx),rr);const{viewportScale:f}=this,p=Math.ceil(c*this.outputScaleX*f),m=Math.ceil(d*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(n,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(rr[0],0,0,-rr[1],0,d*rr[1]),Sm(this.ctx)}else{Sm(this.ctx),this.endPath(t);const f=new Path2D;f.rect(i[0],i[1],c,d),this.ctx.clip(f)}}this.current=new kN(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...r),this.transform(t,...a)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,n){if(!this.contentVisible)return;const i=n.count;n=this.getObject(t,n.data,n),n.count=i;const r=this.ctx,a=this._createMaskCanvas(t,n),o=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,a.offsetX,a.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,a.offsetX,a.offsetX+o.width,a.offsetY,a.offsetY+o.height).recordOperation(t),r.restore(),this.compose()}paintImageMaskXObjectRepeat(t,n,i,r=0,a=0,o,c){if(!this.contentVisible)return;n=this.getObject(t,n.data,n);const d=this.ctx;d.save();const f=Xe(d);d.transform(i,r,a,o,0,0);const p=this._createMaskCanvas(t,n);d.setTransform(1,0,0,1,p.offsetX-f[4],p.offsetY-f[5]),this.dependencyTracker?.resetBBox(t);for(let m=0,y=c.length;m<y;m+=2){const b=Ct.transform(f,[i,r,a,o,c[m],c[m+1]]);d.drawImage(p.canvas,b[4],b[5]),this.dependencyTracker?.recordBBox(t,this.ctx,b[4],b[4]+p.canvas.width,b[5],b[5]+p.canvas.height)}d.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,n){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,a=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Ar.transformAndFill);for(const o of n){const{data:c,width:d,height:f,transform:p}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),y=m.context;y.save();const b=this.getObject(t,c,o);jN(y,b),y.globalCompositeOperation="source-in",y.fillStyle=a?r.getPattern(y,this,wa(i),li.FILL,t):r,y.fillRect(0,0,d,f),y.restore(),i.save(),i.transform(...p),i.scale(1,-1),Am(i,m.canvas,0,0,d,f,0,-1,1,1),this.dependencyTracker?.recordBBox(t,i,0,d,0,f),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,n){if(!this.contentVisible)return;const i=this.getObject(t,n);if(!i){Ht("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,i)}paintImageXObjectRepeat(t,n,i,r,a){if(!this.contentVisible)return;const o=this.getObject(t,n);if(!o){Ht("Dependent image isn't ready yet");return}const c=o.width,d=o.height,f=[];for(let p=0,m=a.length;p<m;p+=2)f.push({transform:[i,0,0,r,a[p],a[p+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(t,o,f)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:n,width:i,height:r}=t,a=this.cachedCanvases.getCanvas("inlineImage",i,r),o=a.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",a.canvas}paintInlineImageXObject(t,n){if(!this.contentVisible)return;const i=n.width,r=n.height,a=this.ctx;this.save(t);const{filter:o}=a;o!=="none"&&o!==""&&(a.filter="none"),a.scale(1/i,-1/r);let c;if(n.bitmap)c=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)c=n;else{const p=this.cachedCanvases.getCanvas("inlineImage",i,r).context;DN(p,n),c=this.applyTransferMapsToCanvas(p)}const d=this._scaleImage(c,wa(a));a.imageSmoothingEnabled=LN(Xe(a),n.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,a,0,i,-r,0).recordDependencies(t,Ar.imageXObject).recordOperation(t),Am(a,d.img,0,0,d.paintWidth,d.paintHeight,0,-r,i,r),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,n,i){if(!this.contentVisible)return;const r=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const o=n.width,c=n.height,f=this.cachedCanvases.getCanvas("inlineImage",o,c).context;DN(f,n),a=this.applyTransferMapsToCanvas(f)}this.dependencyTracker?.resetBBox(t);for(const o of i)r.save(),r.transform(...o.transform),r.scale(1,-1),Am(r,a,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Ar.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,n){}markPointProps(t,n,i){}beginMarkedContent(t,n){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,n,i){this.dependencyTracker?.beginMarkedContent(t),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,n,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const a=this.ctx;this.pendingClip?(r||(this.pendingClip===RN?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Xe(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const n=Math.abs(t[0]*t[3]-t[2]*t[1]),i=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:n,b:i,c:r,d:a}=this.ctx.getTransform();let o,c;if(i===0&&r===0){const d=Math.abs(n),f=Math.abs(a);if(d===f)if(t===0)o=c=1/d;else{const p=d*t;o=c=p<1?1/p:1}else if(t===0)o=1/d,c=1/f;else{const p=d*t,m=f*t;o=p<1?1/p:1,c=m<1?1/m:1}}else{const d=Math.abs(n*a-i*r),f=Math.hypot(n,i),p=Math.hypot(r,a);if(t===0)o=p/d,c=f/d;else{const m=t*d;o=p>m?p/m:1,c=f>m?f/m:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,n){const{ctx:i,current:{lineWidth:r}}=this,[a,o]=this.getScaleForStroking();if(a===o){i.lineWidth=(r||1)*a,i.stroke(t);return}const c=i.getLineDash();n&&i.save(),i.scale(a,o),Yx.a=1/a,Yx.d=1/o;const d=new Path2D;if(d.addPath(t,Yx),c.length>0){const f=Math.max(a,o);i.setLineDash(c.map(p=>p/f)),i.lineDashOffset/=f}i.lineWidth=r||1,i.stroke(d),n&&i.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const e in qh)_u.prototype[e]!==void 0&&(_u.prototype[qh[e]]=_u.prototype[e]);class wu{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class fnt{#t;#e;constructor({parsedData:t,rawData:n}){this.#t=t,this.#e=n}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const ou=Symbol("INTERNAL");class pnt{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:n,intent:i,usage:r,rbGroups:a}){this.#t=!!(t&nr.DISPLAY),this.#e=!!(t&nr.PRINT),this.name=n,this.intent=i,this.usage=r,this.rbGroups=a}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:n}=this.usage;return this.#t?n?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,n,i=!1){t!==ou&&xe("Internal method `_setVisible` called."),this.#i=i,this.#n=n}}class mnt{#t=null;#e=new Map;#i=null;#n=null;constructor(t,n=nr.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const i of t.groups)this.#e.set(i.id,new pnt(n,i));if(t.baseState==="OFF")for(const i of this.#e.values())i._setVisible(ou,!1);for(const i of t.on)this.#e.get(i)._setVisible(ou,!0);for(const i of t.off)this.#e.get(i)._setVisible(ou,!1);this.#i=this.getHash()}}#a(t){const n=t.length;if(n<2)return!0;const i=t[0];for(let r=1;r<n;r++){const a=t[r];let o;if(Array.isArray(a))o=this.#a(a);else if(this.#e.has(a))o=this.#e.get(a).visible;else return Ht(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return $v("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Ht(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const n of t.ids){if(!this.#e.has(n))return Ht(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const n of t.ids){if(!this.#e.has(n))return Ht(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const n of t.ids){if(!this.#e.has(n))return Ht(`Optional content group not found: ${n}`),!0;if(!this.#e.get(n).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const n of t.ids){if(!this.#e.has(n))return Ht(`Optional content group not found: ${n}`),!0;if(this.#e.get(n).visible)return!1}return!0}return Ht(`Unknown optional content policy ${t.policy}.`),!0}return Ht(`Unknown group type ${t.type}.`),!0}setVisibility(t,n=!0,i=!0){const r=this.#e.get(t);if(!r){Ht(`Optional content group not found: ${t}`);return}if(i&&n&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==t&&this.#e.get(o)?._setVisible(ou,!1,!0);r._setVisible(ou,!!n,!0),this.#t=null}setOCGState({state:t,preserveRB:n}){let i;for(const r of t){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const a=this.#e.get(r);if(a)switch(i){case"ON":this.setVisibility(r,!0,n);break;case"OFF":this.setVisibility(r,!1,n);break;case"Toggle":this.setVisibility(r,!a.visible,n);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new PI;for(const[n,i]of this.#e)t.update(`${n}:${i.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class Wv{#t=null;#e=null;_fullReader=null;_rangeReaders=new Set;_source=null;constructor(t,n,i){this._source=t,this.#t=n,this.#e=i}get _progressiveDataLength(){return this._fullReader?._loaded??0}getFullReader(){return be(!this._fullReader,"BasePDFStream.getFullReader can only be called once."),this._fullReader=new this.#t(this)}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const i=new this.#e(this,t,n);return this._rangeReaders.add(i),i}cancelAllRequests(t){this._fullReader?.cancel(t);for(const n of new Set(this._rangeReaders))n.cancel(t)}}class Yv{onProgress=null;_contentLength=0;_filename=null;_headersCapability=Promise.withResolvers();_isRangeSupported=!1;_isStreamingSupported=!1;_loaded=0;_stream=null;constructor(t){this._stream=t}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){xe("Abstract method `read` called")}cancel(t){xe("Abstract method `cancel` called")}}class Kv{_stream=null;constructor(t,n,i){this._stream=t}async read(){xe("Abstract method `read` called")}cancel(t){xe("Abstract method `cancel` called")}}function IN(e){return e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}class gnt extends Wv{_progressiveDone=!1;_queuedChunks=[];constructor(t){super(t,vnt,ynt);const{pdfDataRangeTransport:n}=t,{initialData:i,progressiveDone:r}=n;if(i?.length>0){const a=IN(i);this._queuedChunks.push(a)}this._progressiveDone=r,n.addRangeListener((a,o)=>{this.#t(a,o)}),n.addProgressListener((a,o)=>{o!==void 0&&this._fullReader?.onProgress?.({loaded:a,total:o})}),n.addProgressiveReadListener(a=>{this.#t(void 0,a)}),n.addProgressiveDoneListener(()=>{this._fullReader?.progressiveDone(),this._progressiveDone=!0}),n.transportReady()}#t(t,n){const i=IN(n);if(t===void 0)this._fullReader?this._fullReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.keys().find(a=>a._begin===t);be(r,"#onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."),r._enqueue(i)}}getFullReader(){const t=super.getFullReader();return this._queuedChunks=null,t}getRangeReader(t,n){const i=super.getRangeReader(t,n);return i&&(i.onDone=()=>this._rangeReaders.delete(i),this._source.pdfDataRangeTransport.requestDataRange(t,n)),i}cancelAllRequests(t){super.cancelAllRequests(t),this._source.pdfDataRangeTransport.abort()}}class vnt extends Yv{_done=!1;_queuedChunks=null;_requests=[];constructor(t){super(t);const{pdfDataRangeTransport:n,disableRange:i,disableStream:r}=t._source,{length:a,contentDispositionFilename:o}=n;this._queuedChunks=t._queuedChunks||[];for(const c of this._queuedChunks)this._loaded+=c.byteLength;this._done=t._progressiveDone,this._contentLength=a,this._isStreamingSupported=!r,this._isRangeSupported=!i,MA(o)&&(this._filename=o),this._headersCapability.resolve()}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||=!0}}class ynt extends Kv{onDone=null;_begin=-1;_done=!1;_queuedChunk=null;_requests=[];constructor(t,n,i){super(t,n,i),this._begin=n}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this.onDone?.()}}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this.onDone?.()}}function bnt(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let p=c(n);return p=unescape(p),p=d(p),p=f(p),a(p)}if(n=o(e),n){const p=f(n);return a(p)}if(n=i("filename","i").exec(e),n){n=n[1];let p=c(n);return p=f(p),a(p)}function i(p,m){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',m)}function r(p,m){if(p){if(!/^[\x00-\xFF]+$/.test(m))return m;try{const y=new TextDecoder(p,{fatal:!0}),b=Gv(m);m=y.decode(b),t=!1}catch{}}return m}function a(p){return t&&/[\x80-\xff]/.test(p)&&(p=r("utf-8",p),t&&(p=r("iso-8859-1",p))),p}function o(p){const m=[];let y;const b=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=b.exec(p))!==null;){let[,w,C,O]=y;if(w=parseInt(w,10),w in m){if(w===0)break;continue}m[w]=[C,O]}const A=[];for(let w=0;w<m.length&&w in m;++w){let[C,O]=m[w];O=c(O),C&&(O=unescape(O),w===0&&(O=d(O))),A.push(O)}return A.join("")}function c(p){if(p.startsWith('"')){const m=p.slice(1).split('\\"');for(let y=0;y<m.length;++y){const b=m[y].indexOf('"');b!==-1&&(m[y]=m[y].slice(0,b),m.length=y+1),m[y]=m[y].replaceAll(/\\(.)/g,"$1")}p=m.join('"')}return p}function d(p){const m=p.indexOf("'");if(m===-1)return p;const y=p.slice(0,m),A=p.slice(m+1).replace(/^[^']*'/,"");return r(y,A)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(m,y,b,A){if(b==="q"||b==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,C){return String.fromCharCode(parseInt(C,16))}),r(y,A);try{A=atob(A)}catch{}return r(y,A)})}return""}function RI(e,t){const n=new Headers;if(!e||!t||typeof t!="object")return n;for(const i in t){const r=t[i];r!==void 0&&n.append(i,r)}return n}function Zv(e){return URL.parse(e)?.origin??null}function II({responseHeaders:e,isHttp:t,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e.get("Content-Length"),10);return!Number.isInteger(a)||(r.suggestedLength=a,a<=2*n)||i||!t||e.get("Accept-Ranges")!=="bytes"||(e.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function BI(e){const t=e.get("Content-Disposition");if(t){let n=bnt(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(MA(n))return n}return null}function Xv(e,t){return new Ig(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e,e===404||e===0&&t.startsWith("file:"))}function zI(e,t){if(e!==t)throw new Error(`Expected range response-origin "${e}" to match "${t}".`)}function FI(e,t,n,i){return fetch(e,{method:"GET",headers:t,signal:i.signal,mode:"cors",credentials:n?"include":"same-origin",redirect:"follow"})}function UI(e,t){if(e!==200&&e!==206)throw Xv(e,t)}function HI(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(Ht(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class xnt extends Wv{_responseOrigin=null;constructor(t){super(t,_nt,wnt),this.isHttp=/^https?:/i.test(t.url),this.headers=RI(this.isHttp,t.httpHeaders)}}class _nt extends Yv{_abortController=new AbortController;_reader=null;constructor(t){super(t);const{disableRange:n,disableStream:i,length:r,rangeChunkSize:a,url:o,withCredentials:c}=t._source;this._contentLength=r,this._isStreamingSupported=!i,this._isRangeSupported=!n;const d=new Headers(t.headers);FI(o,d,c,this._abortController).then(f=>{t._responseOrigin=Zv(f.url),UI(f.status,o),this._reader=f.body.getReader();const p=f.headers,{allowRangeRequests:m,suggestedLength:y}=II({responseHeaders:p,isHttp:t.isHttp,rangeChunkSize:a,disableRange:n});this._isRangeSupported=m,this._contentLength=y||this._contentLength,this._filename=BI(p),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ro("Streaming is disabled.")),this._headersCapability.resolve()}).catch(this._headersCapability.reject)}async read(){await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:HI(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class wnt extends Kv{_abortController=new AbortController;_readCapability=Promise.withResolvers();_reader=null;constructor(t,n,i){super(t,n,i);const{url:r,withCredentials:a}=t._source,o=new Headers(t.headers);o.append("Range",`bytes=${n}-${i-1}`),FI(r,o,a,this._abortController).then(c=>{const d=Zv(c.url);zI(d,t._responseOrigin),UI(c.status,r),this._reader=c.body.getReader(),this._readCapability.resolve()}).catch(this._readCapability.reject)}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:{value:HI(t),done:!1}}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Kx=200,BN=206;function Ant(e){return typeof e!="string"?e:Gv(e).buffer}class Snt extends Wv{#t=new WeakMap;_responseOrigin=null;constructor(t){super(t,Ent,Cnt),this.url=t.url,this.isHttp=/^https?:/i.test(this.url),this.headers=RI(this.isHttp,t.httpHeaders)}_request(t){const n=new XMLHttpRequest,i={validateStatus:null,onHeadersReceived:t.onHeadersReceived,onDone:t.onDone,onError:t.onError,onProgress:t.onProgress};this.#t.set(n,i),n.open("GET",this.url),n.withCredentials=this._source.withCredentials;for(const[r,a]of this.headers)n.setRequestHeader(r,a);return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.validateStatus=r=>r===BN||r===Kx):i.validateStatus=r=>r===Kx,n.responseType="arraybuffer",be(t.onError,"Expected `onError` callback to be provided."),n.onerror=()=>t.onError(n.status),n.onreadystatechange=this.#i.bind(this,n),n.onprogress=this.#e.bind(this,n),n.send(null),n}#e(t,n){this.#t.get(t)?.onProgress?.(n)}#i(t,n){const i=this.#t.get(t);if(!i||(t.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),t.readyState!==4)||!this.#t.has(t))return;if(this.#t.delete(t),t.status===0&&this.isHttp){i.onError(t.status);return}const r=t.status||Kx;if(!i.validateStatus(r)){i.onError(t.status);return}const a=Ant(t.response);if(r===BN){const o=t.getResponseHeader("Content-Range");/bytes (\d+)-(\d+)\/(\d+)/.test(o)?i.onDone(a):(Ht('Missing or invalid "Content-Range" header.'),i.onError(0))}else a?i.onDone(a):i.onError(t.status)}_abortRequest(t){this.#t.has(t)&&(this.#t.delete(t),t.abort())}getRangeReader(t,n){const i=super.getRangeReader(t,n);return i&&(i.onClosed=()=>this._rangeReaders.delete(i)),i}}class Ent extends Yv{_cachedChunks=[];_done=!1;_requests=[];_storedError=null;constructor(t){super(t);const{length:n}=t._source;this._contentLength=n,this._fullRequestXhr=t._request({onHeadersReceived:this.#t.bind(this),onDone:this.#e.bind(this),onError:this.#i.bind(this),onProgress:this.#n.bind(this)})}#t(){const t=this._stream,{disableRange:n,rangeChunkSize:i}=t._source,r=this._fullRequestXhr;t._responseOrigin=Zv(r.responseURL);const a=r.getAllResponseHeaders(),o=new Headers(a?a.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(f=>{const[p,...m]=f.split(": ");return[p,m.join(": ")]}):[]),{allowRangeRequests:c,suggestedLength:d}=II({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:i,disableRange:n});c&&(this._isRangeSupported=!0),this._contentLength=d||this._contentLength,this._filename=BI(o),this._isRangeSupported&&t._abortRequest(r),this._headersCapability.resolve()}#e(t){if(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._cachedChunks.push(t),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}#i(t){this._storedError=Xv(t,this._stream.url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}#n(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._fullRequestXhr),this._fullRequestXhr=null}}class Cnt extends Kv{onClosed=null;_done=!1;_queuedChunk=null;_requests=[];_storedError=null;constructor(t,n,i){super(t,n,i),this._requestXhr=t._request({begin:n,end:i,onHeadersReceived:this.#t.bind(this),onDone:this.#e.bind(this),onError:this.#i.bind(this),onProgress:null})}#t(){const t=Zv(this._requestXhr?.responseURL);try{zI(t,this._stream._responseOrigin)}catch(n){this._storedError=n,this.#i(0)}}#e(t){this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this.onClosed?.()}#i(t){this._storedError??=Xv(t,this._stream.url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._abortRequest(this._requestXhr),this.onClosed?.()}}const Tnt=/^[a-z][a-z0-9\-+.]+:/i;function Ont(e){if(Tnt.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}function $I(e){const{Readable:t}=process.getBuiltinModule("stream");return typeof t.toWeb=="function"?t.toWeb(e):process.getBuiltinModule("module").createRequire(import.meta.url)("node-readable-to-web-readable-stream").makeDefaultReadableStreamFromNodeReadable(e)}function GI(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(Ht(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class Pnt extends Wv{constructor(t){super(t,Mnt,Nnt),this.url=Ont(t.url),be(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs.")}}class Mnt extends Yv{_reader=null;constructor(t){super(t);const{disableRange:n,disableStream:i,length:r,rangeChunkSize:a}=t._source;this._contentLength=r,this._isStreamingSupported=!i,this._isRangeSupported=!n;const o=t.url,c=process.getBuiltinModule("fs");c.promises.lstat(o).then(d=>{const f=c.createReadStream(o),p=$I(f);this._reader=p.getReader();const{size:m}=d;m<=2*a&&(this._isRangeSupported=!1),this._contentLength=m,!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ro("Streaming is disabled.")),this._headersCapability.resolve()}).catch(d=>{d.code==="ENOENT"&&(d=Xv(0,o.href)),this._headersCapability.reject(d)})}async read(){await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:GI(t),done:!1})}cancel(t){this._reader?.cancel(t)}}class Nnt extends Kv{_readCapability=Promise.withResolvers();_reader=null;constructor(t,n,i){super(t,n,i);const r=t.url,a=process.getBuiltinModule("fs");try{const o=a.createReadStream(r,{start:n,end:i-1}),c=$I(o);this._reader=c.getReader(),this._readCapability.resolve()}catch(o){this._readCapability.reject(o)}}async read(){await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:{value:GI(t),done:!1}}cancel(t){this._reader?.cancel(t)}}const ph=Symbol("INITIAL_DATA");class qI{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:ph}}get(t,n=null){if(n){const r=this.#e(t);return r.promise.then(()=>n(r.data)),null}const i=this.#t[t];if(!i||i.data===ph)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return i.data}has(t){const n=this.#t[t];return!!n&&n.data!==ph}delete(t){const n=this.#t[t];return!n||n.data===ph?!1:(delete this.#t[t],!0)}resolve(t,n=null){const i=this.#e(t);i.data=n,i.resolve()}clear(){for(const t in this.#t){const{data:n}=this.#t[t];n?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:n}=this.#t[t];n!==ph&&(yield[t,n])}}}const knt=1e5,zN=30;class ir{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#E=new WeakMap;static#A=null;static#_=new Set;constructor({textContentSource:t,container:n,viewport:i}){if(t instanceof ReadableStream)this.#m=t;else if(typeof t=="object")this.#m=new ReadableStream({start(d){d.enqueue(t),d.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=n,this.#d=i.scale*Ra.pixelRatio,this.#h=i.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:a,pageX:o,pageY:c}=i.rawDims;this.#v=[1,0,0,-1,-o,c+a],this.#o=r,this.#r=a,ir.#P(),n.style.setProperty("--min-font-size",ir.#A),ac(n,i),this.#t.promise.finally(()=>{ir.#_.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:n}=Rn.platform;return $t(this,"fontFamilyMap",new Map([["sans-serif",`${t&&n?"Calibri, ":""}sans-serif`],["monospace",`${t&&n?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:n,done:i})=>{if(i){this.#t.resolve();return}this.#a??=n.lang,Object.assign(this.#f,n.styles),this.#T(n.items),t()},this.#t.reject)};return this.#c=this.#m.getReader(),ir.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:n=null}){const i=t.scale*Ra.pixelRatio,r=t.rotation;if(r!==this.#h&&(n?.(),this.#h=r,ac(this.#l,{rotation:r})),i!==this.#d){n?.(),this.#d=i;const a={div:null,properties:null,ctx:ir.#M(this.#a)};for(const o of this.#u)a.properties=this.#p.get(o),a.div=o,this.#S(a)}}cancel(){const t=new Ro("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#T(t){if(this.#i)return;this.#s.ctx??=ir.#M(this.#a);const n=this.#u,i=this.#g;for(const r of t){if(n.length>knt){Ht("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const a=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),r.id&&this.#e.setAttribute("id",`${r.id}`),r.tag==="Artifact"&&(this.#e.ariaHidden=!0),a.append(this.#e)}else r.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}i.push(r.str),this.#x(r)}}#x(t){const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(n);const r=Ct.transform(this.#v,t.transform);let a=Math.atan2(r[1],r[0]);const o=this.#f[t.fontName];o.vertical&&(a+=Math.PI/2);let c=this.#n&&o.fontSubstitution||o.fontFamily;c=ir.fontFamilyMap.get(c)||c;const d=Math.hypot(r[2],r[3]),f=d*ir.#I(c,o,this.#a);let p,m;a===0?(p=r[4],m=r[5]-f):(p=r[4]+f*Math.sin(a),m=r[5]-f*Math.cos(a));const y=n.style;y.left=`${(100*p/this.#o).toFixed(2)}%`,y.top=`${(100*m/this.#r).toFixed(2)}%`,y.setProperty("--font-height",`${d.toFixed(2)}px`),y.fontFamily=c,i.fontSize=d,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,this.#n&&(n.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),a!==0&&(i.angle=a*(180/Math.PI));let b=!1;if(t.str.length>1)b=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),w=Math.abs(t.transform[3]);A!==w&&Math.max(A,w)/Math.min(A,w)>1.5&&(b=!0)}if(b&&(i.canvasWidth=o.vertical?t.height:t.width),this.#p.set(n,i),this.#s.div=n,this.#s.properties=i,this.#S(this.#s),i.hasText&&this.#e.append(n),i.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this.#e.append(A)}}#S(t){const{div:n,properties:i,ctx:r}=t,{style:a}=n;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:o}=a,{canvasWidth:c,fontSize:d}=i;ir.#O(r,d*this.#d,o);const{width:f}=r.measureText(n.textContent);f>0&&a.setProperty("--scale-x",c*this.#d/f)}i.angle!==0&&a.setProperty("--rotate",`${i.angle}deg`)}static cleanup(){if(!(this.#_.size>0)){this.#b.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#M(t=null){let n=this.#y.get(t||="");if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=t,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,n),this.#E.set(n,{size:0,family:""})}return n}static#O(t,n,i){const r=this.#E.get(t);n===r.size&&i===r.family||(t.font=`${n}px ${i}`,r.size=n,r.family=i)}static#P(){if(this.#A!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#A=t.getBoundingClientRect().height,t.remove()}static#I(t,n,i){const r=this.#b.get(t);if(r)return r;const a=this.#M(i);a.canvas.width=a.canvas.height=zN,this.#O(a,zN,t);const o=a.measureText(""),c=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let f=.8;return c?f=c/(c+d):(Rn.platform.isFirefox&&Ht("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?f=n.ascent:n.descent&&(f=1+n.descent)),this.#b.set(t,f),f}}const Dnt=100;function VI(e={}){typeof e=="string"||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new IA,{docId:n}=t,i=e.url?Uet(e.url):null,r=e.data?Het(e.data):null,a=e.httpHeaders||null,o=e.withCredentials===!0,c=e.password??null,d=e.range instanceof WI?e.range:null,f=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:2**16;let p=e.worker instanceof Wh?e.worker:null;const m=e.verbosity,y=typeof e.docBaseUrl=="string"&&!qv(e.docBaseUrl)?e.docBaseUrl:null,b=bm(e.cMapUrl),A=e.cMapPacked!==!1,w=e.CMapReaderFactory||(wi?Zet:AN),C=bm(e.iccUrl),O=bm(e.standardFontDataUrl),k=e.StandardFontDataFactory||(wi?Xet:SN),M=bm(e.wasmUrl),j=e.WasmFactory||(wi?Qet:EN),I=e.stopAtErrors!==!0,R=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,z=e.isEvalSupported!==!1,H=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!wi,W=typeof e.isImageDecoderSupported=="boolean"?e.isImageDecoderSupported:!wi&&(Rn.platform.isFirefox||!globalThis.chrome),et=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,Y=typeof e.disableFontFace=="boolean"?e.disableFontFace:wi,q=e.fontExtraProperties===!0,yt=e.enableXfa===!0,ct=e.ownerDocument||globalThis.document,xt=e.disableRange===!0,$=e.disableStream===!0,Q=e.disableAutoFetch===!0,nt=e.pdfBug===!0,bt=e.CanvasFactory||(wi?Ket:Vet),Z=e.FilterFactory||(wi?Yet:Wet),U=e.enableHWA===!0,X=e.useWasm!==!1,ut=d?d.length:e.length??NaN,gt=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!wi&&!Y,_t=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:!!(w===AN&&k===SN&&j===EN&&b&&O&&M&&_h(b,document.baseURI)&&_h(O,document.baseURI)&&_h(M,document.baseURI)),wt=null;fet(m);const At={canvasFactory:new bt({ownerDocument:ct,enableHWA:U}),filterFactory:new Z({docId:n,ownerDocument:ct}),cMapReaderFactory:_t?null:new w({baseUrl:b,isCompressed:A}),standardFontDataFactory:_t?null:new k({baseUrl:O}),wasmFactory:_t?null:new j({baseUrl:M})};p||(p=Wh.create({verbosity:m,port:wu.workerPort}),t._worker=p);const Yt={docId:n,apiVersion:"5.4.624",data:r,password:c,disableAutoFetch:Q,rangeChunkSize:f,length:ut,docBaseUrl:y,enableXfa:yt,evaluatorOptions:{maxImageSize:R,disableFontFace:Y,ignoreErrors:I,isEvalSupported:z,isOffscreenCanvasSupported:H,isImageDecoderSupported:W,canvasMaxAreaInBytes:et,fontExtraProperties:q,useSystemFonts:gt,useWasm:X,useWorkerFetch:_t,cMapUrl:b,iccUrl:C,standardFontDataUrl:O,wasmUrl:M}},dt={ownerDocument:ct,pdfBug:nt,styleElement:wt,enableHWA:U,loadingParams:{disableAutoFetch:Q,enableXfa:yt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Rt=p.messageHandler.sendWithPromise("GetDocRequest",Yt,r?[r.buffer]:null);let Bt;if(d)Bt=new gnt({pdfDataRangeTransport:d,disableRange:xt,disableStream:$});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const vt=_h(i)?xnt:wi?Pnt:Snt;Bt=new vt({url:i,length:ut,httpHeaders:a,withCredentials:o,rangeChunkSize:f,disableRange:xt,disableStream:$})}return Rt.then(vt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const He=new wh(n,vt,p.port),Jt=new Rnt(He,t,Bt,dt,At);t._transport=Jt,He.send("Ready",null)})}).catch(t._capability.reject),t}class IA{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${IA.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class WI{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,n,i=!1,r=null){this.length=t,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,n){for(const i of this.#a)i(t,n)}onDataProgress(t,n){this.#t.promise.then(()=>{for(const i of this.#n)i(t,n)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const n of this.#i)n(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,n){xe("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class jnt{constructor(t,n){this._pdfInfo=t,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,n){return this._transport.getAnnotationsByType(t,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Lnt{#t=!1;#e=ve.instance;constructor(t,n,i,r=!1){this._pageIndex=t,this._pageInfo=n,this._transport=i,this._stats=r?new gN:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new qI,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}set pageNumber(t){this._pageIndex=t-1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}={}){return new Af({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:n,offsetX:i,offsetY:r,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $t(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:n=t.canvas,viewport:i,intent:r="display",annotationMode:a=So.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:y=!1,recordOperations:b=!1,operationsFilter:A=null}){this._stats?.time("Overall");const w=this._transport.getRenderingIntent(r,a,m,y),{renderingIntent:C,cacheKey:O}=w;this.#t=!1,d||=this._transport.getOptionalContentConfig(C);let k=this._intentStates.get(O);k||(k=Object.create(null),this._intentStates.set(O,k)),k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);const M=!!(C&nr.PRINT);k.displayReadyCapability||(k.displayReadyCapability=Promise.withResolvers(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(w));const j=!!(this._pdfBug&&globalThis.StepperManager?.enabled),I=!this.recordedBBoxes&&(b||j),R=W=>{if(k.renderTasks.delete(z),I){const et=z.gfx?.dependencyTracker.take();et&&(z.stepper&&z.stepper.setOperatorBBoxes(et,z.gfx.dependencyTracker.takeDebugMetadata()),b&&(this.recordedBBoxes=et))}M&&(this.#t=!0),this.#i(),W?(z.capability.reject(W),this._abortOperatorList({intentState:k,reason:W instanceof Error?W:new Error(W)})):z.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},z=new pu({callback:R,params:{canvas:n,canvasContext:t,dependencyTracker:I?new tnt(n,k.operatorList.length,j):null,viewport:i,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!M,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:A});(k.renderTasks||=new Set).add(z);const H=z.task;return Promise.all([k.displayReadyCapability.promise,d]).then(([W,et])=>{if(this.destroyed){R();return}if(this._stats?.time("Rendering"),!(et.renderingIntent&C))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");z.initializeGraphics({transparency:W,optionalContentConfig:et}),z.operatorListChanged()}).catch(R),H}getOperatorList({intent:t="display",annotationMode:n=So.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(d))}const o=this._transport.getRenderingIntent(t,n,i,r,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let d;return c.opListReadCapability||(d=Object.create(null),d.operatorListChanged=a,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageId:this.#e.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Vh.textContent(i));const n=this.streamTextContent(t);return new Promise(function(i,r){function a(){o.read().then(function({value:d,done:f}){if(f){i(c);return}c.lang??=d.lang,Object.assign(c.styles,d.styles),c.items.push(...d.items),a()},r)}const o=n.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)t.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const n=this.#i();return t&&n&&(this._stats&&=new gN),n}#i(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,n){const i=this._intentStates.get(n);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(t))}_renderPageChunk(t,n){for(let i=0,r=t.length;i<r;i++)n.operatorList.fnArray.push(t.fnArray[i]),n.operatorList.argsArray.push(t.argsArray[i]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();t.lastChunk&&this.#i()}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:i,modifiedIds:r}){const{map:a,transfer:o}=i,d=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageId:this.#e.getPageId(this._pageIndex+1)-1,pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:a,modifiedIds:r},o).getReader(),f=this._intentStates.get(n);f.streamReader=d;const p=()=>{d.read().then(({value:m,done:y})=>{if(y){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,f),p())},m=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const y of f.renderTasks)y.operatorListChanged();this.#i()}if(f.displayReadyCapability)f.displayReadyCapability.reject(m);else if(f.opListReadCapability)f.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:n,force:i=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof PA){let r=Dnt;n.extraDelay>0&&n.extraDelay<1e3&&(r+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},r);return}}if(t.streamReader.cancel(new Ro(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[r,a]of this._intentStates)if(a===t){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Eo,Gr,gs,Hl,Fg,$l,Gl,Ei,jm,YI,KI,Ah,Au,Lm;const Ve=class Ve{constructor({name:t=null,port:n=null,verbosity:i=pet()}={}){va(this,Ei);va(this,Eo,Promise.withResolvers());va(this,Gr,null);va(this,gs,null);va(this,Hl,null);if(this.name=t,this.destroyed=!1,this.verbosity=i,n){if(qe(Ve,Gl).has(n))throw new Error("Cannot use more than one PDFWorker per port.");qe(Ve,Gl).set(n,this),ya(this,Ei,YI).call(this,n)}else ya(this,Ei,KI).call(this)}get promise(){return qe(this,Eo).promise}get port(){return qe(this,gs)}get messageHandler(){return qe(this,Gr)}destroy(){this.destroyed=!0,qe(this,Hl)?.terminate(),Fi(this,Hl,null),qe(Ve,Gl).delete(qe(this,gs)),Fi(this,gs,null),qe(this,Gr)?.destroy(),Fi(this,Gr,null)}static create(t){const n=qe(this,Gl).get(t?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Ve(t)}static get workerSrc(){if(wu.workerSrc)return wu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $t(this,"_setupFakeWorkerGlobal",(async()=>qe(this,Au,Lm)?qe(this,Au,Lm):(await import(this.workerSrc)).WorkerMessageHandler)())}};Eo=new WeakMap,Gr=new WeakMap,gs=new WeakMap,Hl=new WeakMap,Fg=new WeakMap,$l=new WeakMap,Gl=new WeakMap,Ei=new WeakSet,jm=function(){qe(this,Eo).resolve(),qe(this,Gr).send("configure",{verbosity:this.verbosity})},YI=function(t){Fi(this,gs,t),Fi(this,Gr,new wh("main","worker",t)),qe(this,Gr).on("ready",()=>{}),ya(this,Ei,jm).call(this)},KI=function(){if(qe(Ve,$l)||qe(Ve,Au,Lm)){ya(this,Ei,Ah).call(this);return}let{workerSrc:t}=Ve;try{Ve._isSameOrigin(window.location,t)||(t=Ve._createCDNWrapper(new URL(t,window.location).href));const n=new Worker(t,{type:"module"}),i=new wh("main","worker",n),r=()=>{a.abort(),i.destroy(),n.terminate(),this.destroyed?qe(this,Eo).reject(new Error("Worker was destroyed")):ya(this,Ei,Ah).call(this)},a=new AbortController;n.addEventListener("error",()=>{qe(this,Hl)||r()},{signal:a.signal}),i.on("test",c=>{if(a.abort(),this.destroyed||!c){r();return}Fi(this,Gr,i),Fi(this,gs,n),Fi(this,Hl,n),ya(this,Ei,jm).call(this)}),i.on("ready",c=>{if(a.abort(),this.destroyed){r();return}try{o()}catch{ya(this,Ei,Ah).call(this)}});const o=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};o();return}catch{$v("The worker has been disabled.")}ya(this,Ei,Ah).call(this)},Ah=function(){qe(Ve,$l)||(Ht("Setting up fake worker."),Fi(Ve,$l,!0)),Ve._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){qe(this,Eo).reject(new Error("Worker was destroyed"));return}const n=new qet;Fi(this,gs,n);const i=`fake${zC(Ve,Fg)._++}`,r=new wh(i+"_worker",i,n);t.setup(r,n),Fi(this,Gr,new wh(i,i+"_worker",n)),ya(this,Ei,jm).call(this)}).catch(t=>{qe(this,Eo).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Au=new WeakSet,Lm=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},va(Ve,Au),va(Ve,Fg,0),va(Ve,$l,!1),va(Ve,Gl,new WeakMap),wi&&(Fi(Ve,$l,!0),wu.workerSrc||="./pdf.worker.mjs"),Ve._isSameOrigin=(t,n)=>{const i=URL.parse(t);if(!i?.origin||i.origin==="null")return!1;const r=new URL(n,i);return i.origin===r.origin},Ve._createCDNWrapper=t=>{const n=`await import("${t}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Ve.fromPort=t=>{if(Tet("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ve.create(t)};let Wh=Ve;class Rnt{downloadInfoCapability=Promise.withResolvers();#t=null;#e=new Map;#i=null;#n=new Map;#a=new Map;#s=new Map;#r=null;#o=ve.instance;constructor(t,n,i,r,a){this.messageHandler=t,this.loadingTask=n,this.#i=i,this.commonObjs=new qI,this.fontLoader=new Bet({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.enableHWA=r.enableHWA,this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this.setupMessageHandler(),this.#o.addListener(this.#c.bind(this))}#c(){const t=new Map,n=new Map;for(let i=0,r=this.#o.pagesNumber;i<r;i++){const a=this.#o.getPrevPageNumber(i+1)-1,o=this.#n.get(a);o&&t.set(i,o);const c=this.#a.get(a);c&&n.set(i,c)}this.#n=t,this.#a=n}#l(t,n=null){const i=this.#e.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise(t,n);return this.#e.set(t,r),r}#h({loaded:t,total:n}){this.loadingTask.onProgress?.({loaded:t,total:n,percent:oi(Math.round(t/n*100),0,100)})}get annotationStorage(){return $t(this,"annotationStorage",new DA)}getRenderingIntent(t,n=So.ENABLE,i=null,r=!1,a=!1){let o=nr.DISPLAY,c=lw;switch(t){case"any":o=nr.ANY;break;case"display":break;case"print":o=nr.PRINT;break;default:Ht(`getRenderingIntent - invalid intent: ${t}`)}const d=o&nr.PRINT&&i instanceof MI?i:this.annotationStorage;switch(n){case So.DISABLE:o+=nr.ANNOTATIONS_DISABLE;break;case So.ENABLE:break;case So.ENABLE_FORMS:o+=nr.ANNOTATIONS_FORMS;break;case So.ENABLE_STORAGE:o+=nr.ANNOTATIONS_STORAGE,c=d.serializable;break;default:Ht(`getRenderingIntent - invalid annotationMode: ${n}`)}r&&(o+=nr.IS_EDITING),a&&(o+=nr.OPLIST);const{ids:f,hash:p}=d.modifiedIds,m=[o,c.hash,p];return{renderingIntent:o,cacheKey:m.join("_"),annotationStorageSerializable:c,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of this.#n.values())t.push(i._destroy());this.#n.clear(),this.#a.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),ir.cleanup(),this.#i?.cancelAllRequests(new Ro("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(i,r)=>{be(this.#i,"GetReader - no `BasePDFStream` instance available."),this.#t=this.#i.getFullReader(),this.#t.onProgress=a=>this.#h(a),r.onPull=()=>{this.#t.read().then(function({value:a,done:o}){if(o){r.close();return}be(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{this.#t.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async i=>{await this.#t.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:o}=this.#t;return r&&a&&(this.#t.onProgress=null),{isStreamingSupported:r,isRangeSupported:a,contentLength:o}}),t.on("GetRangeReader",(i,r)=>{be(this.#i,"GetRangeReader - no `BasePDFStream` instance available.");const a=this.#i.getRangeReader(i.begin,i.end);if(!a){r.close();return}r.onPull=()=>{a.read().then(function({value:o,done:c}){if(c){r.close();return}be(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{a.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:i})=>{this.#o.pagesNumber=i.numPages,this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new jnt(i,this))}),t.on("DocException",i=>{n._capability.reject(Ui(i))}),t.on("PasswordRequest",i=>{this.#r=Promise.withResolvers();try{if(!n.onPassword)throw Ui(i);const r=a=>{a instanceof Error?this.#r.reject(a):this.#r.resolve({password:a})};n.onPassword(r,i.code)}catch(r){this.#r.reject(r)}return this.#r.promise}),t.on("DataLoaded",i=>{this.#h({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),t.on("StartRenderPage",i=>{if(this.destroyed)return;this.#n.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),t.on("commonobj",([i,r,a])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in a){const m=a.error;Ht(`Error during font loading: ${m}`),this.commonObjs.resolve(i,m);break}const o=new ke(a),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(m,y)=>globalThis.FontInspector.fontAdded(m,y):null,d=new zet(o,c,a.extra,a.charProcOperatorList);this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:f}=a;be(f,"The imageRef must be defined.");for(const m of this.#n.values())for(const[,y]of m.objs)if(y?.ref===f)return y.dataLen?(this.commonObjs.resolve(i,structuredClone(y)),y.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new Fet(a));break;case"Image":this.commonObjs.resolve(i,a);break;case"Pattern":const p=new Wn(a);this.commonObjs.resolve(i,p.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),t.on("obj",([i,r,a,o])=>{if(this.destroyed)return;const c=this.#n.get(r);if(!c.objs.has(i)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(a){case"Image":case"Pattern":c.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",i=>{this.destroyed||this.#h(i)}),t.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ht("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this.#t?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this.#o.pagesNumber)return Promise.reject(new Error("Invalid page request."));const n=t-1,i=this.#o.getPageId(t)-1,r=this.#a.get(n);if(r)return r;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#s.set(o.refStr,i);const c=new Lnt(n,o,this,this._params.pdfBug);return this.#n.set(n,c),c});return this.#a.set(n,a),a}async getPageIndex(t){if(!cw(t))throw new Error("Invalid pageIndex request.");const n=await this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen});return this.#o.getPageNumber(n+1)-1}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:this.#o.getPageId(t+1)-1,intent:n})}getFieldObjects(){return this.#l("GetFieldObjects")}hasJSActions(){return this.#l("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:n})}getDocJSActions(){return this.#l("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:this.#o.getPageId(t+1)-1})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:this.#o.getPageId(t+1)-1})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#l("GetOptionalContentConfig").then(n=>new mnt(n,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",n=this.#e.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,null).then(r=>({info:r[0],metadata:r[1]?new fnt(r[1]):null,contentDispositionFilename:this.#t?.filename??null,contentLength:this.#t?.contentLength??null,hasStructTree:r[2]}));return this.#e.set(t,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#n.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),ir.cleanup()}}cachedPageNumber(t){if(!cw(t))return null;const n=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`,i=this.#s.get(n);return i>=0?this.#o.getPageNumber(i+1):null}}class Int{_internalRenderTask=null;onContinue=null;onError=null;constructor(t){this._internalRenderTask=t}get promise(){return this._internalRenderTask.capability.promise}cancel(t=0){this._internalRenderTask.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this._internalRenderTask.operatorList;if(!t)return!1;const{annotationCanvasMap:n}=this._internalRenderTask;return t.form||t.canvas&&n?.size>0}}class pu{#t=null;static#e=new WeakSet;constructor({callback:t,params:n,objs:i,commonObjs:r,annotationCanvasMap:a,operatorList:o,pageIndex:c,canvasFactory:d,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:m=!1,pageColors:y=null,enableHWA:b=!1,operationsFilter:A=null}){this.callback=t,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=f,this._pdfBug=m,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Int(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=b,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(pu.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");pu.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:a,dependencyTracker:o}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new _u(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),pu.#e.delete(this._canvas),t||=new PA(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),pu.#e.delete(this._canvas),this.callback())))}}const Bnt="5.4.624",znt="384c6208b";class Cr{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return $t(this,"_keyboardManager",new Ef([[["Escape","mac+Escape"],Cr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Cr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Cr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Cr.prototype._moveToPrevious],[["Home","mac+Home"],Cr.prototype._moveToBeginning],[["End","mac+End"],Cr.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:n=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||n,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Cr.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const n=this.#l._signal;t.addEventListener("click",this.#m.bind(this),{signal:n}),t.addEventListener("keydown",this.#g.bind(this),{signal:n});const i=this.#e=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,t.append(i),t}renderMainDropdown(){const t=this.#n=this.#d();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#d(){const t=document.createElement("div"),n=this.#l._signal;t.addEventListener("contextmenu",Nr,{signal:n}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",r),a.title=i,a.setAttribute("data-l10n-id",Cr.#h[i]);const o=document.createElement("span");a.append(o),o.className="swatch",o.style.backgroundColor=r,a.ariaSelected=r===this.#i,a.addEventListener("click",this.#f.bind(this,r),{signal:n}),t.append(a)}return t.addEventListener("keydown",this.#g.bind(this),{signal:n}),t}#f(t,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:oe.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#m(t);return}const n=t.target.getAttribute("data-color");n&&this.#f(n,t)}_moveToNext(t){if(!this.#p){this.#m(t);return}if(t.target===this.#t){this.#n.firstElementChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstElementChild||t.target===this.#t){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#p){this.#m(t);return}this.#n.firstElementChild?.focus()}_moveToEnd(t){if(!this.#p){this.#m(t);return}this.#n.lastElementChild?.focus()}#g(t){Cr._keyboardManager.exec(this,t)}#m(t){if(this.#p){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#t.append(n)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const n=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=n.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Yh{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Yh.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:n,color:i}=this.#e,r=this.#t=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Yh.#n[t]),r.addEventListener("input",()=>{this.#i.updateParams(n,r.value)},{signal:this.#i._signal}),r}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function FN(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}function mh(e){return Math.max(0,Math.min(255,255*e))}class UN{static CMYK_G([t,n,i,r]){return["G",1-Math.min(1,.3*t+.59*i+.11*n+r)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=mh(t),[t,t,t]}static G_HTML([t]){const n=FN(t);return`#${n}${n}${n}`}static RGB_G([t,n,i]){return["G",.3*t+.59*n+.11*i]}static RGB_rgb(t){return t.map(mh)}static RGB_HTML(t){return`#${t.map(FN).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,n,i,r]){return["RGB",1-Math.min(1,t+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb([t,n,i,r]){return[mh(1-Math.min(1,t+r)),mh(1-Math.min(1,i+r)),mh(1-Math.min(1,n+r))]}static CMYK_HTML(t){const n=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([t,n,i]){const r=1-t,a=1-n,o=1-i,c=Math.min(r,a,o);return["CMYK",r,a,o,c]}}class Fnt{create(t,n,i=!1){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${t}px`),r.setAttribute("height",`${n}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${t} ${n}`),r}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){xe("Abstract method `_createSVG` called.")}}class zg extends Fnt{_createSVG(t){return document.createElementNS(fs,t)}}const Unt=9,sc=new WeakSet,Hnt=new Date().getTimezoneOffset()*60*1e3;class Zx{static create(t){switch(t.data.annotationType){case Tn.LINK:return new BA(t);case Tn.TEXT:return new Gnt(t);case Tn.WIDGET:switch(t.data.fieldType){case"Tx":return new qnt(t);case"Btn":return t.data.radioButton?new ZI(t):t.data.checkBox?new Wnt(t):new Ynt(t);case"Ch":return new Knt(t);case"Sig":return new Vnt(t)}return new uc(t);case Tn.POPUP:return new hw(t);case Tn.FREETEXT:return new XI(t);case Tn.LINE:return new Xnt(t);case Tn.SQUARE:return new Qnt(t);case Tn.CIRCLE:return new Jnt(t);case Tn.POLYLINE:return new QI(t);case Tn.CARET:return new eit(t);case Tn.INK:return new zA(t);case Tn.POLYGON:return new tit(t);case Tn.HIGHLIGHT:return new JI(t);case Tn.UNDERLINE:return new nit(t);case Tn.SQUIGGLY:return new iit(t);case Tn.STRIKEOUT:return new rit(t);case Tn.STAMP:return new tB(t);case Tn.FILEATTACHMENT:return new ait(t);default:return new Qe(t)}}}class Qe{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:n}){return!!(t?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Qe._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,n=this.annotationStorage?.getEditor(t.id);return n?n.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:n,inkLists:i,rect:r}=this.data;let a=-1/0,o=-1/0;if(n?.length>=8){for(let c=0;c<n.length;c+=8)n[c+1]>o?(o=n[c+1],a=n[c+2]):n[c+1]===o&&(a=Math.max(a,n[c+2]));return[a,o]}if(i?.length>=1){for(const c of i)for(let d=0,f=c.length;d<f;d+=2)c[d+1]>o?(o=c[d+1],a=c[d]):c[d+1]===o&&(a=Math.max(a,c[d]));if(a!==1/0)return[a,o]}return r?[r[2],r[3]]:null}_normalizePoint(t){const{page:{view:n},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:o}}}=this.parent;return t[1]=n[3]-t[1]+n[1],t[0]=100*(t[0]-a)/i,t[1]=100*(t[1]-o)/r,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Gh}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:n}=this,i={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(n.id,{popup:i})||this.annotationStorage.setValue(`${Gh}${n.id}`,{id:n.id,annotationType:n.annotationType,page:this.parent.page,popup:i,popupRef:n.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:n,popup:i}=t;n&&this.#n(n);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(t),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:n},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:o,pageX:c,pageY:d}}}}=this;i?.splice(0,4,...t),n.left=`${100*(t[0]-c)/a}%`,n.top=`${100*(o-t[3]+d)/o}%`,r===0?(n.width=`${100*(t[2]-t[0])/a}%`,n.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(r)}_createContainer(t){const{data:n,parent:{page:i,viewport:r}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof uc)&&!(this instanceof BA)&&(a.tabIndex=0);const{style:o}=a;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof hw){const{rotation:w}=n;return!n.hasOwnCanvas&&w!==0&&this.setRotation(w,a),a}const{width:c,height:d}=this;if(!t&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const w=n.borderStyle.horizontalCornerRadius,C=n.borderStyle.verticalCornerRadius;if(w>0||C>0){const k=`calc(${w}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;o.borderRadius=k}else if(this instanceof ZI){const k=`calc(${c}px * var(--total-scale-factor)) / calc(${d}px * var(--total-scale-factor))`;o.borderRadius=k}switch(n.borderStyle.style){case su.SOLID:o.borderStyle="solid";break;case su.DASHED:o.borderStyle="dashed";break;case su.BEVELED:Ht("Unimplemented border style: beveled");break;case su.INSET:Ht("Unimplemented border style: inset");break;case su.UNDERLINE:o.borderBottomStyle="solid";break}const O=n.borderColor||null;O?(this.#e=!0,o.borderColor=Ct.makeHexColor(O[0]|0,O[1]|0,O[2]|0)):o.borderWidth=0}const f=Ct.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:p,pageHeight:m,pageX:y,pageY:b}=r.rawDims;o.left=`${100*(f[0]-y)/p}%`,o.top=`${100*(f[1]-b)/m}%`;const{rotation:A}=n;return n.hasOwnCanvas||A===0?(o.width=`${100*c/p}%`,o.height=`${100*d/m}%`):this.setRotation(A,a),a}setRotation(t,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:a,height:o}=this;t%180!==0&&([a,o]=[o,a]),n.style.width=`${100*a/i}%`,n.style.height=`${100*o/r}%`,n.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(n,i,r)=>{const a=r.detail[n],o=a[0],c=a.slice(1);r.target.style[i]=UN[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:UN[`${o}_rgb`](c)})};return $t(this,"_commonActions",{display:n=>{const{display:i}=n.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{t("bgColor","backgroundColor",n)},fillColor:n=>{t("fillColor","backgroundColor",n)},fgColor:n=>{t("fgColor","color",n)},textColor:n=>{t("textColor","color",n)},borderColor:n=>{t("borderColor","borderColor",n)},strokeColor:n=>{t("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(t,n){const i=this._commonActions;for(const r of Object.keys(n.detail))(t[r]||i[r])?.(n)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[r,a]of Object.entries(n)){const o=i[r];if(o){const c={detail:{[r]:a},target:t};o(c),delete n[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[n,i,r,a]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,C,O,k]=t.subarray(2,6);if(r===w&&a===C&&n===O&&i===k)return}const{style:o}=this.container;let c;if(this.#e){const{borderColor:w,borderWidth:C}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const d=r-n,f=a-i,{svgFactory:p}=this,m=p.createElement("svg");m.classList.add("quadrilateralsContainer"),m.setAttribute("width",0),m.setAttribute("height",0),m.role="none";const y=p.createElement("defs");m.append(y);const b=p.createElement("clipPath"),A=`clippath_${this.data.id}`;b.setAttribute("id",A),b.setAttribute("clipPathUnits","objectBoundingBox"),y.append(b);for(let w=2,C=t.length;w<C;w+=8){const O=t[w],k=t[w+1],M=t[w+2],j=t[w+3],I=p.createElement("rect"),R=(M-n)/d,z=(a-k)/f,H=(O-M)/d,W=(k-j)/f;I.setAttribute("x",R),I.setAttribute("y",z),I.setAttribute("width",H),I.setAttribute("height",W),b.append(I),c?.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${z}" width="${H}" height="${W}"/>`)}this.#e&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(m),this.container.style.clipPath=`url(#${A})`}_createPopup(t=null){const{data:n}=this;let i,r;t?(i={str:t.text},r=t.date):(i=n.contentsObj,r=n.modificationDate),this.#i=new hw({data:{color:n.color,titleObj:n.titleObj,modificationDate:r,contentsObj:i,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){xe("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,n=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[t];if(r)for(const{page:a,id:o,exportValues:c}of r){if(a===-1||o===n)continue;const d=typeof c=="string"?c:null,f=document.querySelector(`[data-element-id="${o}"]`);if(f&&!sc.has(f)){Ht(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:d,domElement:f})}return i}for(const r of document.getElementsByName(t)){const{exportValue:a}=r,o=r.getAttribute("data-element-id");o!==n&&sc.has(r)&&i.push({id:o,exportValue:a,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const n of t)n.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class $nt extends Qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class BA extends Qe{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let r=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),r=!0):t.attachment?(this.#e(i,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(this.#i(i,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),r=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=i,this.container.append(i)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,n,i=""){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#t(),i&&(t.title=i)}_bindNamedAction(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),i&&(t.title=i),this.#t()}#e(t,n,i="",r=null){t.href=this.linkService.getAnchorUrl(""),n.description?t.title=n.description:i&&(t.title=i),t.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,r),!1),this.#t()}#i(t,n,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),i&&(t.title=i),this.#t()}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(n.actions)){const a=i.get(r);a&&(t[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:r}}),!1))}n.overlaidText&&(t.title=n.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Ht('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{i?.();const{fields:r,refs:a,include:o}=n,c=[];if(r.length!==0||a.length!==0){const p=new Set(a);for(const m of r){const y=this._fieldObjects[m]||[];for(const{id:b}of y)p.add(b)}for(const m of Object.values(this._fieldObjects))for(const y of m)p.has(y.id)===o&&c.push(y)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const d=this.annotationStorage,f=[];for(const p of c){const{id:m}=p;switch(f.push(m),p.type){case"text":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;d.setValue(m,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";d.setValue(m,{value:b});break}default:continue}const y=document.querySelector(`[data-element-id="${m}"]`);if(y){if(!sc.has(y)){Ht(`_bindResetFormAction - element not allowed: ${m}`);continue}}else continue;y.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class Gnt extends Qe{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class uc extends Qe{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Rn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,n,i,r,a){i.includes("mouse")?t.addEventListener(i,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(i,o=>{if(i==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(o)}})})}_setEventListeners(t,n,i,r){for(const[a,o]of i)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(n||={focused:!1}),this._setEventListener(t,n,a,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,n,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,n,"focus","Focus",null))}_setBackgroundColor(t){const n=this.data.backgroundColor||null;t.style.backgroundColor=n===null?"transparent":Ct.makeHexColor(n[0],n[1],n[2])}_setTextStyle(t){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||Unt,a=t.style;let o;const c=2,d=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(f/($x*r))||1,m=f/p;o=Math.min(r,d(m/$x))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(r,d(f/$x))}a.fontSize=`calc(${o}px * var(--total-scale-factor))`,a.color=Ct.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(t,n){n?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",n)}}class qnt extends uc{constructor(t){const n=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:n})}setPropertyOnSiblings(t,n,i,r){const a=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[n]=i),a.setValue(o.id,{[r]:i})}render(){const t=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=t.getValue(n,{value:this.data.fieldValue});let a=r.value||"";const o=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),sc.add(i),this.contentElement=i,i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:p,timeStep:m}=this.data,y=!!p&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),o&&(i.maxLength=o),i.addEventListener("input",A=>{t.setValue(n,{value:A.target.value}),this.setPropertyOnSiblings(i,"value",A.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",A=>{const w=this.data.defaultFieldValue??"";i.value=d.userValue=w,d.formattedValue=null});let b=A=>{const{formattedValue:w}=d;w!=null&&(A.target.value=w),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",w=>{if(d.focused)return;const{target:C}=w;if(y&&(C.type=p,m&&(C.step=m)),d.userValue){const O=d.userValue;if(y)if(p==="time"){const k=new Date(O),M=[k.getHours(),k.getMinutes(),k.getSeconds()];C.value=M.map(j=>j.toString().padStart(2,"0")).join(":")}else C.value=new Date(O-Hnt).toISOString().split(p==="date"?"T":".",1)[0];else C.value=O}d.lastCommittedValue=C.value,d.commitKey=1,this.data.actions?.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const C={value(O){d.userValue=O.detail.value??"",y||t.setValue(n,{value:d.userValue.toString()}),O.target.value=d.userValue},formattedValue(O){const{formattedValue:k}=O.detail;d.formattedValue=k,k!=null&&O.target!==document.activeElement&&(O.target.value=k);const M={formattedValue:k};y&&(M.value=k),t.setValue(n,M)},selRange(O){O.target.setSelectionRange(...O.detail.selRange)},charLimit:O=>{const{charLimit:k}=O.detail,{target:M}=O;if(k===0){M.removeAttribute("maxLength");return}M.setAttribute("maxLength",k);let j=d.userValue;!j||j.length<=k||(j=j.slice(0,k),M.value=d.userValue=j,t.setValue(n,{value:j}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:M.selectionStart,selEnd:M.selectionEnd}}))}};this._dispatchEventFromSandbox(C,w)}),i.addEventListener("keydown",w=>{d.commitKey=1;let C=-1;if(w.key==="Escape"?C=0:w.key==="Enter"&&!this.data.multiLine?C=2:w.key==="Tab"&&(d.commitKey=3),C===-1)return;const{value:O}=w.target;d.lastCommittedValue!==O&&(d.lastCommittedValue=O,d.userValue=O,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:O,willCommit:!0,commitKey:C,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const A=b;b=null,i.addEventListener("blur",w=>{if(!d.focused||!w.relatedTarget)return;this.data.actions?.Blur||(d.focused=!1);const{target:C}=w;let{value:O}=C;if(y){if(O&&p==="time"){const k=O.split(":").map(M=>parseInt(M,10));O=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),C.step=""}else O.includes("T")||(O=`${O}T00:00`),O=new Date(O).valueOf();C.type="text"}d.userValue=O,d.lastCommittedValue!==O&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:O,willCommit:!0,commitKey:d.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}),A(w)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",w=>{d.lastCommittedValue=null;const{data:C,target:O}=w,{value:k,selectionStart:M,selectionEnd:j}=O;let I=M,R=j;switch(w.inputType){case"deleteWordBackward":{const z=k.substring(0,M).match(/\w*[^\w]*$/);z&&(I-=z[0].length);break}case"deleteWordForward":{const z=k.substring(M).match(/^[^\w]*\w*/);z&&(R+=z[0].length);break}case"deleteContentBackward":M===j&&(I-=1);break;case"deleteContentForward":M===j&&(R+=1);break}w.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:k,change:C||"",willCommit:!1,selStart:I,selEnd:R}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(b&&i.addEventListener("blur",b),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/o;i.classList.add("comb"),i.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Vnt extends uc{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Wnt extends uc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,n=this.data,i=n.id;let r=t.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",t.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return sc.add(a),a.setAttribute("data-element-id",i),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",o=>{const{name:c,checked:d}=o.target;for(const f of this._getElementsByName(c,i)){const p=d&&f.exportValue===n.exportValue;f.domElement&&(f.domElement.checked=p),t.setValue(f.id,{value:p})}t.setValue(i,{value:d})}),a.addEventListener("resetform",o=>{const c=n.defaultFieldValue||"Off";o.target.checked=c===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",o=>{const c={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(i,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class ZI extends uc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,n=this.data,i=n.id;let r=t.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof r=="string"&&(r=r!==n.buttonValue,t.setValue(i,{value:r})),r)for(const o of this._getElementsByName(n.fieldName,i))t.setValue(o.id,{value:!1});const a=document.createElement("input");if(sc.add(a),a.setAttribute("data-element-id",i),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,r&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",o=>{const{name:c,checked:d}=o.target;for(const f of this._getElementsByName(c,i))t.setValue(f.id,{value:!1});t.setValue(i,{value:d})}),a.addEventListener("resetform",o=>{const c=n.defaultFieldValue;o.target.checked=c!=null&&c===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;a.addEventListener("updatefromsandbox",c=>{const d={value:f=>{const p=o===f.detail.value;for(const m of this._getElementsByName(f.target.name)){const y=p&&m.id===i;m.domElement&&(m.domElement.checked=y),t.setValue(m.id,{value:y})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Ynt extends BA{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const n=t.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),t}}class Knt extends uc{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,n=this.data.id,i=t.getValue(n,{value:this.data.fieldValue}),r=document.createElement("select");sc.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue;for(const y of r.options)y.selected=y.value===m});for(const p of this.data.options){const m=document.createElement("option");m.textContent=p.displayValue,m.value=p.exportValue,i.value.includes(p.exportValue)&&(m.setAttribute("selected",!0),a=!1),r.append(m)}let o=null;if(a){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),r.prepend(p),o=()=>{p.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const c=p=>{const m=p?"value":"textContent",{options:y,multiple:b}=r;return b?Array.prototype.filter.call(y,A=>A.selected).map(A=>A[m]):y.selectedIndex===-1?null:y[y.selectedIndex][m]};let d=c(!1);const f=p=>{const m=p.target.options;return Array.prototype.map.call(m,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",p=>{const m={value(y){o?.();const b=y.detail.value,A=new Set(Array.isArray(b)?b:[b]);for(const w of r.options)w.selected=A.has(w.value);t.setValue(n,{value:c(!0)}),d=c(!1)},multipleSelection(y){r.multiple=!0},remove(y){const b=r.options,A=y.detail.remove;b[A].selected=!1,r.remove(A),b.length>0&&Array.prototype.findIndex.call(b,C=>C.selected)===-1&&(b[0].selected=!0),t.setValue(n,{value:c(!0),items:f(y)}),d=c(!1)},clear(y){for(;r.length!==0;)r.remove(0);t.setValue(n,{value:null,items:[]}),d=c(!1)},insert(y){const{index:b,displayValue:A,exportValue:w}=y.detail.insert,C=r.children[b],O=document.createElement("option");O.textContent=A,O.value=w,C?C.before(O):r.append(O),t.setValue(n,{value:c(!0),items:f(y)}),d=c(!1)},items(y){const{items:b}=y.detail;for(;r.length!==0;)r.remove(0);for(const A of b){const{displayValue:w,exportValue:C}=A,O=document.createElement("option");O.textContent=w,O.value=C,r.append(O)}r.options.length>0&&(r.options[0].selected=!0),t.setValue(n,{value:c(!0),items:f(y)}),d=c(!1)},indices(y){const b=new Set(y.detail.indices);for(const A of y.target.options)A.selected=b.has(A.index);t.setValue(n,{value:c(!0)}),d=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(m,p)}),r.addEventListener("input",p=>{const m=c(!0),y=c(!1);t.setValue(n,{value:m}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:d,change:y,changeEx:m,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):r.addEventListener("input",function(p){t.setValue(n,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class hw extends Qe{constructor(t){const{data:n,elements:i,parent:r}=t,a=!!r._commentManager;if(super(t,{isRenderable:!a&&Qe._hasPopupData(n)}),this.elements=i,a&&Qe._hasPopupData(n)){const o=this.popup=this.#t();for(const c of i)c.popup=o}else this.popup=null}#t(){return new Znt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=this.#t(),i=[];for(const r of this.elements)r.popup=n,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${hu}${r}`).join(",")),this.container}}class Znt{#t=null;#e=this.#G.bind(this);#i=this.#z.bind(this);#n=this.#D.bind(this);#a=this.#w.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#E=null;#A=null;#_=null;#T=!1;#x=null;#S=null;constructor({container:t,color:n,elements:i,titleObj:r,modificationDate:a,contentsObj:o,richText:c,parent:d,rect:f,parentRect:p,open:m,commentManager:y=null}){this.#r=t,this.#A=r,this.#o=o,this.#E=c,this.#h=d,this.#s=n,this.#y=f,this.#d=p,this.#l=i,this.#t=y,this.#x=i[0],this.#c=aw.toDateObject(a),this.trigger=i.flatMap(b=>b.getElementsToTriggerPopup()),y||(this.#M(),this.#r.hidden=!0,m&&this.#w())}#M(){if(this.#m)return;this.#m=new AbortController;const{signal:t}=this.#m;for(const n of this.trigger)n.addEventListener("click",this.#a,{signal:t}),n.addEventListener("pointerenter",this.#n,{signal:t}),n.addEventListener("pointerleave",this.#i,{signal:t}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#e,{signal:t})}#O(){const t=this.#l.find(n=>n.hasCommentButton);t&&(this.#v=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#v||this.#O(),!this.#v)return;const{signal:t}=this.#m=new AbortController,n=this.#x.hasOwnCommentButton,i=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!n)},r=()=>{this.#t.toggleCommentPopup(this,!1,!0,!n)},a=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(n){this.#p=this.#x.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#e,{signal:t}),o.addEventListener("click",i,{signal:t}),o.addEventListener("pointerenter",r,{signal:t}),o.addEventListener("pointerleave",a,{signal:t}),o.classList.add("popupTriggerArea")}else{const o=this.#p=document.createElement("button");o.className="annotationCommentButton";const c=this.#x.container;o.style.zIndex=c.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#P(),o.addEventListener("keydown",this.#e,{signal:t}),o.addEventListener("click",i,{signal:t}),o.addEventListener("pointerenter",r,{signal:t}),o.addEventListener("pointerleave",a,{signal:t}),c.after(o)}}#P(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[t,n]=this.#v,{style:i}=this.#p;i.left=`calc(${t}%)`,i.top=`calc(${n}% - var(--comment-button-dim))`}#I(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:n}=this.#x.commentData;return t?this.#h._commentManager.makeCommentColor(t,n):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:t,color:n,opacity:i,creationDate:r,modificationDate:a}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:t,color:n,opacity:i,creationDate:r,modificationDate:a}}get elementBeforePopup(){return this.#p}get comment(){return this.#S||=this.#x.commentText,this.#S}set comment(t){t!==this.comment&&(this.#x.commentText=this.#S=t)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:n}){this.#p&&(this.#p.classList.toggle("selected",t),this.#p.ariaExpanded=n)}setSelectedCommentButton(t){this.#p.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:n,height:i}=this.#p.getBoundingClientRect(),{x:r,y:a,width:o,height:c}=this.#x.layer.getBoundingClientRect();return[(t-r)/o,(n+i-a)/c]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[n,i]=this.#b||this.commentButtonPosition.map(f=>f/100),r=this.parentBoundingClientRect,{x:a,y:o,width:c,height:d}=r;this.#t.showDialog(null,this,a+n*c,o+i*d,{...t,parentDimensions:r})}render(){if(this.#g)return;const t=this.#g=document.createElement("div");if(t.className="popup",this.#s){const i=t.style.outlineColor=Ct.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#A?.str){const i=document.createElement("span");i.className="title",n.append(i),{dir:i.dir,str:i.textContent}=this.#A}if(t.append(n),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),n.append(i)}CI({html:this.#k||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#k(){const t=this.#E,n=this.#o;return t?.str&&(!n?.str||n.str===t.str)&&this.#E.html||null}get#j(){return this.#k?.attributes?.style?.fontSize||0}get#B(){return this.#k?.attributes?.style?.color||null}#L(t){const n=[],i={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},r={style:{color:this.#B,fontSize:this.#j?`calc(${this.#j}px * var(--total-scale-factor))`:""}};for(const a of t.split(`
`))n.push({name:"span",value:a,attributes:r});return i}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:t,popup:n,deleted:i}){if(this.#t){i?(this.remove(),this.#S=null):n&&(n.deleted?this.remove():(this.#I(),this.#S=n.text)),t&&(this.#v=null,this.#O(),this.#P());return}if(i||n?.deleted){this.remove();return}this.#M(),this.#_||={contentsObj:this.#o,richText:this.#E},t&&(this.#u=null),n&&n.text&&(this.#E=this.#L(n.text),this.#c=aw.toDateObject(n.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#_&&({contentsObj:this.#o,richText:this.#E}=this.#_,this.#_=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#T=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}}=this.#h;let o=!!this.#d,c=o?this.#d:this.#y;for(const A of this.#l)if(!c||Ct.intersect(A.data.rect,c)!==null){c=A.data.rect,o=!0;break}const d=Ct.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=o?c[2]-c[0]+5:0,m=d[0]+p,y=d[1];this.#u=[100*(m-r)/n,100*(y-a)/i];const{style:b}=this.#r;b.left=`${this.#u[0]}%`,b.top=`${this.#u[1]}%`}#w(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#D(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#z(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#D(){this.#g||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#C(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#z(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#M(),this.#T&&(this.#g||this.#D(),this.#T=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class XI extends Qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Wt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,t.append(i)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Xnt extends Qe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:n,height:i}=this,r=this.svgFactory.create(n,i,!0),a=this.#t=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Qnt extends Qe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:n,height:i}=this,r=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Jnt extends Qe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:n,height:i}=this,r=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=this.#t=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class QI extends Qe{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:r},width:a,height:o}=this;if(!n)return this.container;const c=this.svgFactory.create(a,o,!0);let d=[];for(let p=0,m=n.length;p<m;p+=2){const y=n[p]-t[0],b=t[3]-n[p+1];d.push(`${y},${b}`)}d=d.join(" ");const f=this.#t=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",d),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class tit extends QI{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eit extends Qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class zA extends Qe{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Wt.HIGHLIGHT:Wt.INK}#i(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:r,popupRef:a}}=this,{transform:o,width:c,height:d}=this.#i(n,t),f=this.svgFactory.create(c,d,!0),p=this.#t=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",o);for(let m=0,y=i.length;m<y;m++){const b=this.svgFactory.createElement(this.svgElementName);this.#e.push(b),b.setAttribute("points",i[m].join(",")),p.append(b)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:r}=t,a=this.#t;if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,c=this.#e.length;o<c;o++)this.#e[o].setAttribute("points",i[o].join(","));if(r){const{transform:o,width:c,height:d}=this.#i(this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class JI extends Qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Wt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class nit extends Qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class iit extends Qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class rit extends Qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=t,this.container.append(i)}return this.container}}class tB extends Qe{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Wt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class ait extends Qe{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#e.bind(this)),this.#t=i;const{isMac:r}=Rn.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&this.#e()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class FA{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;#r=[];#o=!1;constructor({div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:a,viewport:o,structTreeLayer:c,commentManager:d,linkService:f,annotationStorage:p}){this.div=t,this.#t=n,this.#e=i,this.#a=c||null,this.#s=f||null,this.#i=p||new DA,this.page=a,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=d||null}hasEditableAnnotations(){return this.#n.size>0}async render(t){const{annotations:n}=t,i=this.div;ac(i,this.viewport);const r=new Map,a=[],o={data:null,layer:i,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new zg,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const d=c.annotationType===Tn.POPUP;if(d){const m=r.get(c.id);if(!m)continue;if(!this._commentManager){a.push(c);continue}o.elements=m}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const f=Zx.create(o);if(!f.isRenderable)continue;if(!d&&(this.#r.push(f),c.popupRef)){const m=r.get(c.popupRef);m?m.push(f):r.set(c.popupRef,[f])}const p=f.render();c.hidden&&(p.style.visibility="hidden"),f._isEditable&&(this.#n.set(f.data.id,f),this._annotationEditorUIManager?.renderAnnotationElement(f))}await this.#c();for(const c of a){const d=o.elements=r.get(c.id);o.data=c;const f=Zx.create(o);if(!f.isRenderable)continue;const p=f.render();f.contentElement.id=`${hu}${c.id}`,c.hidden&&(p.style.visibility="hidden"),d.at(-1).container.after(p)}this.#l()}async#c(){if(this.#r.length===0)return;this.div.replaceChildren();const t=[];if(!this.#o){this.#o=!0;for(const{contentElement:i,data:{id:r}}of this.#r){const a=i.id=`${hu}${r}`;t.push(this.#a?.getAriaAttributes(a).then(o=>{if(o)for(const[c,d]of o)i.setAttribute(c,d)}))}}this.#r.sort(({data:{rect:[i,r,a,o]}},{data:{rect:[c,d,f,p]}})=>{if(i===a&&r===o)return 1;if(c===f&&d===p)return-1;const m=o,y=r,b=(r+o)/2,A=p,w=d,C=(d+p)/2;if(b>=A&&C<=y)return-1;if(C>=m&&b<=w)return 1;const O=(i+a)/2,k=(c+f)/2;return O-k});const n=document.createDocumentFragment();for(const i of this.#r)n.append(i.container),this._commentManager?(i.extraPopupElement?.popup||i.popup)?.renderCommentButton():i.extraPopupElement&&n.append(i.extraPopupElement.render());if(this.div.append(n),await Promise.all(t),this.#t)for(const i of this.#r)this.#t.addPointerInTextLayer(i.contentElement,!1)}async addLinkAnnotations(t){const n={data:null,layer:this.div,linkService:this.#s,svgFactory:new zg,parent:this};for(const i of t){i.borderStyle||=FA._defaultBorderStyle,n.data=i;const r=Zx.create(n);r.isRenderable&&(r.render(),r.contentElement.id=`${hu}${i.id}`,this.#r.push(r))}await this.#c()}update({viewport:t}){const n=this.div;this.viewport=t,ac(n,{rotation:t.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[n,i]of this.#e){const r=t.querySelector(`[data-annotation-id="${n}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):r.append(i);const o=this.#n.get(n);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,r.id,i),o._hasNoCanvas=!1):o.canvas=i)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:n}=this,{id:i,rotation:r}=t,a=new $nt({data:{id:i,rect:t.getPDFRect(),rotation:r},editor:t,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i});return a.render(),a.contentElement.id=`${hu}${i}`,a.createOrUpdatePopup(),this.#r.push(a),a}removeAnnotation(t){const n=this.#r.findIndex(r=>r.data.id===t);if(n<0)return;const[i]=this.#r.splice(n,1);this.#t?.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const n of t)n.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return $t(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:su.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Em=/\r\n?|\n/g;class Yn extends Lt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=Yn.prototype,n=a=>a.isEmpty(),i=Io.TRANSLATE_SMALL,r=Io.TRANSLATE_BIG;return $t(this,"_keyboardManager",new Ef([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}]]))}static _type="freetext";static _editorType=Wt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||Yn._defaultColor||Lt._defaultLineColor,this.#n=t.fontSize||Yn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,n){Lt.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case oe.FREETEXT_SIZE:Yn._defaultFontSize=n;break;case oe.FREETEXT_COLOR:Yn._defaultColor=n;break}}updateParams(t,n){switch(t){case oe.FREETEXT_SIZE:this.#a(n);break;case oe.FREETEXT_COLOR:this.#s(n);break}}static get defaultPropertiesToUpdate(){return[[oe.FREETEXT_SIZE,Yn._defaultFontSize],[oe.FREETEXT_COLOR,Yn._defaultColor||Lt._defaultLineColor]]}get propertiesToUpdate(){return[[oe.FREETEXT_SIZE,this.#n],[oe.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Yh(this),[["colorPicker",this._colorPicker]]}get colorType(){return oe.FREETEXT_COLOR}#a(t){const n=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const n=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-Yn._internalPadding*t,-(Yn._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(Yn.#c(i)),n=i);return t.join(`
`)}#o(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,n=this.#t=this.#r().trimEnd();if(t===n)return;const i=r=>{if(this.#t=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Yn._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,n;(this._isCopy||this.annotationElementId)&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[f,p]=this.pageDimensions,[m,y]=this.pageTranslation;let b,A;switch(this.rotation){case 0:b=t+(o[0]-m)/f,A=n+this.height-(o[1]-y)/p;break;case 90:b=t+(o[0]-m)/f,A=n-(o[1]-y)/p,[c,d]=[d,-c];break;case 180:b=t-this.width+(o[0]-m)/f,A=n-(o[1]-y)/p,[c,d]=[-c,-d];break;case 270:b=t+(o[0]-m-this.height*p)/f,A=n+(o[1]-y-this.width*f)/p,[c,d]=[-d,c];break}this.setAt(b*r,A*a,c,d)}else this._moveAfterPaste(t,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Em,"")}editorDivPaste(t){const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const r=Yn.#d(n.getData("text")||"").replaceAll(Em,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:d}=o,f=[],p=[];if(c.nodeType===Node.TEXT_NODE){const b=c.parentElement;if(p.push(c.nodeValue.slice(d).replaceAll(Em,"")),b!==this.editorDiv){let A=f;for(const w of this.editorDiv.childNodes){if(w===b){A=p;continue}A.push(Yn.#c(w))}}f.push(c.nodeValue.slice(0,d).replaceAll(Em,""))}else if(c===this.editorDiv){let b=f,A=0;for(const w of this.editorDiv.childNodes)A++===d&&(b=p),b.push(Yn.#c(w))}this.#t=`${f.join(`
`)}${r}${p.join(`
`)}`,this.#l();const m=new Range;let y=Math.sumPrecise(f.map(b=>b.length));for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const A=b.nodeValue.length;if(y<=A){m.setStart(b,y),m.setEnd(b,y);break}y-=A}a.removeAllRanges(),a.addRange(m)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}}#h(){return this.#t.replaceAll(""," ")}static#d(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Yn._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){let r=null;if(t instanceof XI){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:d,rotation:f,id:p,popupRef:m,richText:y,contentsObj:b,creationDate:A,modificationDate:w},textContent:C,textPosition:O,parent:{page:{pageNumber:k}}}=t;if(!C||C.length===0)return null;r=t={annotationType:Wt.FREETEXT,color:Array.from(c),fontSize:o,value:C.join(`
`),position:O,pageIndex:k-1,rect:d.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:m,comment:b?.str||null,richText:y,creationDate:A,modificationDate:w}}const a=await super.deserialize(t,n,i);return a.#n=t.fontSize,a.color=Ct.makeHexColor(...t.color),a.#t=Yn.#d(t.value),a._initialData=r,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Lt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:n,fontSize:this.#n,value:this.#h()});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(t){const{value:n,fontSize:i,color:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,c)=>o!==r[c])||t.pageIndex!==a}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(!n)return null;const{style:i}=n;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,n.replaceChildren();for(const r of this.#t.split(`
`)){const a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),n.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class Ot{static PRECISION=1e-4;toSVGPath(){xe("Abstract method `toSVGPath` must be implemented.")}get box(){xe("Abstract getter `box` must be implemented.")}serialize(t,n){xe("Abstract method `serialize` must be implemented.")}static _rescale(t,n,i,r,a,o){o||=new Float32Array(t.length);for(let c=0,d=t.length;c<d;c+=2)o[c]=n+t[c]*r,o[c+1]=i+t[c+1]*a;return o}static _rescaleAndSwap(t,n,i,r,a,o){o||=new Float32Array(t.length);for(let c=0,d=t.length;c<d;c+=2)o[c]=n+t[c+1]*r,o[c+1]=i+t[c]*a;return o}static _translate(t,n,i,r){r||=new Float32Array(t.length);for(let a=0,o=t.length;a<o;a+=2)r[a]=n+t[a],r[a+1]=i+t[a+1];return r}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,n,i,r,a){switch(a){case 90:return[1-n/i,t/r];case 180:return[1-t/i,1-n/r];case 270:return[n/i,1-t/r];default:return[t/i,n/r]}}static _normalizePagePoint(t,n,i){switch(i){case 90:return[1-n,t];case 180:return[1-t,1-n];case 270:return[n,1-t];default:return[t,n]}}static createBezierPoints(t,n,i,r,a,o){return[(t+5*i)/6,(n+5*r)/6,(5*i+a)/6,(5*r+o)/6,(i+a)/2,(r+o)/2]}}class Ul{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#h;#d;#f=[];static#g=8;static#m=2;static#u=Ul.#g+Ul.#m;constructor({x:t,y:n},i,r,a,o,c=0){this.#t=i,this.#d=a*r,this.#n=o,this.#s.set([NaN,NaN,NaN,NaN,t,n],6),this.#i=c,this.#l=Ul.#g*r,this.#c=Ul.#u*r,this.#h=r,this.#f.push(t,n)}isEmpty(){return isNaN(this.#s[8])}#p(){const t=this.#s.subarray(4,6),n=this.#s.subarray(16,18),[i,r,a,o]=this.#t;return[(this.#r+(t[0]-n[0])/2-i)/a,(this.#o+(t[1]-n[1])/2-r)/o,(this.#r+(n[0]-t[0])/2-i)/a,(this.#o+(n[1]-t[1])/2-r)/o]}add({x:t,y:n}){this.#r=t,this.#o=n;const[i,r,a,o]=this.#t;let[c,d,f,p]=this.#s.subarray(8,12);const m=t-f,y=n-p,b=Math.hypot(m,y);if(b<this.#c)return!1;const A=b-this.#l,w=A/b,C=w*m,O=w*y;let k=c,M=d;c=f,d=p,f+=C,p+=O,this.#f?.push(t,n);const j=-O/A,I=C/A,R=j*this.#d,z=I*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([f+R,p+z],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([f-R,p-z],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+R,d+z],2),this.#a.push(NaN,NaN,NaN,NaN,(c+R-i)/a,(d+z-r)/o),this.#s.set([c-R,d-z],14),this.#e.push(NaN,NaN,NaN,NaN,(c-R-i)/a,(d-z-r)/o)),this.#s.set([k,M,c,d,f,p],6),!this.isEmpty()):(this.#s.set([k,M,c,d,f,p],6),Math.abs(Math.atan2(M-d,k-c)-Math.atan2(O,C))<Math.PI/2?([c,d,f,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+f)/2-i)/a,((d+p)/2-r)/o),[c,d,k,M]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((k+c)/2-i)/a,((M+d)/2-r)/o),!0):([k,M,c,d,f,p]=this.#s.subarray(0,6),this.#a.push(((k+5*c)/6-i)/a,((M+5*d)/6-r)/o,((5*c+f)/6-i)/a,((5*d+p)/6-r)/o,((c+f)/2-i)/a,((d+p)/2-r)/o),[f,p,c,d,k,M]=this.#s.subarray(12,18),this.#e.push(((k+5*c)/6-i)/a,((M+5*d)/6-r)/o,((5*c+f)/6-i)/a,((5*d+p)/6-r)/o,((c+f)/2-i)/a,((d+p)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,n=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${t[4]} ${t[5]}`);for(let r=6;r<t.length;r+=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);this.#y(i);for(let r=n.length-6;r>=6;r-=6)isNaN(n[r])?i.push(`L${n[r+4]} ${n[r+5]}`):i.push(`C${n[r]} ${n[r+1]} ${n[r+2]} ${n[r+3]} ${n[r+4]} ${n[r+5]}`);return this.#b(i),i.join(" ")}#v(){const[t,n,i,r]=this.#t,[a,o,c,d]=this.#p();return`M${(this.#s[2]-t)/i} ${(this.#s[3]-n)/r} L${(this.#s[4]-t)/i} ${(this.#s[5]-n)/r} L${a} ${o} L${c} ${d} L${(this.#s[16]-t)/i} ${(this.#s[17]-n)/r} L${(this.#s[14]-t)/i} ${(this.#s[15]-n)/r} Z`}#b(t){const n=this.#e;t.push(`L${n[4]} ${n[5]} Z`)}#y(t){const[n,i,r,a]=this.#t,o=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[d,f,p,m]=this.#p();t.push(`L${(o[0]-n)/r} ${(o[1]-i)/a} L${d} ${f} L${p} ${m} L${(c[0]-n)/r} ${(c[1]-i)/a}`)}newFreeDrawOutline(t,n,i,r,a,o){return new eB(t,n,i,r,a,o)}getOutlines(){const t=this.#a,n=this.#e,i=this.#s,[r,a,o,c]=this.#t,d=new Float32Array((this.#f?.length??0)+2);for(let m=0,y=d.length-2;m<y;m+=2)d[m]=(this.#f[m]-r)/o,d[m+1]=(this.#f[m+1]-a)/c;if(d[d.length-2]=(this.#r-r)/o,d[d.length-1]=(this.#o-a)/c,isNaN(i[6])&&!this.isEmpty())return this.#E(d);const f=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let m=0;m<p;m+=2){if(isNaN(t[m])){f[m]=f[m+1]=NaN;continue}f[m]=t[m],f[m+1]=t[m+1]}p=this.#_(f,p);for(let m=n.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(n[m+y])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=n[m+y],f[p+1]=n[m+y+1],p+=2}return this.#A(f,p),this.newFreeDrawOutline(f,d,this.#t,this.#h,this.#i,this.#n)}#E(t){const n=this.#s,[i,r,a,o]=this.#t,[c,d,f,p]=this.#p(),m=new Float32Array(36);return m.set([NaN,NaN,NaN,NaN,(n[2]-i)/a,(n[3]-r)/o,NaN,NaN,NaN,NaN,(n[4]-i)/a,(n[5]-r)/o,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(n[16]-i)/a,(n[17]-r)/o,NaN,NaN,NaN,NaN,(n[14]-i)/a,(n[15]-r)/o],0),this.newFreeDrawOutline(m,t,this.#t,this.#h,this.#i,this.#n)}#A(t,n){const i=this.#e;return t.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6}#_(t,n){const i=this.#s.subarray(4,6),r=this.#s.subarray(16,18),[a,o,c,d]=this.#t,[f,p,m,y]=this.#p();return t.set([NaN,NaN,NaN,NaN,(i[0]-a)/c,(i[1]-o)/d,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,m,y,NaN,NaN,NaN,NaN,(r[0]-a)/c,(r[1]-o)/d],n),n+=24}}class eB extends Ot{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,n,i,r,a,o){super(),this.#r=t,this.#a=n,this.#t=i,this.#s=r,this.#i=a,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(o);const[c,d,f,p]=this.#e;for(let m=0,y=t.length;m<y;m+=2)t[m]=(t[m]-c)/f,t[m+1]=(t[m+1]-d)/p;for(let m=0,y=n.length;m<y;m+=2)n[m]=(n[m]-c)/f,n[m+1]=(n[m+1]-d)/p}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let n=6,i=this.#r.length;n<i;n+=6){if(isNaN(this.#r[n])){t.push(`L${this.#r[n+4]} ${this.#r[n+5]}`);continue}t.push(`C${this.#r[n]} ${this.#r[n+1]} ${this.#r[n+2]} ${this.#r[n+3]} ${this.#r[n+4]} ${this.#r[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,r],a){const o=i-t,c=r-n;let d,f;switch(a){case 0:d=Ot._rescale(this.#r,t,r,o,-c),f=Ot._rescale(this.#a,t,r,o,-c);break;case 90:d=Ot._rescaleAndSwap(this.#r,t,n,o,c),f=Ot._rescaleAndSwap(this.#a,t,n,o,c);break;case 180:d=Ot._rescale(this.#r,i,n,-o,c),f=Ot._rescale(this.#a,i,n,-o,c);break;case 270:d=Ot._rescaleAndSwap(this.#r,i,r,-o,-c),f=Ot._rescaleAndSwap(this.#a,i,r,-o,-c);break}return{outline:Array.from(d),points:[Array.from(f)]}}#o(t){const n=this.#r;let i=n[4],r=n[5];const a=[i,r,i,r];let o=i,c=r,d=i,f=r;const p=t?Math.max:Math.min,m=new Float32Array(4);for(let b=6,A=n.length;b<A;b+=6){const w=n[b+4],C=n[b+5];isNaN(n[b])?(Ct.pointBoundingBox(w,C,a),c>C?(o=w,c=C):c===C&&(o=p(o,w)),f<C?(d=w,f=C):f===C&&(d=p(d,w))):(m[0]=m[1]=1/0,m[2]=m[3]=-1/0,Ct.bezierBoundingBox(i,r,...n.slice(b,b+6),m),Ct.rectBoundingBox(m[0],m[1],m[2],m[3],a),c>m[1]?(o=m[0],c=m[1]):c===m[1]&&(o=p(o,m[0])),f<m[3]?(d=m[2],f=m[3]):f===m[3]&&(d=p(d,m[2]))),i=w,r=C}const y=this.#e;y[0]=a[0]-this.#i,y[1]=a[1]-this.#i,y[2]=a[2]-a[0]+2*this.#i,y[3]=a[3]-a[1]+2*this.#i,this.firstPoint=[o,c],this.lastPoint=[d,f]}get box(){return this.#e}newOutliner(t,n,i,r,a,o=0){return new Ul(t,n,i,r,a,o)}getNewOutline(t,n){const[i,r,a,o]=this.#e,[c,d,f,p]=this.#t,m=a*f,y=o*p,b=i*f+c,A=r*p+d,w=this.newOutliner({x:this.#a[0]*m+b,y:this.#a[1]*y+A},this.#t,this.#s,t,this.#n,n??this.#i);for(let C=2;C<this.#a.length;C+=2)w.add({x:this.#a[C]*m+b,y:this.#a[C+1]*y+A});return w.getOutlines()}}class fw{#t;#e;#i;#n=[];#a=[];constructor(t,n=0,i=0,r=!0){const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:w,y:C,width:O,height:k}of t){const M=Math.floor((w-n)/o)*o,j=Math.ceil((w+O+n)/o)*o,I=Math.floor((C-n)/o)*o,R=Math.ceil((C+k+n)/o)*o,z=[M,I,R,!0],H=[j,I,R,!1];this.#n.push(z,H),Ct.rectBoundingBox(M,I,j,R,a)}const c=a[2]-a[0]+2*i,d=a[3]-a[1]+2*i,f=a[0]-i,p=a[1]-i;let m=r?-1/0:1/0,y=1/0;const b=this.#n.at(r?-1:-2),A=[b[0],b[2]];for(const w of this.#n){const[C,O,k,M]=w;!M&&r?O<y?(y=O,m=C):O===y&&(m=Math.max(m,C)):M&&!r&&(O<y?(y=O,m=C):O===y&&(m=Math.min(m,C))),w[0]=(C-f)/c,w[1]=(O-p)/d,w[2]=(k-p)/d}this.#t=new Float32Array([f,p,c,d]),this.#e=[m,y],this.#i=A}getOutlines(){this.#n.sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const t=[];for(const n of this.#n)n[3]?(t.push(...this.#l(n)),this.#o(n)):(this.#c(n),t.push(...this.#l(n)));return this.#s(t)}#s(t){const n=[],i=new Set;for(const o of t){const[c,d,f]=o;n.push([c,d,o],[c,f,o])}n.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=n.length;o<c;o+=2){const d=n[o][2],f=n[o+1][2];d.push(f),f.push(d),i.add(d),i.add(f)}const r=[];let a;for(;i.size>0;){const o=i.values().next().value;let[c,d,f,p,m]=o;i.delete(o);let y=c,b=d;for(a=[c,f],r.push(a);;){let A;if(i.has(p))A=p;else if(i.has(m))A=m;else break;i.delete(A),[c,d,f,p,m]=A,y!==c&&(a.push(y,b,c,b===d?d:f),y=c),b=b===d?f:d}a.push(y,b)}return new sit(r,this.#t,this.#e,this.#i)}#r(t){const n=this.#a;let i=0,r=n.length-1;for(;i<=r;){const a=i+r>>1,o=n[a][0];if(o===t)return a;o<t?i=a+1:r=a-1}return r+1}#o([,t,n]){const i=this.#r(t);this.#a.splice(i,0,[t,n])}#c([,t,n]){const i=this.#r(t);for(let r=i;r<this.#a.length;r++){const[a,o]=this.#a[r];if(a!==t)break;if(a===t&&o===n){this.#a.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[a,o]=this.#a[r];if(a!==t)break;if(a===t&&o===n){this.#a.splice(r,1);return}}}#l(t){const[n,i,r]=t,a=[[n,i,r]],o=this.#r(r);for(let c=0;c<o;c++){const[d,f]=this.#a[c];for(let p=0,m=a.length;p<m;p++){const[,y,b]=a[p];if(!(f<=y||b<=d)){if(y>=d){if(b>f)a[p][1]=f;else{if(m===1)return[];a.splice(p,1),p--,m--}continue}a[p][2]=d,b>f&&a.push([n,f,b])}}}return a}}class sit extends Ot{#t;#e;constructor(t,n,i,r){super(),this.#e=t,this.#t=n,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const t=[];for(const n of this.#e){let[i,r]=n;t.push(`M${i} ${r}`);for(let a=2;a<n.length;a+=2){const o=n[a],c=n[a+1];o===i?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,r],a){const o=[],c=i-t,d=r-n;for(const f of this.#e){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*c,p[m+1]=r-f[m+1]*d;o.push(p)}return o}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class pw extends Ul{newFreeDrawOutline(t,n,i,r,a,o){return new oit(t,n,i,r,a,o)}}class oit extends eB{newOutliner(t,n,i,r,a,o=0){return new pw(t,n,i,r,a,o)}}class vn extends Lt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Wt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=vn.prototype;return $t(this,"_keyboardManager",new Ef([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||vn._defaultColor,this.#p=t.thickness||vn._defaultThickness,this.opacity=t.opacity||vn._defaultOpacity,this.#i=t.boxes||null,this.#v=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#d=!0,this.#y(t),this.#x()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new fw(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new fw(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=n.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#s;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:n,clipPathId:i}){this.#l=t;const r=1.5;if(this.#s=t.getNewOutline(this.#p/2+r,.0025),n>=0)this.#h=n,this.#n=i,this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const m=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:vn.#S(this.#l.box,(m-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:vn.#S(this.#s.box,m),path:{d:this.#s.toSVGPath()}})}const[a,o,c,d]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=d;break;case 90:{const[m,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*y/m,this.height=d*m/y;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=d;break;case 270:{const[m,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*y/m,this.height=d*m/y;break}}const{firstPoint:f}=t;this.#f=[(f[0]-a)/c,(f[1]-o)/d];const{lastPoint:p}=this.#s;this.#g=[(p[0]-a)/c,(p[1]-o)/d]}static initialize(t,n){Lt.initialize(t,n),vn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,n){switch(t){case oe.HIGHLIGHT_COLOR:vn._defaultColor=n;break;case oe.HIGHLIGHT_THICKNESS:vn._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(t,n){switch(t){case oe.HIGHLIGHT_COLOR:this.#E(n);break;case oe.HIGHLIGHT_THICKNESS:this.#A(n);break}}static get defaultPropertiesToUpdate(){return[[oe.HIGHLIGHT_COLOR,vn._defaultColor],[oe.HIGHLIGHT_THICKNESS,vn._defaultThickness]]}get propertiesToUpdate(){return[[oe.HIGHLIGHT_COLOR,this.color||vn._defaultColor],[oe.HIGHLIGHT_THICKNESS,this.#p||vn._defaultThickness],[oe.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(t){const n=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:n.bind(this,t,vn._defaultOpacity),undo:n.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#A(t){const n=this.#p,i=r=>{this.#p=r,this.#_(r)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:oe.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Cr({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,this.#P())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?this.#T():t&&(this.#x(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),n&&this.select()}#_(t){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#x(t=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#S([t,n,i,r],a){switch(a){case 90:return[1-n-r,t,r,i];case 180:return[1-t-i,1-n-r,i,r];case 270:return[n,1-t-i,r,i]}return[t,n,i,r]}rotate(t){const{drawLayer:n}=this.parent;let i;this.#d?(t=(t-this.rotation+360)%360,i=vn.#S(this.#l.box,t)):i=vn.#S([this.x,this.y,this.width,this.height],t),n.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(this.#m,{bbox:vn.#S(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#d?t.classList.add("free"):this.div.addEventListener("keydown",this.#M.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),OI(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#M(t){vn._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#O(!0);break;case 1:case 3:this.#O(!1);break}}#O(t){if(!this.#t)return;const n=window.getSelection();t?n.setPosition(this.#t,this.#e):n.setPosition(this.#r,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#O(!1))}get _mustFixPosition(){return!this.#d}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!t}}))}#P(){return this.#d?this.rotation:0}#I(){if(this.#d)return null;const[t,n]=this.pageDimensions,[i,r]=this.pageTranslation,a=this.#i,o=new Float32Array(a.length*8);let c=0;for(const{x:d,y:f,width:p,height:m}of a){const y=d*t+i,b=(1-f)*n+r;o[c]=o[c+4]=y,o[c+1]=o[c+3]=b,o[c+2]=o[c+6]=y+p*t,o[c+5]=o[c+7]=b-m*n,c+=8}return o}#k(t){return this.#l.serialize(t,this.#P())}static startHighlighting(t,n,{target:i,x:r,y:a}){const{x:o,y:c,width:d,height:f}=i.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),y=b=>{p.abort(),this.#B(t,b)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",dn,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Nr,{signal:m}),i.addEventListener("pointermove",this.#j.bind(this,t),{signal:m}),this._freeHighlight=new pw({x:r,y:a},[o,c,d,f],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#j(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,n,i){let r=null;if(t instanceof JI){const{data:{quadPoints:A,rect:w,rotation:C,id:O,color:k,opacity:M,popupRef:j,richText:I,contentsObj:R,creationDate:z,modificationDate:H},parent:{page:{pageNumber:W}}}=t;r=t={annotationType:Wt.HIGHLIGHT,color:Array.from(k),opacity:M,quadPoints:A,boxes:null,pageIndex:W-1,rect:w.slice(0),rotation:C,annotationElementId:O,id:O,deleted:!1,popupRef:j,richText:I,comment:R?.str||null,creationDate:z,modificationDate:H}}else if(t instanceof zA){const{data:{inkLists:A,rect:w,rotation:C,id:O,color:k,borderStyle:{rawWidth:M},popupRef:j,richText:I,contentsObj:R,creationDate:z,modificationDate:H},parent:{page:{pageNumber:W}}}=t;r=t={annotationType:Wt.HIGHLIGHT,color:Array.from(k),thickness:M,inkLists:A,boxes:null,pageIndex:W-1,rect:w.slice(0),rotation:C,annotationElementId:O,id:O,deleted:!1,popupRef:j,richText:I,comment:R?.str||null,creationDate:z,modificationDate:H}}const{color:a,quadPoints:o,inkLists:c,opacity:d}=t,f=await super.deserialize(t,n,i);f.color=Ct.makeHexColor(...a),f.opacity=d||1,c&&(f.#p=t.thickness),f._initialData=r,t.comment&&f.setCommentData(t);const[p,m]=f.pageDimensions,[y,b]=f.pageTranslation;if(o){const A=f.#i=[];for(let w=0;w<o.length;w+=8)A.push({x:(o[w]-y)/p,y:1-(o[w+1]-b)/m,width:(o[w+2]-o[w])/p,height:(o[w+1]-o[w+5])/m});f.#b(),f.#x(),f.rotate(f.rotation)}else if(c){f.#d=!0;const A=c[0],w={x:A[0]-y,y:m-(A[1]-b)},C=new pw(w,[0,0,p,m],1,f.#p/2,!0,.001);for(let M=0,j=A.length;M<j;M+=2)w.x=A[M]-y,w.y=m-(A[M+1]-b),C.add(w);const{id:O,clipPathId:k}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:C.toSVGPath()}},!0,!0);f.#y({highlightOutlines:C.getOutlines(),highlightId:O,clipPathId:k}),f.#x(),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:n,opacity:this.opacity,thickness:this.#p,quadPoints:this.#I(),outlines:this.#k(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#L(i)?null:(i.id=this.annotationElementId,i)}#L(t){const{color:n}=this._initialData;return this.hasEditedComment||t.color.some((i,r)=>i!==n[r])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class nB{#t=Object.create(null);updateProperty(t,n){this[t]=n,this.updateSVGProperty(t,n)}updateProperties(t){if(t)for(const[n,i]of Object.entries(t))n.startsWith("_")||this.updateProperty(n,i)}updateSVGProperty(t,n){this.#t[t]=n}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){xe("Not implemented")}}class ge extends Lt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#s(t),this.#c())}#s({drawOutlines:t,drawId:n,drawingOptions:i}){this.#t=t,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=this.#r(t,this.parent),this.#d(t.box)}#r(t,n){const{id:i}=n.drawLayer.draw(ge._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[r,a]of Object.entries(n))i.has(r)?Object.assign(t[r],a):t[r]=a;return t}static getDefaultDrawingOptions(t){xe("Not implemented")}static get typesMap(){xe("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(ge.#i.updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)t.push([i,n[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,r]of this.constructor.typesMap)t.push([i,n[r]]);return t}_updateProperty(t,n,i){const r=this._drawingOptions,a=r[n],o=c=>{r.updateProperty(n,c);const d=this.#t.updateProperty(n,c);d&&this.#d(d),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,ge._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,ge._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(t,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,ge._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#o()):t&&(this._uiManager.addShouldRescale(this),this.#c(t),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),n&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#t,t)}}#l([t,n,i,r]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[n,1-t,i*(o/a),r*(a/o)];case 180:return[1-t,1-n,i,r];case 270:return[1-n,t,i*(o/a),r*(a/o)];default:return[t,n,i,r]}}#h(){const{x:t,y:n,width:i,height:r,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-n,t,i*(a/o),r*(o/a)];case 180:return[1-t,1-n,i,r];case 270:return[n,1-t,i*(a/o),r*(o/a)];default:return[t,n,i,r]}}#d(t){[this.x,this.y,this.width,this.height]=this.#l(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:t,y:n,width:i,height:r,rotation:a,parentRotation:o,parentDimensions:[c,d]}=this;switch((a*4+o)/90){case 1:return[1-n-r,t,r,i];case 2:return[1-t-i,1-n-r,i,r];case 3:return[n,1-t-i,r,i];case 4:return[t,n-i*(c/d),r*(d/c),i*(c/d)];case 5:return[1-n,t,i*(c/d),r*(d/c)];case 6:return[1-t-r*(d/c),1-n,r*(d/c),i*(c/d)];case 7:return[n-i*(c/d),1-t-r*(d/c),i*(c/d),r*(d/c)];case 8:return[t-i,n-r,i,r];case 9:return[1-n,t-i,r,i];case 10:return[1-t,1-n,i,r];case 11:return[n-r,1-t,r,i];case 12:return[t-r*(d/c),n,r*(d/c),i*(c/d)];case 13:return[1-n-i*(c/d),t-r*(d/c),i*(c/d),r*(d/c)];case 14:return[1-t,1-n-i*(c/d),r*(d/c),i*(c/d)];case 15:return[n,1-t,i*(c/d),r*(d/c)];default:return[t,n,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ge._mergeSVGProperties({bbox:this.#f()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,n;this._isCopy&&(t=this.x,n=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,n),i}static createDrawerInstance(t,n,i,r,a){xe("Not implemented")}static startDrawing(t,n,i,r){const{target:a,offsetX:o,offsetY:c,pointerId:d,pointerType:f}=r;if(ye.isInitializedAndDifferentPointerType(f))return;const{viewport:{rotation:p}}=t,{width:m,height:y}=a.getBoundingClientRect(),b=ge.#n=new AbortController,A=t.combinedSignal(b);if(ye.setPointer(f,d),window.addEventListener("pointerup",w=>{ye.isSamePointerIdOrRemove(w.pointerId)&&this._endDraw(w)},{signal:A}),window.addEventListener("pointercancel",w=>{ye.isSamePointerIdOrRemove(w.pointerId)&&this._currentParent.endDrawingSession()},{signal:A}),window.addEventListener("pointerdown",w=>{ye.isSamePointerType(w.pointerType)&&(ye.initializeAndAddPointerId(w.pointerId),ge.#i.isCancellable()&&(ge.#i.removeLastElement(),ge.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",Nr,{signal:A}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),a.addEventListener("touchmove",w=>{ye.isSameTimeStamp(w.timeStamp)&&dn(w)},{signal:A}),t.toggleDrawing(),n._editorUndoBar?.hide(),ge.#i){t.drawLayer.updateProperties(this._currentDrawId,ge.#i.startNew(o,c,m,y,p));return}n.updateUIForDefaultProperties(this),ge.#i=this.createDrawerInstance(o,c,m,y,p),ge.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(ge.#a.toSVGProperties(),ge.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(ye.isSameTimeStamp(t.timeStamp),!ge.#i)return;const{offsetX:n,offsetY:i,pointerId:r}=t;if(ye.isSamePointerId(r)){if(ye.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,ge.#i.add(n,i)),ye.setTimeStamp(t.timeStamp),dn(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,ge.#i=null,ge.#a=null,ye.clearTimeStamp()),ge.#n&&(ge.#n.abort(),ge.#n=null,ye.clearPointerIds())}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,ge.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=ge.#i,r=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(r,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:oe.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(oe.DRAW_STEP),!ge.#i.isEmpty()){const{pageDimensions:[i,r],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:ge.#i.getOutlines(i*a,r*a,a,this._INNER_MARGIN),drawingOptions:ge.#a,mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,r,a,o){xe("Not implemented")}static async deserialize(t,n,i){const{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:c}}=n.viewport,d=this.deserializeDraw(o,c,r,a,this._INNER_MARGIN,t),f=await super.deserialize(t,n,i);return f.createDrawingOptions(t),f.#s({drawOutlines:d}),f.#c(),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[n,i]=this.pageTranslation,[r,a]=this.pageDimensions;return this.#t.serialize([n,i,r,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class lit{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#c=new Cf;#l;#h;constructor(t,n,i,r,a,o){this.#l=i,this.#h=r,this.#n=a,this.#a=o,[t,n]=this.#d(t,n);const c=this.#e=[NaN,NaN,NaN,NaN,t,n];this.#s=[t,n],this.#i=[{line:c,points:this.#s}],this.#t.set(c,0)}updateProperty(t,n){t==="stroke-width"&&(this.#a=n)}#d(t,n){return Ot._normalizePoint(t,n,this.#l,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,n){[t,n]=this.#d(t,n);const[i,r,a,o]=this.#t.subarray(2,6),c=t-a,d=n-o;return Math.hypot(this.#l*c,this.#h*d)<=2?null:(this.#s.push(t,n),isNaN(i)?(this.#t.set([a,o,t,n],2),this.#e.push(NaN,NaN,NaN,NaN,t,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([i,r,a,o,t,n],0),this.#e.push(...Ot.createBezierPoints(i,r,a,o,t,n)),{path:{d:this.toSVGPath()}}))}end(t,n){const i=this.add(t,n);return i||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,n,i,r,a){this.#l=i,this.#h=r,this.#n=a,[t,n]=this.#d(t,n);const o=this.#e=[NaN,NaN,NaN,NaN,t,n];this.#s=[t,n];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:o,points:this.#s}),this.#t.set(o,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,n=this.#i.length;t<n;t++){const{line:i,points:r}=this.#i[t];this.#e=i,this.#s=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=Ot.svgRound(this.#e[4]),n=Ot.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${n} Z`,this.#r;if(this.#s.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${t} ${n}`,this.#o=6}if(this.#s.length===4){const r=Ot.svgRound(this.#e[10]),a=Ot.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${r} ${a}`,this.#o=12,this.#r}const i=[];this.#o===0&&(i.push(`M ${t} ${n}`),this.#o=6);for(let r=this.#o,a=this.#e.length;r<a;r+=6){const[o,c,d,f,p,m]=this.#e.slice(r,r+6).map(Ot.svgRound);i.push(`C${o} ${c} ${d} ${f} ${p} ${m}`)}return this.#r+=i.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,n,i,r){const a=this.#i.at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),this.#c.build(this.#i,t,n,i,this.#n,this.#a,r),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Cf extends Ot{#t;#e=0;#i;#n;#a;#s;#r;#o;#c;build(t,n,i,r,a,o,c){this.#a=n,this.#s=i,this.#r=r,this.#o=a,this.#c=o,this.#i=c??0,this.#n=t,this.#d()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of this.#n){if(t.push(`M${Ot.svgRound(n[4])} ${Ot.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12&&isNaN(n[6])){t.push(`L${Ot.svgRound(n[10])} ${Ot.svgRound(n[11])}`);continue}for(let i=6,r=n.length;i<r;i+=6){const[a,o,c,d,f,p]=n.subarray(i,i+6).map(Ot.svgRound);t.push(`C${a} ${o} ${c} ${d} ${f} ${p}`)}}return t.join("")}serialize([t,n,i,r],a){const o=[],c=[],[d,f,p,m]=this.#h();let y,b,A,w,C,O,k,M,j;switch(this.#o){case 0:j=Ot._rescale,y=t,b=n+r,A=i,w=-r,C=t+d*i,O=n+(1-f-m)*r,k=t+(d+p)*i,M=n+(1-f)*r;break;case 90:j=Ot._rescaleAndSwap,y=t,b=n,A=i,w=r,C=t+f*i,O=n+d*r,k=t+(f+m)*i,M=n+(d+p)*r;break;case 180:j=Ot._rescale,y=t+i,b=n,A=-i,w=r,C=t+(1-d-p)*i,O=n+f*r,k=t+(1-d)*i,M=n+(f+m)*r;break;case 270:j=Ot._rescaleAndSwap,y=t+i,b=n+r,A=-i,w=-r,C=t+(1-f-m)*i,O=n+(1-d-p)*r,k=t+(1-f)*i,M=n+(1-d)*r;break}for(const{line:I,points:R}of this.#n)o.push(j(I,y,b,A,w,a?new Array(I.length):null)),c.push(j(R,y,b,A,w,a?new Array(R.length):null));return{lines:o,points:c,rect:[C,O,k,M]}}static deserialize(t,n,i,r,a,{paths:{lines:o,points:c},rotation:d,thickness:f}){const p=[];let m,y,b,A,w;switch(d){case 0:w=Ot._rescale,m=-t/i,y=n/r+1,b=1/i,A=-1/r;break;case 90:w=Ot._rescaleAndSwap,m=-n/r,y=-t/i,b=1/r,A=1/i;break;case 180:w=Ot._rescale,m=t/i+1,y=-n/r,b=-1/i,A=1/r;break;case 270:w=Ot._rescaleAndSwap,m=n/r+1,y=t/i+1,b=-1/r,A=-1/i;break}if(!o){o=[];for(const O of c){const k=O.length;if(k===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,O[0],O[1]]));continue}if(k===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,O[0],O[1],NaN,NaN,NaN,NaN,O[2],O[3]]));continue}const M=new Float32Array(3*(k-2));o.push(M);let[j,I,R,z]=O.subarray(0,4);M.set([NaN,NaN,NaN,NaN,j,I],0);for(let H=4;H<k;H+=2){const W=O[H],et=O[H+1];M.set(Ot.createBezierPoints(j,I,R,z,W,et),(H-2)*3),[j,I,R,z]=[R,z,W,et]}}}for(let O=0,k=o.length;O<k;O++)p.push({line:w(o[O].map(M=>M??NaN),m,y,b,A),points:w(c[O].map(M=>M??NaN),m,y,b,A)});const C=new this.prototype.constructor;return C.build(p,i,r,1,d,f,a),C}#l(t=this.#c){const n=this.#i+t/2*this.#r;return this.#o%180===0?[n/this.#a,n/this.#s]:[n/this.#s,n/this.#a]}#h(){const[t,n,i,r]=this.#t,[a,o]=this.#l(0);return[t+a,n+o,i-2*a,r-2*o]}#d(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let c=4,d=r.length;c<d;c+=6)Ct.pointBoundingBox(r[c],r[c+1],t);continue}let a=r[4],o=r[5];for(let c=6,d=r.length;c<d;c+=6){const[f,p,m,y,b,A]=r.subarray(c,c+6);Ct.bezierBoundingBox(a,o,f,p,m,y,b,A,t),a=b,o=A}}const[n,i]=this.#l();t[0]=oi(t[0]-n,0,1),t[1]=oi(t[1]-i,0,1),t[2]=oi(t[2]+n,0,1),t[3]=oi(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,n){return t==="stroke-width"?this.#f(n):null}#f(t){const[n,i]=this.#l();this.#c=t;const[r,a]=this.#l(),[o,c]=[r-n,a-i],d=this.#t;return d[0]-=o,d[1]-=c,d[2]+=2*o,d[3]+=2*c,d}updateParentDimensions([t,n],i){const[r,a]=this.#l();this.#a=t,this.#s=n,this.#r=i;const[o,c]=this.#l(),d=o-r,f=c-a,p=this.#t;return p[0]-=d,p[1]-=f,p[2]+=2*d,p[3]+=2*f,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(Ot.svgRound).join(" ")}get defaultProperties(){const[t,n]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ot.svgRound(t)} ${Ot.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=this.#t;let i=0,r=0,a=0,o=0,c=0,d=0;switch(this.#e){case 90:r=n/t,a=-t/n,c=t;break;case 180:i=-1,o=-1,c=t,d=n;break;case 270:r=-n/t,a=t/n,d=n;break;default:return""}return`matrix(${i} ${r} ${a} ${o} ${Ot.svgRound(c)} ${Ot.svgRound(d)})`}getPathResizingSVGProperties([t,n,i,r]){const[a,o]=this.#l(),[c,d,f,p]=this.#t;if(Math.abs(f-a)<=Ot.PRECISION||Math.abs(p-o)<=Ot.PRECISION){const w=t+i/2-(c+f/2),C=n+r/2-(d+p/2);return{path:{"transform-origin":`${Ot.svgRound(t)} ${Ot.svgRound(n)}`,transform:`${this.rotationTransform} translate(${w} ${C})`}}}const m=(i-2*a)/(f-2*a),y=(r-2*o)/(p-2*o),b=f/i,A=p/r;return{path:{"transform-origin":`${Ot.svgRound(c)} ${Ot.svgRound(d)}`,transform:`${this.rotationTransform} scale(${b} ${A}) translate(${Ot.svgRound(a)} ${Ot.svgRound(o)}) scale(${m} ${y}) translate(${Ot.svgRound(-a)} ${Ot.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,r]){const[a,o]=this.#l(),c=this.#t,[d,f,p,m]=c;if(c[0]=t,c[1]=n,c[2]=i,c[3]=r,Math.abs(p-a)<=Ot.PRECISION||Math.abs(m-o)<=Ot.PRECISION){const C=t+i/2-(d+p/2),O=n+r/2-(f+m/2);for(const{line:k,points:M}of this.#n)Ot._translate(k,C,O,k),Ot._translate(M,C,O,M);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ot.svgRound(t)} ${Ot.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(i-2*a)/(p-2*a),b=(r-2*o)/(m-2*o),A=-y*(d+a)+t+a,w=-b*(f+o)+n+o;if(y!==1||b!==1||A!==0||w!==0)for(const{line:C,points:O}of this.#n)Ot._rescale(C,A,w,y,b,C),Ot._rescale(O,A,w,y,b,O);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ot.svgRound(t)} ${Ot.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[r,a]=i,o=this.#t,c=t-o[0],d=n-o[1];if(this.#a===r&&this.#s===a)for(const{line:f,points:p}of this.#n)Ot._translate(f,c,d,f),Ot._translate(p,c,d,p);else{const f=this.#a/r,p=this.#s/a;this.#a=r,this.#s=a;for(const{line:m,points:y}of this.#n)Ot._rescale(m,c,d,f,p,m),Ot._rescale(y,c,d,f,p,y);o[2]*=f,o[3]*=p}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ot.svgRound(t)} ${Ot.svgRound(n)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ot.svgRound(t[0])} ${Ot.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Qv extends nB{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Lt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(t,n)}clone(){const t=new Qv(this._viewParameters);return t.updateAll(this),t}}class UA extends ge{static _type="ink";static _editorType=Wt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,n){Lt.initialize(t,n),this._defaultDrawingOptions=new Qv(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return $t(this,"typesMap",new Map([[oe.INK_THICKNESS,"stroke-width"],[oe.INK_COLOR,"stroke"],[oe.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,r,a){return new lit(t,n,i,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,r,a,o){return Cf.deserialize(t,n,i,r,a,o)}static async deserialize(t,n,i){let r=null;if(t instanceof zA){const{data:{inkLists:o,rect:c,rotation:d,id:f,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:b,richText:A,contentsObj:w,creationDate:C,modificationDate:O},parent:{page:{pageNumber:k}}}=t;r=t={annotationType:Wt.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:o},boxes:null,pageIndex:k-1,rect:c.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:b,richText:A,comment:w?.str||null,creationDate:C,modificationDate:O}}const a=await super.deserialize(t,n,i);return a._initialData=r,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||=new Yh(this),[["colorPicker",this._colorPicker]]}get colorType(){return oe.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=UA.getDefaultDrawingOptions({stroke:Ct.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:r,"stroke-opacity":a,"stroke-width":o}}=this,c=Object.assign(super.serialize(t),{color:Lt._colorManager.convert(r),opacity:a,thickness:o,paths:{lines:n,points:i}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:n,thickness:i,opacity:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,c)=>o!==n[c])||t.thickness!==i||t.opacity!==r||t.pageIndex!==a}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class mw extends Cf{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Cm=8,gh=3;class lu{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,n,i,r){return i-=t,r-=n,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,n,i,r,a,o,c){const d=this.#e(i,r,a,o);for(let f=0;f<8;f++){const p=(-f+d-c+16)%8,m=this.#i[2*p],y=this.#i[2*p+1];if(t[(i+m)*n+(r+y)]!==0)return p}return-1}static#a(t,n,i,r,a,o,c){const d=this.#e(i,r,a,o);for(let f=0;f<8;f++){const p=(f+d+c+16)%8,m=this.#i[2*p],y=this.#i[2*p+1];if(t[(i+m)*n+(r+y)]!==0)return p}return-1}static#s(t,n,i,r){const a=t.length,o=new Int32Array(a);for(let p=0;p<a;p++)o[p]=t[p]<=r?1:0;for(let p=1;p<i-1;p++)o[p*n]=o[p*n+n-1]=0;for(let p=0;p<n;p++)o[p]=o[n*i-1-p]=0;let c=1,d;const f=[];for(let p=1;p<i-1;p++){d=1;for(let m=1;m<n-1;m++){const y=p*n+m,b=o[y];if(b===0)continue;let A=p,w=m;if(b===1&&o[y-1]===0)c+=1,w-=1;else if(b>=1&&o[y+1]===0)c+=1,w+=1,b>1&&(d=b);else{b!==1&&(d=Math.abs(b));continue}const C=[m,p],O=w===m+1,k={isHole:O,points:C,id:c,parent:0};f.push(k);let M;for(const Y of f)if(Y.id===d){M=Y;break}M?M.isHole?k.parent=O?M.parent:d:k.parent=O?d:M.parent:k.parent=O?d:0;const j=this.#n(o,n,p,m,A,w,0);if(j===-1){o[y]=-c,o[y]!==1&&(d=Math.abs(o[y]));continue}let I=this.#i[2*j],R=this.#i[2*j+1];const z=p+I,H=m+R;A=z,w=H;let W=p,et=m;for(;;){const Y=this.#a(o,n,W,et,A,w,1);I=this.#i[2*Y],R=this.#i[2*Y+1];const q=W+I,yt=et+R;C.push(yt,q);const ct=W*n+et;if(o[ct+1]===0?o[ct]=-c:o[ct]===1&&(o[ct]=c),q===p&&yt===m&&W===z&&et===H){o[y]!==1&&(d=Math.abs(o[y]));break}else A=W,w=et,W=q,et=yt}}}return f}static#r(t,n,i,r){if(i-n<=4){for(let z=n;z<i-2;z+=2)r.push(t[z],t[z+1]);return}const a=t[n],o=t[n+1],c=t[i-4]-a,d=t[i-3]-o,f=Math.hypot(c,d),p=c/f,m=d/f,y=p*o-m*a,b=d/c,A=1/f,w=Math.atan(b),C=Math.cos(w),O=Math.sin(w),k=A*(Math.abs(C)+Math.abs(O)),M=A*(1-k+k**2),j=Math.max(Math.atan(Math.abs(O+C)*M),Math.atan(Math.abs(O-C)*M));let I=0,R=n;for(let z=n+2;z<i-2;z+=2){const H=Math.abs(y-p*t[z+1]+m*t[z]);H>I&&(R=z,I=H)}I>(f*j)**2?(this.#r(t,n,R+2,r),this.#r(t,R,i,r)):r.push(a,o)}static#o(t){const n=[],i=t.length;return this.#r(t,0,i,n),n.push(t[i-2],t[i-1]),n.length<=4?null:n}static#c(t,n,i,r,a,o){const c=new Float32Array(o**2),d=-2*r**2,f=o>>1;for(let w=0;w<o;w++){const C=(w-f)**2;for(let O=0;O<o;O++)c[w*o+O]=Math.exp((C+(O-f)**2)/d)}const p=new Float32Array(256),m=-2*a**2;for(let w=0;w<256;w++)p[w]=Math.exp(w**2/m);const y=t.length,b=new Uint8Array(y),A=new Uint32Array(256);for(let w=0;w<i;w++)for(let C=0;C<n;C++){const O=w*n+C,k=t[O];let M=0,j=0;for(let R=0;R<o;R++){const z=w+R-f;if(!(z<0||z>=i))for(let H=0;H<o;H++){const W=C+H-f;if(W<0||W>=n)continue;const et=t[z*n+W],Y=c[R*o+H]*p[Math.abs(et-k)];M+=et*Y,j+=Y}}const I=b[O]=Math.round(M/j);A[I]++}return[b,A]}static#l(t){const n=new Uint32Array(256);for(const i of t)n[i]++;return n}static#h(t){const n=t.length,i=new Uint8ClampedArray(n>>2);let r=-1/0,a=1/0;for(let c=0,d=i.length;c<d;c++){const f=i[c]=t[c<<2];r=Math.max(r,f),a=Math.min(a,f)}const o=255/(r-a);for(let c=0,d=i.length;c<d;c++)i[c]=(i[c]-a)*o;return i}static#d(t){let n,i=-1/0,r=-1/0;const a=t.findIndex(d=>d!==0);let o=a,c=a;for(n=a;n<256;n++){const d=t[n];d>i&&(n-o>r&&(r=n-o,c=n-1),i=d,o=n)}for(n=c-1;n>=0&&!(t[n]>t[n+1]);n--);return n}static#f(t){const n=t,{width:i,height:r}=t,{maxDim:a}=this.#t;let o=i,c=r;if(i>a||r>a){let y=i,b=r,A=Math.log2(Math.max(i,r)/a);const w=Math.floor(A);A=A===w?w-1:w;for(let O=0;O<A;O++){o=Math.ceil(y/2),c=Math.ceil(b/2);const k=new OffscreenCanvas(o,c);k.getContext("2d").drawImage(t,0,0,y,b,0,0,o,c),y=o,b=c,t!==n&&t.close(),t=k.transferToImageBitmap()}const C=Math.min(a/o,a/c);o=Math.round(o*C),c=Math.round(c*C)}const f=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});f.fillStyle="white",f.fillRect(0,0,o,c),f.filter="grayscale(1)",f.drawImage(t,0,0,t.width,t.height,0,0,o,c);const p=f.getImageData(0,0,o,c).data;return[this.#h(p),o,c]}static extractContoursFromText(t,{fontFamily:n,fontStyle:i,fontWeight:r},a,o,c,d){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const m=200,y=p.font=`${i} ${r} ${m}px ${n}`,{actualBoundingBoxLeft:b,actualBoundingBoxRight:A,actualBoundingBoxAscent:w,actualBoundingBoxDescent:C,fontBoundingBoxAscent:O,fontBoundingBoxDescent:k,width:M}=p.measureText(t),j=1.5,I=Math.ceil(Math.max(Math.abs(b)+Math.abs(A)||0,M)*j),R=Math.ceil(Math.max(Math.abs(w)+Math.abs(C)||m,Math.abs(O)+Math.abs(k)||m)*j);f=new OffscreenCanvas(I,R),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=y,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,I,R),p.fillStyle="black",p.fillText(t,I*(j-1)/2,R*(3-j)/2);const z=this.#h(p.getImageData(0,0,I,R).data),H=this.#l(z),W=this.#d(H),et=this.#s(z,I,R,W);return this.processDrawnLines({lines:{curves:et,width:I,height:R},pageWidth:a,pageHeight:o,rotation:c,innerMargin:d,mustSmooth:!0,areContours:!0})}static process(t,n,i,r,a){const[o,c,d]=this.#f(t),[f,p]=this.#c(o,c,d,Math.hypot(c,d)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),m=this.#d(p),y=this.#s(f,c,d,m);return this.processDrawnLines({lines:{curves:y,width:c,height:d},pageWidth:n,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:o,areContours:c}){r%180!==0&&([n,i]=[i,n]);const{curves:d,width:f,height:p}=t,m=t.thickness??0,y=[],b=Math.min(n/f,i/p),A=b/n,w=b/i,C=[];for(const{points:k}of d){const M=o?this.#o(k):k;if(!M)continue;C.push(M);const j=M.length,I=new Float32Array(j),R=new Float32Array(3*(j===2?2:j-2));if(y.push({line:R,points:I}),j===2){I[0]=M[0]*A,I[1]=M[1]*w,R.set([NaN,NaN,NaN,NaN,I[0],I[1]],0);continue}let[z,H,W,et]=M;z*=A,H*=w,W*=A,et*=w,I.set([z,H,W,et],0),R.set([NaN,NaN,NaN,NaN,z,H],0);for(let Y=4;Y<j;Y+=2){const q=I[Y]=M[Y]*A,yt=I[Y+1]=M[Y+1]*w;R.set(Ot.createBezierPoints(z,H,W,et,q,yt),(Y-2)*3),[z,H,W,et]=[W,et,q,yt]}}if(y.length===0)return null;const O=c?new mw:new Cf;return O.build(y,n,i,1,r,c?0:m,a),{outline:O,newCurves:C,areContours:c,thickness:m,width:f,height:p}}static async compressSignature({outlines:t,areContours:n,thickness:i,width:r,height:a}){let o=1/0,c=-1/0,d=0;for(const M of t){d+=M.length;for(let j=2,I=M.length;j<I;j++){const R=M[j]-M[j-2];o=Math.min(o,R),c=Math.max(c,R)}}let f;o>=-128&&c<=127?f=Int8Array:o>=-32768&&c<=32767?f=Int16Array:f=Int32Array;const p=t.length,m=Cm+gh*p,y=new Uint32Array(m);let b=0;y[b++]=m*Uint32Array.BYTES_PER_ELEMENT+(d-2*p)*f.BYTES_PER_ELEMENT,y[b++]=0,y[b++]=r,y[b++]=a,y[b++]=n?0:1,y[b++]=Math.max(0,Math.floor(i??0)),y[b++]=p,y[b++]=f.BYTES_PER_ELEMENT;for(const M of t)y[b++]=M.length-2,y[b++]=M[0],y[b++]=M[1];const A=new CompressionStream("deflate-raw"),w=A.writable.getWriter();await w.ready,w.write(y);const C=f.prototype.constructor;for(const M of t){const j=new C(M.length-2);for(let I=2,R=M.length;I<R;I++)j[I-2]=M[I]-M[I-2];w.write(j)}w.close();const O=await new Response(A.readable).arrayBuffer();return new Uint8Array(O).toBase64()}static async decompressSignature(t){try{const n=Uint8Array.fromBase64(t),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,c=0;for await(const M of i)o||=new Uint8Array(new Uint32Array(M.buffer,0,4)[0]),o.set(M,c),c+=M.length;const d=new Uint32Array(o.buffer,0,o.length>>2),f=d[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=d[2],m=d[3],y=d[4]===0,b=d[5],A=d[6],w=d[7],C=[],O=(Cm+gh*A)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(w){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(o.buffer,O);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(o.buffer,O);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(o.buffer,O);break}c=0;for(let M=0;M<A;M++){const j=d[gh*M+Cm],I=new Float32Array(j+2);C.push(I);for(let R=0;R<gh-1;R++)I[R]=d[gh*M+Cm+R+1];for(let R=0;R<j;R++)I[R+2]=I[R]+k[c++]}return{areContours:y,thickness:b,outlines:C,width:p,height:m}}catch(n){return Ht(`decompressSignature: ${n}`),null}}}class HA extends nB{constructor(){super(),super.updateProperties({fill:Lt._defaultLineColor,"stroke-width":0})}clone(){const t=new HA;return t.updateAll(this),t}}class $A extends Qv{constructor(t){super(t),super.updateProperties({stroke:Lt._defaultLineColor,"stroke-width":1})}clone(){const t=new $A(this._viewParameters);return t.updateAll(this),t}}class Sa extends ge{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Wt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,n){Lt.initialize(t,n),this._defaultDrawingOptions=new HA,this._defaultDrawnSignatureOptions=new $A(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return $t(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const n=t.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:a,areContours:o,description:c,uuid:d,heightInPage:f}=this.#i,{rawDims:{pageWidth:p,pageHeight:m},rotation:y}=this.parent.viewport,b=lu.processDrawnLines({lines:r,pageWidth:p,pageHeight:m,rotation:y,innerMargin:Sa._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(b,f,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:n,thickness:i,width:r,height:a}=this.#i,o=Math.max(r,a),c=lu.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:i,width:r,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,r){const{x:a,y:o}=this,{outline:c}=this.#i=t;this.#t=c instanceof mw,this.description=i;let d;this.#t?d=Sa.getDefaultDrawingOptions():(d=Sa._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,f]=this.pageDimensions;let p=n/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return lu.process(t,n,i,r,Sa._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:r},rotation:a}=this.parent.viewport;return lu.extractContoursFromText(t,n,i,r,a,Sa._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return lu.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:r,innerMargin:Sa._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=Sa.getDefaultDrawingOptions():(this._drawingOptions=Sa._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:n,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":r}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:r});return this.addComment(a),t?(a.paths={lines:n,points:i},a.uuid=this.#n,a.isCopy=!0):a.lines=n,this.#e&&(a.accessibilityData={type:"Figure",alt:this.#e}),a}static deserializeDraw(t,n,i,r,a,o){return o.areContours?mw.deserialize(t,n,i,r,a,o):Cf.deserialize(t,n,i,r,a,o)}static async deserialize(t,n,i){const r=await super.deserialize(t,n,i);return r.#t=t.areContours,r.description=t.accessibilityData?.alt||"",r.#n=t.uuid,r}}class cit extends Lt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Wt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,n){Lt.initialize(t,n)}static isHandlingMimeForPasting(t){return sw.includes(t)}static paste(t,n){n.pasteEditor({mode:Wt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(t,n=!1){if(!t){this.remove();return}this.#t=t.bitmap,n||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#m()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:r,width:a,height:o,channels:r.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),n&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}#g(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(i=>this.#d(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#d(r)).finally(()=>this.#f());return}if(this.#a){const i=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#d(r)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=sw.join(",");const n=this._uiManager._signal;this.#i=new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#g();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;return this._isCopy&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(t,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,n){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,n);n.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#e=i,r&&(this.#t=r),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},t)}#m(){const{div:t}=this;let{width:n,height:i}=this.#t;const[r,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*r,i=this.height*a;else if(n>o*r||i>o*a){const d=Math.min(o*r/n,o*a/i);n*=d,i*=d}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=n/r,this.height=i/a,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,n,i=!1){t||(t=224);const{width:r,height:a}=this.#t,o=new Ra;let c=this.#t,d=r,f=a,p=null;if(n){if(r>n||a>n){const R=Math.min(n/r,n/a);d=Math.floor(r*R),f=Math.floor(a*R)}p=document.createElement("canvas");const y=p.width=Math.ceil(d*o.sx),b=p.height=Math.ceil(f*o.sy);this.#l||(c=this.#u(y,b));const A=p.getContext("2d");A.filter=this._uiManager.hcmFilter;let w="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":Met.isDarkMode&&(w="#8f8f9d",C="#42414d");const O=15,k=O*o.sx,M=O*o.sy,j=new OffscreenCanvas(k*2,M*2),I=j.getContext("2d");I.fillStyle=w,I.fillRect(0,0,k*2,M*2),I.fillStyle=C,I.fillRect(0,0,k,M),I.fillRect(k,M,k,M),A.fillStyle=A.createPattern(j,"repeat"),A.fillRect(0,0,y,b),A.drawImage(c,0,0,c.width,c.height,0,0,y,b)}let m=null;if(i){let y,b;if(o.symmetric&&c.width<t&&c.height<t)y=c.width,b=c.height;else if(c=this.#t,r>t||a>t){const C=Math.min(t/r,t/a);y=Math.floor(r*C),b=Math.floor(a*C),this.#l||(c=this.#u(y,b))}const w=new OffscreenCanvas(y,b).getContext("2d",{willReadFrequently:!0});w.drawImage(c,0,0,c.width,c.height,0,0,y,b),m={width:y,height:b,data:w.getImageData(0,0,y,b).data}}return{canvas:p,width:d,height:f,imageData:m}}#u(t,n){const{width:i,height:r}=this.#t;let a=i,o=r,c=this.#t;for(;a>2*t||o>2*n;){const d=a,f=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const p=new OffscreenCanvas(a,o);p.getContext("2d").drawImage(c,0,0,d,f,0,0,a,o),c=p.transferToImageBitmap()}return c}#p(){const[t,n]=this.parentDimensions,{width:i,height:r}=this,a=new Ra,o=Math.ceil(i*t*a.sx),c=Math.ceil(r*n*a.sy),d=this.#r;if(!d||d.width===o&&d.height===c)return;d.width=o,d.height=c;const f=this.#l?this.#t:this.#u(o,c),p=d.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,o,c)}#v(t){if(t){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#e);if(r)return r}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#t,n.getContext("2d").drawImage(this.#t,0,0),n.toDataURL()}if(this.#l){const[n,i]=this.pageDimensions,r=Math.round(this.width*n*ku.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*ku.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,n,i){let r=null,a=!1;if(t instanceof tB){const{data:{rect:w,rotation:C,id:O,structParent:k,popupRef:M,richText:j,contentsObj:I,creationDate:R,modificationDate:z},container:H,parent:{page:{pageNumber:W}},canvas:et}=t;let Y,q;et?(delete t.canvas,{id:Y,bitmap:q}=i.imageManager.getFromCanvas(H.id,et),et.remove()):(a=!0,t._hasNoCanvas=!0);const yt=(await n._structTree.getAriaAttributes(`${hu}${O}`))?.get("aria-label")||"";r=t={annotationType:Wt.STAMP,bitmapId:Y,bitmap:q,pageIndex:W-1,rect:w.slice(0),rotation:C,annotationElementId:O,id:O,deleted:!1,accessibilityData:{decorative:!1,altText:yt},isSvg:!1,structParent:k,popupRef:M,richText:j,comment:I?.str||null,creationDate:R,modificationDate:z}}const o=await super.deserialize(t,n,i),{rect:c,bitmap:d,bitmapUrl:f,bitmapId:p,isSvg:m,accessibilityData:y}=t;a?(i.addMissingCanvas(t.id,o),o.#o=!0):p&&i.imageManager.isValidId(p)?(o.#e=p,d&&(o.#t=d)):o.#n=f,o.#l=m;const[b,A]=o.pageDimensions;return o.width=(c[2]-c[0])/b,o.height=(c[3]-c[1])/A,y&&(o.altTextData=y),o._initialData=r,t.comment&&o.setCommentData(t),o.#h=!!r,o}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(i),t)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=this.#b(i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(n===null)return i;n.stamps||=new Map;const o=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(this.#e))n.stamps.set(this.#e,{area:o,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const c=n.stamps.get(this.#e);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return i}#b(t){const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,r=t.pageIndex===n,a=(t.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class ps{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Yn,UA,cit,vn,Sa].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:n,div:i,structTreeLayer:r,accessibilityManager:a,annotationLayer:o,drawLayer:c,textLayer:d,viewport:f,l10n:p}){const m=[...ps.#p.values()];if(!ps._initialized){ps._initialized=!0;for(const y of m)y.initialize(p,t)}t.registerEditorTypes(m),this.#u=t,this.pageIndex=n,this.div=i,this.#t=a,this.#i=o,this.viewport=f,this.#d=d,this.drawLayer=c,this._structTree=r,this.#u.addLayer(this)}updatePageIndex(t){this.pageIndex=t}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Wt.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#_(),t){case Wt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Wt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Wt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),t===Wt.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const i of ps.#p.values())n.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#d?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.togglePointerEvents(t)}get#v(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const t=new Set;for(const i of this.#v)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const n=this.#i;if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const r=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:d,timeStamp:f}=a,p=this.#m;if(f-p>500){this.#m=f;return}this.#m=-1;const{classList:m}=this.div;m.toggle("getElements",!0);const y=document.elementsFromPoint(c,d);if(m.toggle("getElements",!1),!this.div.contains(y[0]))return;let b;const A=new RegExp(`^${Gh}[0-9]+$`);for(const C of y)if(A.test(C.id)){b=C.id;break}if(!b)return;const w=this.#s.get(b);w?.annotationElementId===null&&(a.stopPropagation(),a.preventDefault(),w.dblclick(a))},{signal:r,capture:!0})}const t=this.#i,n=[];if(t){const r=new Map,a=new Map;for(const c of this.#v){if(c.disableEditing(),!c.annotationElementId){n.push(c);continue}if(c.serialize()!==null){r.set(c.annotationElementId,c);continue}else a.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const o=t.getEditableAnnotations();for(const c of o){const{id:d}=c.data;if(this.#u.isDeletedAnnotationElement(d)){c.updateEdited({deleted:!0});continue}let f=a.get(d);if(f){f.resetAnnotationElement(c),f.show(!1),c.show();continue}f=r.get(d),f&&(this.#u.addChangedExistingAnnotation(f),f.renderAnnotationElement(c)&&f.show(!1)),c.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of ps.#p.values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(n),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:n}=t;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:i}=Rn.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),vn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:t.x,y:t.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:t}),this.div.addEventListener("pointercancel",n,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:n}=t;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t),Lt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const n=t.render();this.div.append(n),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const n=()=>t._uiManager.rebuild(t),i=()=>{t.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getEditorByUID(t){for(const n of this.#s.values())if(n.uid===t)return n;return null}getNextId(){return this.#u.getId()}get#y(){return ps.#p.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#E(t){const n=this.#y;return n?new n.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,n){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:i,offsetY:r}=this.#A(),a=this.getNextId(),o=this.#E({parent:this,id:a,x:i,y:r,uiManager:this.#u,isCentered:!0,...n});o&&this.add(o)}async deserialize(t){return await ps.#p.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,n,i={}){const r=this.getNextId(),a=this.#E({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:n,...i});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:t,y:n,width:i,height:r}=this.boundingClientRect,a=Math.max(0,t),o=Math.max(0,n),c=Math.min(window.innerWidth,t+i),d=Math.min(window.innerHeight,n+r),f=(a+c)/2-t,p=(o+d)/2-n,[m,y]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:m,offsetY:y}}addNewEditor(t={}){this.createAndAddNewEditor(this.#A(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:n}=Rn.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div||!this.#r||(this.#r=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const i=this.#u.getMode();if(i===Wt.STAMP||i===Wt.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Wt.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:n}=Rn.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div)return;if(this.#r=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const i=this.#u.getActive();this.#e=!i||i.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(t)):null}findNewParent(t,n,i){const r=this.#u.findParent(n,i);return r===null||r===this?!1:(r.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#_(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,ac(this.div,t);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#_();const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,ac(this.div,{rotation:i}),n!==i)for(const r of this.#s.values())r.rotate(i)}get pageDimensions(){const{pageWidth:t,pageHeight:n}=this.viewport.rawDims;return[t,n]}get scale(){return this.#u.viewParameters.realScale}}class ri{#t=null;#e=new Map;#i=new Map;static#n=0;setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const n of this.#e.values())n.remove(),t.append(n);this.#t=t}}static get _svgFactory(){return $t(this,"_svgFactory",new zg)}static#a(t,[n,i,r,a]){const{style:o}=t;o.top=`${100*i}%`,o.left=`${100*n}%`,o.width=`${100*r}%`,o.height=`${100*a}%`}#s(){const t=ri._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,n){const i=ri._svgFactory.createElement("clipPath");t.append(i);const r=`clip_${n}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const a=ri._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),r}#o(t,n){for(const[i,r]of Object.entries(n))r===null?t.removeAttribute(i):t.setAttribute(i,r)}draw(t,n=!1,i=!1){const r=ri.#n++,a=this.#s(),o=ri._svgFactory.createElement("defs");a.append(o);const c=ri._svgFactory.createElement("path");o.append(c);const d=`path_${r}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#i.set(r,c);const f=i?this.#r(o,d):null,p=ri._svgFactory.createElement("use");return a.append(p),p.setAttribute("href",`#${d}`),this.updateProperties(a,t),this.#e.set(r,a),{id:r,clipPathId:`url(#${f})`}}drawOutline(t,n){const i=ri.#n++,r=this.#s(),a=ri._svgFactory.createElement("defs");r.append(a);const o=ri._svgFactory.createElement("path");a.append(o);const c=`path_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(n){const m=ri._svgFactory.createElement("mask");a.append(m),d=`mask_${i}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const y=ri._svgFactory.createElement("rect");m.append(y),y.setAttribute("width","1"),y.setAttribute("height","1"),y.setAttribute("fill","white");const b=ri._svgFactory.createElement("use");m.append(b),b.setAttribute("href",`#${c}`),b.setAttribute("stroke","none"),b.setAttribute("fill","black"),b.setAttribute("fill-rule","nonzero"),b.classList.add("mask")}const f=ri._svgFactory.createElement("use");r.append(f),f.setAttribute("href",`#${c}`),d&&f.setAttribute("mask",`url(#${d})`);const p=f.cloneNode();return r.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(r,t),this.#e.set(i,r),i}finalizeDraw(t,n){this.#i.delete(t),this.updateProperties(t,n)}updateProperties(t,n){if(!n)return;const{root:i,bbox:r,rootClass:a,path:o}=n,c=typeof t=="number"?this.#e.get(t):t;if(c){if(i&&this.#o(c,i),r&&ri.#a(c,r),a){const{classList:d}=c;for(const[f,p]of Object.entries(a))d.toggle(f,p)}if(o){const f=c.firstElementChild.firstElementChild;this.#o(f,o)}}}updateParent(t,n){if(n===this)return;const i=this.#e.get(t);i&&(n.#t.append(i),this.#e.delete(t),n.#e.set(t,i))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:fw};globalThis.pdfjsLib={AbortException:Ro,AnnotationEditorLayer:ps,AnnotationEditorParamsType:oe,AnnotationEditorType:Wt,AnnotationEditorUIManager:Io,AnnotationLayer:FA,AnnotationMode:So,AnnotationType:Tn,applyOpacity:ket,build:znt,ColorPicker:Cr,createValidAbsoluteUrl:wI,CSSConstants:Net,DOMSVGFactory:zg,DrawLayer:ri,FeatureTest:Rn,fetchData:wf,findContrastColor:Det,getDocument:VI,getFilenameFromUrl:Eet,getPdfFilenameFromUrl:Cet,getRGB:Sf,getUuid:SI,getXfaPageViewport:Oet,GlobalWorkerOptions:wu,ImageKind:Dm,InvalidPDFException:rw,isDataScheme:qv,isPdfFile:MA,isValidExplicitDest:Get,MathClamp:oi,noContextMenu:Nr,normalizeUnicode:wet,OPS:qh,OutputScale:Ra,PagesMapper:ve,PasswordResponses:het,PDFDataRangeTransport:WI,PDFDateString:aw,PDFWorker:Wh,PermissionFlag:det,PixelsPerInch:ku,RenderingCancelledException:PA,renderRichText:CI,ResponseException:Ig,setLayerDimensions:ac,shadow:$t,SignatureExtractor:lu,stopEvent:dn,SupportedImageMimeTypes:sw,TextLayer:ir,TouchManager:Vv,updateUrlHash:AI,Util:Ct,VerbosityLevel:Uv,version:Bnt,XfaLayer:EI};const uit="/real-estate-roi-simulator/assets/pdf.worker.min-wgc6bjNh.mjs";wu.workerSrc=uit;const dit=({data:e,pageNumber:t})=>{const[n,i]=P.useState([]),[r,a]=P.useState(!0);return P.useEffect(()=>{(async()=>{if(!e.property.documents||e.property.documents.length===0){a(!1);return}const c=[];for(const d of e.property.documents)try{const f=await lk(d.id);if(!f)continue;if(f.type.startsWith("image/")){const p=URL.createObjectURL(f.data);c.push({id:d.id,name:d.name,src:p})}else if(f.type==="application/pdf"){const p=await f.data.arrayBuffer(),m=await VI({data:p}).promise,y=Math.min(m.numPages,2);for(let b=1;b<=y;b++){const A=await m.getPage(b),w=A.getViewport({scale:1.5}),C=document.createElement("canvas"),O=C.getContext("2d");if(C.height=w.height,C.width=w.width,O){const k={canvasContext:O,viewport:w};await A.render(k).promise,c.push({id:`${d.id}-p${b}`,name:`${d.name} (p.${b})`,src:C.toDataURL("image/jpeg",.8),isPdfPage:!0})}}}}catch(f){console.error(`Failed to load document ${d.name}:`,f)}i(c),a(!1)})()},[e.property.documents]),E.jsxs("div",{className:"w-full h-full p-8 flex flex-col relative print-page-break-before bg-white text-slate-800",children:[E.jsxs("div",{className:"flex justify-between items-end border-b-2 border-slate-800 pb-2 mb-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:""}),E.jsx("p",{className:"text-sm font-medium text-slate-500 mt-1",children:e.title})]}),E.jsxs("div",{className:"text-right",children:[E.jsxs("p",{className:"text-xs text-slate-400",children:[": ",new Date().toLocaleDateString()]}),t&&E.jsxs("p",{className:"text-xs font-bold text-slate-600",children:[t," "]})]})]}),E.jsxs("div",{className:"flex-grow space-y-8",children:[e.property.address&&E.jsxs("div",{className:"break-inside-avoid",children:[E.jsx("h2",{className:"text-lg font-bold border-l-4 border-indigo-600 pl-3 mb-4 bg-indigo-50 py-1",children:""}),E.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden h-96",children:E.jsx(ok,{address:e.property.address,className:"h-full w-full"})}),E.jsxs("p",{className:"text-sm text-slate-600 mt-2 ml-1",children:[" ",e.property.address]})]}),n.length>0&&E.jsx("div",{className:"space-y-6",children:n.map(o=>E.jsxs("div",{className:"break-inside-avoid break-before-page-if-needed",children:[E.jsx("h2",{className:"text-lg font-bold border-l-4 border-slate-600 pl-3 mb-4 bg-slate-50 py-1",children:o.name}),E.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden flex justify-center bg-slate-50 p-4",children:E.jsx("img",{src:o.src,alt:o.name,className:"max-w-full max-h-[800px] object-contain shadow-sm bg-white"})})]},o.id))}),n.length===0&&r&&E.jsx("div",{className:"text-center py-12 text-slate-400",children:E.jsx("p",{children:"..."})})]}),E.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-200",children:[E.jsx("h3",{className:"text-sm font-bold text-slate-700 mb-2",children:""}),E.jsxs("ul",{className:"text-xs text-slate-500 list-disc list-inside space-y-1",children:[E.jsx("li",{children:""}),E.jsx("li",{children:""}),E.jsx("li",{children:""}),E.jsx("li",{children:""})]})]}),E.jsxs("div",{className:"mt-8 pt-4 border-t border-slate-200 flex justify-between items-center text-[10px] text-slate-400",children:[E.jsx("span",{children:""}),E.jsx("span",{children:" 2026 Yashima Co., Ltd. (v1.2)"})]})]})},hit=()=>{const{data:e,updateData:t,updateAdvancedSettings:n,prevStep:i}=Bo(),r=Yr.useRef(null),a=Yr.useRef(null),o=P.useMemo(()=>TA(e),[e]),c=async Z=>{const U=Z.target.files?.[0];if(U){try{const X=await tk(U);t(X),alert("")}catch(X){console.error(X),alert("")}r.current&&(r.current.value="")}},d=async Z=>{const U=Z.target.files?.[0];if(U){try{const X=await ek(U,e);t(X),alert("CSV")}catch(X){console.error(X),alert("CSV")}a.current&&(a.current.value="")}},p=(e.budget.landPrice+e.budget.demolitionCost+e.budget.buildingWorksCost+e.budget.stampDuty+e.budget.registrationTax+e.budget.acquisitionTax+e.budget.fireInsurancePrepaid+e.budget.waterContribution+e.budget.brokerageFee+e.budget.otherInitialCost+e.budget.constructionInterest)*1e4,m=e.rentRoll.roomTypes.reduce((Z,U)=>Z+(U.rent+U.commonFee)*U.count,0),y=e.rentRoll.parkingCount*e.rentRoll.parkingFee,A=(m+y+e.rentRoll.otherRevenue+(e.rentRoll.solarPowerIncome||0))*12,w=A*(e.rentRoll.occupancyRate?(100-e.rentRoll.occupancyRate)/100:.05),C=A-w;let O=0;e.expenses.managementFeeMode==="ratio"?O=C*(e.expenses.managementFeeRatio/100):O=e.expenses.managementFeeFixed*12;const k=e.expenses.buildingMaintenance*12,M=e.expenses.maintenanceReserve*12,j=e.expenses.fixedAssetTaxLand+e.expenses.cityPlanningTaxLand+e.expenses.fixedAssetTaxBuilding+e.expenses.cityPlanningTaxBuilding,I=O+k+M+j+e.expenses.fireInsuranceAnnual+e.expenses.otherExpenses,R=C-I;let z=0;e.funding.loans.forEach(Z=>{const U=Jx(Z.amount*1e4,Z.rate,Z.duration);z+=U*12});const H=R-z,W=p>0?A/p*100:0,et=p>0?R/p*100:0,Y=P.useMemo(()=>OA(e,o),[e,o]),q=e.advancedSettings?.exitCapRate??6,yt=P.useMemo(()=>xI(e.property.structure,e.budget.buildingWorksCost*1e4,e.advancedSettings?.equipmentRatio??.2,e.mode==="investment_used",e.advancedSettings?.buildingAge??0),[e.property.structure,e.budget.buildingWorksCost,e.advancedSettings?.equipmentRatio,e.mode,e.advancedSettings?.buildingAge]),ct=P.useMemo(()=>iet(o,q,e.budget.buildingWorksCost*1e4,e.budget.landPrice*1e4,e.funding.ownCapital*1e4,yt),[o,q,e.budget.buildingWorksCost,e.budget.landPrice,e.funding.ownCapital,yt]),xt=P.useMemo(()=>ret(e),[e]),$=P.useMemo(()=>aet(e),[e]),Q=[0,.5,1,1.5,2],nt=[{name:"",value:O},{name:"BM",value:k},{name:"",value:M},{name:"",value:j},{name:"",value:e.expenses.fireInsuranceAnnual+e.expenses.otherExpenses}],bt=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];return E.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in pb-20",children:[E.jsxs("div",{className:"flex items-center justify-between no-print",children:[E.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:""}),E.jsx("div",{className:"flex gap-2",children:E.jsxs(Qtt,{children:[E.jsx(set,{data:e}),E.jsx(oet,{data:e,kpi:{grossYield:W,netYield:et,beforeTaxCashFlow:H,totalBudgetYen:p}}),E.jsx(cet,{data:e,expenseData:nt}),E.jsx(uet,{projectionData:o}),E.jsx(fN,{projection:o,startYear:1,endYear:20,pageNumber:5}),E.jsx(fN,{projection:o,startYear:21,endYear:35,pageNumber:6}),E.jsx(dit,{data:e,pageNumber:7})]})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[E.jsx(on,{className:"md:col-span-3 border-none bg-white/50 backdrop-blur-sm no-print",children:E.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[E.jsxs("div",{children:[E.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[E.jsx(p3,{className:"h-5 w-5 text-indigo-600"}),""]}),E.jsx("p",{className:"text-sm text-slate-500",children:""})]}),E.jsxs("div",{className:"flex flex-wrap gap-3",children:[E.jsx("input",{type:"file",ref:r,onChange:c,accept:".json",className:"hidden"}),E.jsx("input",{type:"file",ref:a,onChange:d,accept:".csv",className:"hidden"}),E.jsxs(hn,{variant:"outline",onClick:()=>X3(e),className:"flex items-center gap-2 border-indigo-200 text-indigo-700 hover:bg-indigo-50",children:[E.jsx(VN,{className:"h-4 w-4"})," "]}),E.jsxs(hn,{variant:"outline",onClick:()=>r.current?.click(),className:"flex items-center gap-2 border-slate-200",children:[E.jsx(YN,{className:"h-4 w-4"})," "]}),E.jsx("div",{className:"w-px h-8 bg-slate-300 mx-1 hidden md:block"}),E.jsxs(hn,{variant:"outline",onClick:()=>IF(e),className:"flex items-center gap-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[E.jsx(WN,{className:"h-4 w-4"})," CSV"]}),E.jsxs(hn,{variant:"outline",onClick:()=>a.current?.click(),className:"flex items-center gap-2 border-slate-200",children:[E.jsx(r3,{className:"h-4 w-4"})," CSV"]})]})]})}),E.jsx(on,{className:"md:col-span-3 border-emerald-100 !bg-white !bg-none shadow-lg",children:E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-slate-500 text-sm font-bold uppercase",children:""}),E.jsx("p",{className:"text-4xl font-extrabold mt-2 text-indigo-600",children:Ea(W)})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-slate-500 text-sm font-bold uppercase",children:" (NOI)"}),E.jsx("p",{className:"text-4xl font-extrabold mt-2 text-emerald-600",children:Ea(et)})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-slate-500 text-sm font-bold uppercase",children:" (BTCF)"}),E.jsx("p",{className:"text-3xl font-bold mt-2 text-slate-800",children:Ft(H)})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-slate-500 text-sm font-bold uppercase",children:""}),E.jsx("p",{className:"text-3xl font-bold mt-2 text-slate-800",children:Ft(p)})]})]})}),E.jsxs(on,{className:"md:col-span-3 border-blue-100 !bg-gradient-to-r from-slate-50 to-blue-50/30 !bg-none shadow-lg",children:[E.jsxs("h3",{className:"text-sm font-bold text-blue-600 uppercase tracking-wider mb-4 flex items-center gap-2",children:[E.jsx(rb,{className:"h-4 w-4"})," "]}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6 text-center",children:[E.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-blue-100",children:[E.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase",children:"IRR ()"}),E.jsx("p",{className:"text-2xl font-extrabold mt-1 text-indigo-600",children:Y.irr!==null?Ea(Y.irr*100):"N/A"})]}),E.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-blue-100",children:[E.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase",children:"DSCR ()"}),E.jsxs("p",{className:`text-2xl font-extrabold mt-1 ${Y.year1Dscr>=1.2?"text-emerald-600":"text-rose-500"}`,children:[Y.year1Dscr===1/0?"":Y.year1Dscr.toFixed(2),""]})]}),E.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-blue-100",children:[E.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase",children:"CCR ()"}),E.jsx("p",{className:"text-2xl font-extrabold mt-1 text-blue-600",children:Ea(Y.year1Ccr*100)})]}),E.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-blue-100",children:[E.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase",children:""}),E.jsx("p",{className:"text-2xl font-extrabold mt-1 text-amber-600",children:Y.paybackYear?`${Y.paybackYear}`:"35"})]}),E.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-blue-100",children:[E.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase",children:"BER ()"}),E.jsx("p",{className:`text-2xl font-extrabold mt-1 ${Y.ber<=.7?"text-emerald-600":"text-amber-600"}`,children:Ea(Y.ber*100)})]})]})]}),E.jsx(on,{title:"",className:"md:col-span-2",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[E.jsx("span",{className:"text-slate-600",children:""}),E.jsx("span",{className:"text-lg font-bold",children:Ft(A)})]}),E.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[E.jsxs("span",{className:"text-slate-600",children:[" (",100-(e.rentRoll.occupancyRate||100),"%)"]}),E.jsxs("span",{className:"text-red-500 font-medium",children:[" ",Ft(w)]})]}),E.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100 bg-blue-50/50 px-2 -mx-2 rounded",children:[E.jsx("span",{className:"text-blue-900 font-bold",children:" (EGI)"}),E.jsx("span",{className:"text-xl font-bold text-blue-900",children:Ft(C)})]}),E.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100 pl-4 text-sm",children:[E.jsx("span",{className:"text-slate-500",children:" (OPEX)"}),E.jsxs("span",{className:"text-slate-700",children:[" ",Ft(I)]})]}),E.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100 bg-indigo-50/50 px-2 -mx-2 rounded",children:[E.jsx("span",{className:"text-indigo-900 font-bold",children:" (NOI)"}),E.jsx("span",{className:"text-xl font-bold text-indigo-900",children:Ft(R)})]}),E.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-slate-100 pl-4 text-sm",children:[E.jsx("span",{className:"text-slate-500",children:" (ADS)"}),E.jsxs("span",{className:"text-slate-700",children:[" ",Ft(z)]})]}),E.jsxs("div",{className:"flex justify-between items-center py-3 bg-green-50 px-4 -mx-4 rounded-lg mt-2",children:[E.jsx("span",{className:"text-green-900 font-bold text-lg",children:""}),E.jsx("span",{className:"text-2xl font-bold text-green-700",children:Ft(H)})]})]})}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs(on,{title:" (OPEX)",children:[E.jsx("div",{className:"h-64 w-full",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsxs(ew,{children:[E.jsx(Tg,{data:nt,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:nt.map((Z,U)=>E.jsx(ic,{fill:bt[U%bt.length]},`cell-${U}`))}),E.jsx(uh,{formatter:Z=>[Ft(Z||0),""]})]})})}),E.jsx("div",{className:"space-y-2 mt-4",children:nt.map((Z,U)=>E.jsxs("div",{className:"flex justify-between text-xs items-center",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:bt[U%bt.length]}}),E.jsx("span",{className:"text-slate-600",children:Z.name})]}),E.jsx("span",{className:"font-medium",children:Ft(Z.value)})]},U))})]}),E.jsx(on,{title:"",children:E.jsx("div",{className:"h-40 w-full",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsxs(jtt,{data:[{name:"CF",flow:H}],children:[E.jsx(To,{strokeDasharray:"3 3",vertical:!1}),E.jsx(Po,{dataKey:"name",hide:!0}),E.jsx(Mo,{hide:!0}),E.jsx(uh,{formatter:Z=>[Ft(Z||0),""]}),E.jsx(Oo,{dataKey:"flow",fill:"#10b981",radius:[4,4,0,0]})]})})})})]})]}),E.jsxs("div",{className:"space-y-6 mt-12 bg-indigo-50/50 p-6 rounded-2xl border border-indigo-100",children:[E.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[E.jsx(rb,{className:"h-5 w-5 text-indigo-600"})," ()"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[E.jsx(Hx,{label:" ()",value:e.advancedSettings?.rentDeclineRate??1,min:0,max:5,step:.1,onChange:Z=>t({advancedSettings:{...e.advancedSettings,rentDeclineRate:Z}}),unit:"%",description:"1%1%"}),E.jsx(Hx,{label:" ()",value:e.advancedSettings?.vacancyRiseRate??.5,min:0,max:5,step:.1,onChange:Z=>t({advancedSettings:{...e.advancedSettings,vacancyRiseRate:Z}}),unit:"%",description:"0.5%0.5"})]})]}),E.jsxs("div",{className:"space-y-8 mt-12 bg-slate-50 p-6 rounded-2xl border border-slate-200",children:[E.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[E.jsx(Kz,{className:"h-5 w-5 text-indigo-600"})," (35)"]}),E.jsx(on,{title:" ( vs )",className:"bg-white",children:E.jsx("div",{className:"h-80 w-full",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsxs(yI,{data:o,margin:{top:20,right:30,left:60,bottom:5},children:[E.jsx(To,{strokeDasharray:"3 3",vertical:!1}),E.jsx(Po,{dataKey:"year",label:{value:"",position:"insideBottomRight",offset:-5}}),E.jsx(Mo,{tickFormatter:Z=>`${Z/1e4}`,width:80}),E.jsx(uh,{formatter:Z=>Ft(Z||0)}),E.jsx(Kw,{}),E.jsx(Oo,{dataKey:"effectiveIncome",name:"(EGI)",fill:"#818cf8",radius:[4,4,0,0],barSize:20}),E.jsx(Oo,{dataKey:"opex",name:"(OPEX)",stackId:"a",fill:"#f87171"}),E.jsx(Oo,{dataKey:"tmT",name:"(ADS)",stackId:"a",fill:"#fbbf24",radius:[4,4,0,0]}),E.jsx(wA,{type:"monotone",dataKey:"btcf",name:"(BTCF)",stroke:"#10b981",strokeWidth:3,dot:{r:2}})]})})})}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsx(on,{title:"",className:"bg-white",children:E.jsx("div",{className:"h-64 w-full",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsxs(Rg,{data:o,margin:{top:10,right:30,left:60,bottom:0},children:[E.jsx(To,{strokeDasharray:"3 3",vertical:!1}),E.jsx(Po,{dataKey:"year"}),E.jsx(Mo,{tickFormatter:Z=>`${Z/1e4}`}),E.jsx(uh,{formatter:Z=>Ft(Z||0)}),E.jsx(vA,{y:0,stroke:"#666"}),E.jsx($h,{type:"monotone",dataKey:"accumulatedCashFlow",name:"CF",stroke:"#059669",fill:"#10b981",fillOpacity:.2})]})})})}),E.jsx(on,{title:"",className:"bg-white",children:E.jsx("div",{className:"h-64 w-full",children:E.jsx(Oa,{width:"100%",height:"100%",children:E.jsxs(Rg,{data:o,margin:{top:10,right:30,left:60,bottom:0},children:[E.jsx(To,{strokeDasharray:"3 3",vertical:!1}),E.jsx(Po,{dataKey:"year"}),E.jsx(Mo,{tickFormatter:Z=>`${Z/1e4}`}),E.jsx(uh,{formatter:Z=>Ft(Z||0)}),E.jsx($h,{type:"monotone",dataKey:"loanBalance",name:"",stroke:"#6366f1",fill:"#818cf8",fillOpacity:.2})]})})})})]})]}),E.jsxs(on,{className:"!bg-gradient-to-br from-violet-50 to-indigo-50 border-violet-200 shadow-lg no-print",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("h3",{className:"text-lg font-bold text-violet-800 flex items-center gap-2",children:[E.jsx(rb,{className:"h-5 w-5"})," "]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-sm text-violet-600 font-medium",children:"Cap Rate:"}),E.jsx(Hx,{label:"",min:3,max:12,step:.5,value:q,onChange:Z=>n({exitCapRate:Z})}),E.jsxs("span",{className:"text-lg font-bold text-violet-700 w-16",children:[q.toFixed(1),"%"]})]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-violet-600 text-white text-xs uppercase tracking-wider",children:[E.jsx("th",{className:"py-2 px-3 text-center rounded-tl-lg",children:""}),E.jsx("th",{className:"py-2 px-3 text-right",children:""}),E.jsx("th",{className:"py-2 px-3 text-right",children:""}),E.jsx("th",{className:"py-2 px-3 text-right",children:""}),E.jsx("th",{className:"py-2 px-3 text-right",children:""}),E.jsx("th",{className:"py-2 px-3 text-right",children:""}),E.jsx("th",{className:"py-2 px-3 text-right",children:"CF"}),E.jsx("th",{className:"py-2 px-3 text-right",children:""}),E.jsx("th",{className:"py-2 px-3 text-right rounded-tr-lg",children:""})]})}),E.jsx("tbody",{children:ct.map((Z,U)=>E.jsxs("tr",{className:`border-b border-violet-100 ${U%2!==0?"bg-violet-50/50":"bg-white"} ${Z.saleYear===5?"!bg-amber-50 font-semibold":""}`,children:[E.jsxs("td",{className:"py-2 px-3 text-center font-bold text-violet-700",children:[Z.saleYear,"",Z.saleYear<=5?" ":""]}),E.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Ft(Z.salePrice)}),E.jsx("td",{className:"py-2 px-3 text-right font-mono text-slate-500",children:Ft(Z.loanBalanceAtSale)}),E.jsx("td",{className:"py-2 px-3 text-right font-mono text-amber-600",children:Ft(Z.saleExpenses.total)}),E.jsx("td",{className:"py-2 px-3 text-right font-mono text-rose-500",children:Ft(Z.capitalGainsTax)}),E.jsx("td",{className:"py-2 px-3 text-right font-mono font-bold text-blue-700",children:Ft(Z.netSaleProceeds)}),E.jsx("td",{className:"py-2 px-3 text-right font-mono text-slate-600",children:Ft(Z.totalCashflowDuringHolding)}),E.jsx("td",{className:`py-2 px-3 text-right font-mono font-bold ${Z.totalReturn>=0?"text-emerald-600":"text-rose-500"}`,children:Ft(Z.totalReturn)}),E.jsx("td",{className:"py-2 px-3 text-right font-mono font-bold text-indigo-600",children:Ea(Z.annualizedReturn*100)})]},Z.saleYear))})]})}),E.jsxs("div",{className:"mt-3 flex gap-4 text-xs text-violet-500",children:[E.jsx("span",{children:" 5:  39.63%"}),E.jsx("span",{children:" 5:  20.315%"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 no-print",children:[E.jsxs(on,{className:"!bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 shadow-lg",children:[E.jsx("h3",{className:"text-lg font-bold text-blue-800 mb-4",children:" /  / "}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-sm",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b-2 border-blue-200",children:[E.jsx("th",{className:"py-2 px-2 text-left text-slate-500 text-xs",children:""}),xt.map(Z=>E.jsx("th",{className:"py-2 px-2 text-right",style:{color:Z.color},children:E.jsxs("span",{className:"inline-flex items-center gap-1",children:[E.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Z.color}}),Z.label]})},Z.name))]})}),E.jsxs("tbody",{className:"font-mono text-sm",children:[E.jsxs("tr",{className:"border-b border-slate-100",children:[E.jsx("td",{className:"py-2 px-2 text-slate-600",children:"NOI ()"}),xt.map(Z=>E.jsx("td",{className:"py-2 px-2 text-right",children:Ft(Z.year1Noi)},Z.name))]}),E.jsxs("tr",{className:"border-b border-slate-100 bg-blue-50/30",children:[E.jsx("td",{className:"py-2 px-2 text-slate-600",children:"BTCF ()"}),xt.map(Z=>E.jsx("td",{className:"py-2 px-2 text-right",children:Ft(Z.year1Btcf)},Z.name))]}),E.jsxs("tr",{className:"border-b border-slate-100",children:[E.jsx("td",{className:"py-2 px-2 text-slate-600",children:"ATCF ()"}),xt.map(Z=>E.jsx("td",{className:"py-2 px-2 text-right",children:Ft(Z.year1Atcf)},Z.name))]}),E.jsxs("tr",{className:"border-b border-slate-100 bg-blue-50/30",children:[E.jsx("td",{className:"py-2 px-2 text-slate-600",children:"DSCR"}),xt.map(Z=>E.jsxs("td",{className:`py-2 px-2 text-right font-bold ${Z.year1Dscr>=1.2?"text-emerald-600":"text-rose-500"}`,children:[Z.year1Dscr===1/0?"":Z.year1Dscr.toFixed(2),""]},Z.name))]}),E.jsxs("tr",{className:"border-b border-slate-100",children:[E.jsx("td",{className:"py-2 px-2 text-slate-600",children:"IRR ()"}),xt.map(Z=>E.jsx("td",{className:"py-2 px-2 text-right font-bold",style:{color:Z.color},children:Z.irr!==null?Ea(Z.irr*100):"N/A"},Z.name))]}),E.jsxs("tr",{className:"bg-blue-50/30",children:[E.jsx("td",{className:"py-2 px-2 text-slate-600",children:""}),xt.map(Z=>E.jsx("td",{className:"py-2 px-2 text-right font-bold",children:Z.paybackYear?`${Z.paybackYear}`:"35"},Z.name))]})]})]})})]}),E.jsxs(on,{className:"!bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-lg",children:[E.jsx("h3",{className:"text-lg font-bold text-amber-800 mb-2",children:""}),E.jsx("p",{className:"text-xs text-amber-600 mb-3",children:"    IRR"}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-xs border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{className:"py-2 px-2 text-left text-amber-700 text-[10px]",children:" \\ "}),Q.map(Z=>E.jsxs("th",{className:"py-2 px-2 text-center text-amber-700 font-bold",children:[Z,"%"]},Z))]})}),E.jsx("tbody",{children:$.map((Z,U)=>E.jsxs("tr",{children:[E.jsxs("td",{className:"py-1 px-2 text-amber-700 font-bold",children:[Z[0].vacancyRise,"%"]}),Z.map((X,ut)=>{const gt=X.irr,_t=gt!==null?gt*100:-999;let wt="#fef2f2",At="#dc2626";return _t>5?(wt="#dcfce7",At="#16a34a"):_t>3?(wt="#d1fae5",At="#059669"):_t>1?(wt="#fef9c3",At="#ca8a04"):_t>0&&(wt="#ffedd5",At="#ea580c"),E.jsx("td",{className:"py-1.5 px-2 text-center font-mono font-bold rounded-sm",style:{backgroundColor:wt,color:At},children:gt!==null?`${_t.toFixed(1)}%`:"N/A"},ut)})]},U))})]})}),E.jsxs("div",{className:"flex gap-3 mt-3 text-[10px]",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"w-3 h-3 rounded",style:{backgroundColor:"#dcfce7"}})," 5%"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"w-3 h-3 rounded",style:{backgroundColor:"#d1fae5"}})," 3-5%"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"w-3 h-3 rounded",style:{backgroundColor:"#fef9c3"}})," 1-3%"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"w-3 h-3 rounded",style:{backgroundColor:"#ffedd5"}})," 0-1%"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"w-3 h-3 rounded",style:{backgroundColor:"#fef2f2"}})," "]})]})]})]}),E.jsx("div",{className:"flex justify-start pt-6 border-t border-slate-200 no-print",children:E.jsxs(hn,{variant:"ghost",onClick:i,className:"flex items-center gap-2",children:[E.jsx(Kh,{className:"h-4 w-4"}),"  ()"]})}),E.jsxs("div",{className:"mt-8 p-4 bg-slate-50 border border-slate-200 rounded-lg text-xs text-slate-500 space-y-1",children:[E.jsx("p",{className:"font-bold",children:"  "}),E.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-1",children:[E.jsx("li",{children:""}),E.jsx("li",{children:""}),E.jsx("li",{children:""})]}),E.jsx("div",{className:"text-[10px] text-slate-300 text-right mt-2",children:"v1.2"})]})]})},HN=[{id:0,label:"Start"},{id:1,label:""},{id:2,label:""},{id:3,label:""},{id:4,label:""},{id:5,label:""}],fit=()=>{const{activeStep:e,setStep:t,getProgress:n}=Bo(),i=n();return E.jsx("div",{className:"w-full bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-0 z-50 shadow-sm no-print",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Progress"}),E.jsxs("div",{className:"text-xs font-bold text-indigo-600",children:[Ea(i)," Completed"]})]}),E.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden mb-4",children:E.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-emerald-400 transition-all duration-500 ease-out",style:{width:`${i}%`}})}),E.jsx("div",{className:"flex items-center justify-between md:justify-start md:gap-2 overflow-x-auto pb-1 scrollbar-hide",children:HN.map((r,a)=>{const o=e===r.id,c=e>r.id;return E.jsxs("div",{className:"flex items-center",children:[E.jsxs("button",{onClick:()=>t(r.id),className:Su("flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-all whitespace-nowrap",o?"bg-indigo-600 text-white shadow-md":c?"bg-emerald-50 text-emerald-700 hover:bg-emerald-100":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"),children:[E.jsx("div",{className:Su("w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold",o?"bg-white text-indigo-600":c?"bg-emerald-500 text-white":"bg-slate-200 text-slate-500"),children:c?E.jsx(Xz,{className:"w-3 h-3"}):r.id+1}),E.jsx("span",{children:r.label})]}),a<HN.length-1&&E.jsx(Zh,{className:"w-4 h-4 text-slate-300 mx-1 md:mx-2 flex-shrink-0"})]},r.id)})})]})})};function pit(){const{activeStep:e}=Bo(),t=()=>{switch(e){case 0:return E.jsx(iT,{});case 1:return E.jsx(kF,{});case 2:return E.jsx(DF,{});case 3:return E.jsx(jF,{});case 4:return E.jsx(LF,{});case 5:return E.jsx(hit,{});default:return E.jsx(iT,{})}};return E.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 selection:bg-blue-100",children:[E.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-slate-200 h-16 flex items-center justify-between px-6 no-print",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold",children:"Y"}),E.jsx("span",{className:"font-bold text-lg tracking-tight",children:"Yashima ROI Simulator"})]}),E.jsx("div",{className:"hidden md:block w-full max-w-2xl"}),E.jsx("div",{className:"text-sm font-medium text-slate-500",children:"v1.2"})]}),E.jsxs("main",{className:"pt-20 pb-12 min-h-screen",children:[e>0&&E.jsx(fit,{}),E.jsx("div",{className:"container mx-auto px-4 md:px-6 py-8",children:t()})]})]})}Mz.createRoot(document.getElementById("root")).render(E.jsx(Yr.StrictMode,{children:E.jsx(pit,{})}));
